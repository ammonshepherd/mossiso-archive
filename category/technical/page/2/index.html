<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="profile" href="https://gmpg.org/xfn/11">
	<link rel="pingback" href="https://mossiso.com/xmlrpc.php">
	<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Technical &#8211; Page 2 &#8211; Ammon Shepherd</title>
<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='https://stats.wp.com/' />
<link rel='dns-prefetch' href='https://v0.wordpress.com/' />
<link rel="alternate" type="application/rss+xml" title="Ammon Shepherd &raquo; Feed" href="../../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Ammon Shepherd &raquo; Comments Feed" href="../../../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Ammon Shepherd &raquo; Technical Category Feed" href="../../feed/index.html" />
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/mossiso.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.6.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\u2b1b","\ud83d\udc26\u200b\u2b1b")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<link rel='stylesheet' id='twentyfifteen-jetpack-css' href='../../../../wp-content/plugins/jetpack/modules/theme-tools/compat/twentyfifteen.css%3Fver=13.1.3.css' media='all' />
<style id='wp-emoji-styles-inline-css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../../../../wp-includes/css/dist/block-library/style.min.css%3Fver=6.6.1.css' media='all' />
<style id='wp-block-library-inline-css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='wp-block-library-theme-inline-css'>
.wp-block-audio :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio :where(figcaption){color:#ffffffa6}.wp-block-audio{margin:0 0 1em}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed :where(figcaption){color:#ffffffa6}.wp-block-embed{margin:0 0 1em}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:#ffffffa6}:root :where(.wp-block-image figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme :root :where(.wp-block-image figcaption){color:#ffffffa6}.wp-block-image{margin:0 0 1em}.wp-block-pullquote{border-bottom:4px solid;border-top:4px solid;color:currentColor;margin-bottom:1.75em}.wp-block-pullquote cite,.wp-block-pullquote footer,.wp-block-pullquote__citation{color:currentColor;font-size:.8125em;font-style:normal;text-transform:uppercase}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;font-style:normal;position:relative}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote.is-style-plain{border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-search__button{border:1px solid #ccc;padding:.375em .625em}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table{margin:0 0 1em}.wp-block-table td,.wp-block-table th{word-break:normal}.wp-block-table :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table :where(figcaption){color:#ffffffa6}.wp-block-video :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video :where(figcaption){color:#ffffffa6}.wp-block-video{margin:0 0 1em}:root :where(.wp-block-template-part.has-background){margin-bottom:0;margin-top:0;padding:1.25em 2.375em}
</style>
<link rel='stylesheet' id='mediaelement-css' href='../../../../wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css%3Fver=4.2.17.css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css' href='../../../../wp-includes/js/mediaelement/wp-mediaelement.min.css%3Fver=6.6.1.css' media='all' />
<style id='jetpack-sharing-buttons-style-inline-css'>
.jetpack-sharing-buttons__services-list{display:flex;flex-direction:row;flex-wrap:wrap;gap:0;list-style-type:none;margin:5px;padding:0}.jetpack-sharing-buttons__services-list.has-small-icon-size{font-size:12px}.jetpack-sharing-buttons__services-list.has-normal-icon-size{font-size:16px}.jetpack-sharing-buttons__services-list.has-large-icon-size{font-size:24px}.jetpack-sharing-buttons__services-list.has-huge-icon-size{font-size:36px}@media print{.jetpack-sharing-buttons__services-list{display:none!important}}ul.jetpack-sharing-buttons__services-list.has-background{padding:1.25em 2.375em}
</style>
<style id='classic-theme-styles-inline-css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #fff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--dark-gray: #111;--wp--preset--color--light-gray: #f1f1f1;--wp--preset--color--yellow: #f4ca16;--wp--preset--color--dark-brown: #352712;--wp--preset--color--medium-pink: #e53b51;--wp--preset--color--light-pink: #ffe5d1;--wp--preset--color--dark-purple: #2e2256;--wp--preset--color--purple: #674970;--wp--preset--color--blue-gray: #22313f;--wp--preset--color--bright-blue: #55c3dc;--wp--preset--color--light-blue: #e9f2f9;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--gradient--dark-gray-gradient-gradient: linear-gradient(90deg, rgba(17,17,17,1) 0%, rgba(42,42,42,1) 100%);--wp--preset--gradient--light-gray-gradient: linear-gradient(90deg, rgba(241,241,241,1) 0%, rgba(215,215,215,1) 100%);--wp--preset--gradient--white-gradient: linear-gradient(90deg, rgba(255,255,255,1) 0%, rgba(230,230,230,1) 100%);--wp--preset--gradient--yellow-gradient: linear-gradient(90deg, rgba(244,202,22,1) 0%, rgba(205,168,10,1) 100%);--wp--preset--gradient--dark-brown-gradient: linear-gradient(90deg, rgba(53,39,18,1) 0%, rgba(91,67,31,1) 100%);--wp--preset--gradient--medium-pink-gradient: linear-gradient(90deg, rgba(229,59,81,1) 0%, rgba(209,28,51,1) 100%);--wp--preset--gradient--light-pink-gradient: linear-gradient(90deg, rgba(255,229,209,1) 0%, rgba(255,200,158,1) 100%);--wp--preset--gradient--dark-purple-gradient: linear-gradient(90deg, rgba(46,34,86,1) 0%, rgba(66,48,123,1) 100%);--wp--preset--gradient--purple-gradient: linear-gradient(90deg, rgba(103,73,112,1) 0%, rgba(131,93,143,1) 100%);--wp--preset--gradient--blue-gray-gradient: linear-gradient(90deg, rgba(34,49,63,1) 0%, rgba(52,75,96,1) 100%);--wp--preset--gradient--bright-blue-gradient: linear-gradient(90deg, rgba(85,195,220,1) 0%, rgba(43,180,211,1) 100%);--wp--preset--gradient--light-blue-gradient: linear-gradient(90deg, rgba(233,242,249,1) 0%, rgba(193,218,238,1) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='twentyfifteen-fonts-css' href='../../../../wp-content/themes/twentyfifteen/assets/fonts/noto-sans-plus-noto-serif-plus-inconsolata.css%3Fver=20230328.css' media='all' />
<link rel='stylesheet' id='genericons-css' href='../../../../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css%3Fver=3.1.css' media='all' />
<link rel='stylesheet' id='twentyfifteen-style-css' href='../../../../wp-content/themes/twentyfifteen/style.css%3Fver=20231107.css' media='all' />
<link rel='stylesheet' id='twentyfifteen-block-style-css' href='../../../../wp-content/themes/twentyfifteen/css/blocks.css%3Fver=20230623.css' media='all' />
<link rel='stylesheet' id='jetpack_css-css' href='../../../../wp-content/plugins/jetpack/css/jetpack.css%3Fver=13.1.3.css' media='all' />
<link rel='stylesheet' id='sociable3-css' href='../../../../wp-content/plugins/sociable-30/sociable.css%3Fver=5.13.css' media='all' />
<script src="../../../../wp-includes/js/jquery/jquery.min.js%3Fver=3.7.1" id="jquery-core-js"></script>
<script src="../../../../wp-includes/js/jquery/jquery-migrate.min.js%3Fver=3.4.1" id="jquery-migrate-js"></script>
<script id="twentyfifteen-script-js-extra">
var screenReaderText = {"expand":"<span class=\"screen-reader-text\">expand child menu<\/span>","collapse":"<span class=\"screen-reader-text\">collapse child menu<\/span>"};
</script>
<script src="../../../../wp-content/themes/twentyfifteen/js/functions.js%3Fver=20221101" id="twentyfifteen-script-js" defer data-wp-strategy="defer"></script>
<link rel="https://api.w.org/" href="../../../../wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="../../../../wp-json/wp/v2/categories/167" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://mossiso.com/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 6.6.1" />
	<style>img#wpstats{display:none}</style>
		
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="Technical &#8211; Page 2 &#8211; Ammon Shepherd" />
<meta property="og:url" content="https://mossiso.com/category/technical/" />
<meta property="og:description" content="Writings, research, and software code. Everything from my technical sphere of life." />
<meta property="og:site_name" content="Ammon Shepherd" />
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg" />
<meta property="og:image:alt" content="" />
<meta property="og:locale" content="en_US" />

<!-- End Jetpack Open Graph Tags -->
<link rel="icon" href="../../../../wp-content/uploads/2018/12/favicon-96x96.png" sizes="32x32" />
<link rel="icon" href="../../../../wp-content/uploads/2018/12/favicon-96x96.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../../../wp-content/uploads/2018/12/favicon-96x96.png" />
<meta name="msapplication-TileImage" content="https://mossiso.com/wp-content/uploads/2018/12/favicon-96x96.png" />
<style type="text/css" id="wp-custom-css">a {
	color:#BE1E23;
}</style></head>

<body class="archive paged category category-technical category-167 wp-custom-logo wp-embed-responsive paged-2 category-paged-2">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="index.html#content">
		Skip to content	</a>

	<div id="sidebar" class="sidebar">
		<header id="masthead" class="site-header">
			<div class="site-branding">
				<a href="../../../../index.html" class="custom-logo-link" rel="home"><img width="192" height="192" src="../../../../wp-content/uploads/2018/12/android-icon-192x192.png" class="custom-logo" alt="Ammon Shepherd" decoding="async" srcset="https://mossiso.com/wp-content/uploads/2018/12/android-icon-192x192.png 192w, https://mossiso.com/wp-content/uploads/2018/12/android-icon-192x192-150x150.png 150w" sizes="(max-width: 192px) 100vw, 192px" /></a>						<p class="site-title"><a href="../../../../index.html" rel="home">Ammon Shepherd</a></p>
												<p class="site-description">mossiso = more better</p>
										<button class="secondary-toggle">Menu and widgets</button>
			</div><!-- .site-branding -->
		</header><!-- .site-header -->

			<div id="secondary" class="secondary">

					<nav id="site-navigation" class="main-navigation">
				<div class="menu-newmain-container"><ul id="menu-newmain" class="nav-menu"><li id="menu-item-1768" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1768"><a href="../../../../about/index.html">About</a></li>
<li id="menu-item-1766" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1766"><a href="../../../../digital-projects/index.html">Digital Projects</a></li>
<li id="menu-item-1767" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1767"><a href="../../../../courses/index.html">Courses</a></li>
<li id="menu-item-1769" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1769"><a href="https://github.com/ammonshepherd">Code</a></li>
<li id="menu-item-1770" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1770"><a href="../../../../resume/index.html">CV</a></li>
</ul></div>			</nav><!-- .main-navigation -->
		
		
		
	</div><!-- .secondary -->

	</div><!-- .sidebar -->

	<div id="content" class="site-content">

	<section id="primary" class="content-area">
		<main id="main" class="site-main">

		
			<header class="page-header">
				<h1 class="page-title">Category: <span>Technical</span></h1><div class="taxonomy-description"><p>Writings, research, and software code. Everything from my technical sphere of life.</p>
</div>			</header><!-- .page-header -->

			
<article id="post-1518" class="post-1518 post type-post status-publish format-standard has-post-thumbnail hentry category-academic category-history category-humanities category-technical category-technology tag-3d-printing tag-humanities tag-stem">
	
	<a class="post-thumbnail" href="../../../../2013/08/27/3d-printing-in-the-field-of-history/index.html" aria-hidden="true">
		<img width="565" height="510" src="../../../../wp-content/uploads/2013/08/2013-08-27-14.01.37-624x563.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="3D printing in the field of history" decoding="async" fetchpriority="high" srcset="https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.37-624x563.jpg 624w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.37-300x271.jpg 300w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.37-1024x925.jpg 1024w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.37-250x225.jpg 250w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.37-150x135.jpg 150w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.37.jpg 1037w" sizes="(max-width: 565px) 100vw, 565px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../2013/08/27/3d-printing-in-the-field-of-history/index.html" rel="bookmark">3D printing in the field of history</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>I was asked to lead a discussion on the current status of 3D printing in the humanities, particularly the field of history with a great group of fellow PhD students here at GMU during one of their <a href="http://edchnm.gmu.edu/courses/readings804/">classes</a>.</p>
<p>Here is what we came up with.</p>
<p>First of all, 3D printing (in general, but specifically for history) can be summarized by the following formula.</p>
<pre>3D printing for history now = HTML for history in the early 1990's</pre>
<figure id="attachment_1522" aria-describedby="caption-attachment-1522" style="width: 225px" class="wp-caption alignleft"><a href="../../../../wp-content/uploads/2013/08/2013-08-27-14.01.13.jpg"><img decoding="async" class="size-medium wp-image-1522" alt="2013-08-27 14.01.13" src="../../../../wp-content/uploads/2013/08/2013-08-27-14.01.13-225x300.jpg" width="225" height="300" srcset="https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.13-225x300.jpg 225w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.13-768x1024.jpg 768w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.13-250x333.jpg 250w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.13-112x150.jpg 112w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.13-624x832.jpg 624w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.13.jpg 1536w" sizes="(max-width: 225px) 100vw, 225px" /></a><figcaption id="caption-attachment-1522" class="wp-caption-text">A replica of the Antikythera Machine, a 1 BCE clockwork device discovered on a shipwreck near Greece in the early 1900&#8217;s.</figcaption></figure>
<p>There is much that can be done, but using a 3D printer for historical research, study, learning, etc, is still very much in a nascent stage. So the question are, what can be done with 3D printing and how does it help us learn about history? We came up with a few ideas.</p>
<p>First, what can we print with a 3D printer? The limits are just about endless, as long as then are condensed to a 5-inch x 11-inch x 12-inch box.</p>
<p>The bigger question is what do 3D printed objects help us learn about history? Here we had some good ideas. Printing buildings to scale, along with figurines, can help us determine the scale of real life objects. Determining scale can help us analyze why some things are larger than others, for instance monuments. Why would the Lincoln monument be larger than the Jefferson, and what does that say about our views (or the creators views) about the subject? Life size objects can show true size that are often distorted or masked when never seen in person, like the Mona Lisa, for example, which is remarkably small.</p>
<p>Preserving rare, fragile, or expensive artifacts has obvious benefits in that it keeps things from getting lost, broken or stolen. 3D historical prints also put physical objects in the hands of students, especially those who might never have the opportunity to handle a real <a href="http://www.gettysburgaddress.com/HTMLS/Souvenirs-civil-war-relic.html">civil war cannonball</a>, a <a href="http://en.wikipedia.org/wiki/Gladius">Roman sword</a>, a model of the <a href="http://en.wikipedia.org/wiki/Antikythera_mechanism">Antikythera Mechanism</a>, or a <a href="http://www.aurorahistoryboutique.com/Titanic-Museum-Quality-Replica-Ship~GA00028.cfm">scale model of the Titanic</a>. A physical object also offers the additional learning opportunity of tactile feedback over images in a book or on screen.</p>
<figure id="attachment_1519" aria-describedby="caption-attachment-1519" style="width: 300px" class="wp-caption alignright"><a href="../../../../wp-content/uploads/2013/08/2013-08-27-14.01.01.jpg"><img decoding="async" class="size-medium wp-image-1519 " alt="2013-08-27 14.01.01" src="../../../../wp-content/uploads/2013/08/2013-08-27-14.01.01-300x215.jpg" width="300" height="215" srcset="https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.01-300x215.jpg 300w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.01-1024x734.jpg 1024w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.01-250x179.jpg 250w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.01-150x107.jpg 150w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.01-624x447.jpg 624w, https://mossiso.com/wp-content/uploads/2013/08/2013-08-27-14.01.01.jpg 1332w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1519" class="wp-caption-text">Chopstick holder.</figcaption></figure>
<p>3D printing also offers the opportunity to create inventions that may never have made it into production, such as those from <a href="http://patent-able.tumblr.com/">old patents</a>. We even got to look at one, a chop-stick holder from 1967.</p>
<p>Using a 3D printer and associated hardware and software in a history classroom provides yet another opportunity to combine multiple disciplines in an educational atmosphere. Everybody benefits when science, engineering, math, technology and the humanities combine (as was noted about a high school class that built a <a href="http://eric.ed.gov/?id=EJ1002124">trebuchet</a>).</p>
<p>We also talked about the ramifications of 3D printing on the future. Interestingly, similar issues that have voiced throughout history to the introduction of new technology, were also raised during the discussion. What happens when we move production of items back to the individual and away from factories? How do we cope with the replacement of humans by technology?</p>
<p>At present, the cost to own a printer in your home is still a bit much, but definitely within reach. Three different printers range from $800 (the do-it-yourself RepRap) to $2500 (Makerbot Replicator 2), with a middle priced option by Cubify at $1500. Filament, the plastic line used to create objects, costs around $50 a spool.</p>
<p>Items printed:</p>
<p>http://www.thingiverse.com/thing:22849 &#8211; chopstick holder</p>
<p>http://www.thingiverse.com/thing:32413 &#8211; Antikythera machine</p>
<p>Have an idea how 3D printers can be used in education? Add a comment below.</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../2013/08/27/3d-printing-in-the-field-of-history/index.html" rel="bookmark"><time class="entry-date published updated" datetime="2013-08-27T15:27:30-04:00">27 August, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../academic/index.html" rel="category tag">Academic</a>, <a href="../../../academic/history/index.html" rel="category tag">History</a>, <a href="../../../academic/humanities/index.html" rel="category tag">humanities</a>, <a href="../../index.html" rel="category tag">Technical</a>, <a href="../../technology/index.html" rel="category tag">Technology</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/3d-printing/index.html" rel="tag">3d printing</a>, <a href="../../../../tag/humanities/index.html" rel="tag">humanities</a>, <a href="../../../../tag/stem/index.html" rel="tag">stem</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1518 -->

<article id="post-1479" class="post-1479 post type-post status-publish format-standard has-post-thumbnail hentry category-systems-administration-technical category-technical category-wordpress tag-firewall tag-iptables tag-ossec tag-shorewall tag-systems-administration tag-wordpress">
	
	<a class="post-thumbnail" href="../../../../ossec-suhosin-and-wordpress/index.html" aria-hidden="true">
		<img width="624" height="468" src="../../../../wp-content/uploads/2013/06/Access_Denied_-_geograph.org_.uk_-_1197284-624x468.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="OSSEC, Suhosin, and WordPress" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2013/06/Access_Denied_-_geograph.org_.uk_-_1197284-624x468.jpg 624w, https://mossiso.com/wp-content/uploads/2013/06/Access_Denied_-_geograph.org_.uk_-_1197284-300x225.jpg 300w, https://mossiso.com/wp-content/uploads/2013/06/Access_Denied_-_geograph.org_.uk_-_1197284-250x187.jpg 250w, https://mossiso.com/wp-content/uploads/2013/06/Access_Denied_-_geograph.org_.uk_-_1197284-150x112.jpg 150w, https://mossiso.com/wp-content/uploads/2013/06/Access_Denied_-_geograph.org_.uk_-_1197284.jpg 640w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../ossec-suhosin-and-wordpress/index.html" rel="bookmark">OSSEC, Suhosin, and WordPress</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>I had a problem show up on some of our servers. Visiting sites would work fine, but as soon as you log in to a WordPress site, then your IP was blocked at the firewall level. It took a bit of hunting around the OSSEC logs to figure out the cause, and then finally <a href="https://www.atomicorp.com/forum/viewtopic.php?f=3&amp;t=5612" target="_blank">tipped off</a> to a local rule to combat the blockage. I outline the process of figuring out what was wrong, and how to fix it below.</p>
<h2>DENIED!</h2>
<p><a href="../../../../wp-content/uploads/2013/06/gareth-davies-logo3.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1493 alignright" src="../../../../wp-content/uploads/2013/06/gareth-davies-logo3-300x62.png" alt="gareth-davies-logo3" width="300" height="62" srcset="https://mossiso.com/wp-content/uploads/2013/06/gareth-davies-logo3-300x62.png 300w, https://mossiso.com/wp-content/uploads/2013/06/gareth-davies-logo3-250x52.png 250w, https://mossiso.com/wp-content/uploads/2013/06/gareth-davies-logo3-150x31.png 150w, https://mossiso.com/wp-content/uploads/2013/06/gareth-davies-logo3.png 430w" sizes="(max-width: 300px) 100vw, 300px" /></a>So initially, this was quite confusing. All of a sudden people would have their IP blocked. I checked the different sites, and seemed to have no problem. Then when I logged in to the back end, BAM, blocked as well. We have <a href="http://shorewall.net">Shorewall</a> running, so doing:</p>
<pre class="lang:sh decode:true">shorewall show dynamic</pre>
<p>Showed all of the IPs that Shorewall had blocked. This could also be done by using iptables</p>
<pre class="lang:sh decode:true">iptables -nL --line-numbers</pre>
<p>Sure enough, my IP had been blocked. I unblocked my IP with:</p>
<pre class="lang:sh decode:true">shorewall allow ip.ad.dr.es</pre>
<p>Or could also do</p>
<pre class="lang:sh decode:true">iptables -D INPUT 2</pre>
<p>where INPUT is the position or section of the firewall chain, and &#8220;2&#8221; is the line number containing my IP address.</p>
<p>Then I checked with other web applications on that server. Where they also causing an issue? I logged in to an Omeka install. No problems.</p>
<h2>FOUND IT!</h2>
<p><a href="../../../../wp-content/uploads/2013/06/ossec_logo.png"><img loading="lazy" decoding="async" class="alignleft size-full wp-image-1494" src="../../../../wp-content/uploads/2013/06/ossec_logo.png" alt="ossec_logo" width="191" height="67" srcset="https://mossiso.com/wp-content/uploads/2013/06/ossec_logo.png 191w, https://mossiso.com/wp-content/uploads/2013/06/ossec_logo-150x52.png 150w" sizes="(max-width: 191px) 100vw, 191px" /></a>OK. I know <a href="http://ossec.net">OSSEC</a> is to blame some how. It&#8217;s an awesome HIDS (Host Intrusion Detection Software) that actively responds to issues on the server based on scanning through the system logs and various rules.</p>
<p>OSSEC keeps itself chroot&#8217;ed to /var/ossec/, so all of the ossec logs are located in /var/ossec/logs/.</p>
<p>I first looked in the /var/ossec/logs/active-responses.log. Sure enough, a couple of lines like this show my IP being completely blocked to the server.</p>
<pre class="lang:vim decode:true">Fri Jun 14 06:50:47 EDT 2013 /var/ossec/active-response/bin/host-deny.sh add - XXX.XX.XX.XX 1371207047.5913585 20101
Fri Jun 14 06:50:47 EDT 2013 /var/ossec/active-response/bin/firewall-drop.sh add - XXX.XX.XX.XX 1371207047.5913585 20101
</pre>
<p><span style="line-height: 1.714285714; font-size: 1rem;">So, there we are. OSSEC blocking the IP for some reason. Now why is it blocking the IP?</span></p>
<p>Taking a look in the /var/ossec/logs/alerts/alerts.log file to see why it thinks it needs to block the IP&#8230;</p>
<pre class="lang:sh decode:true">** Alert 1371206381.5698606: - ids,
2013 Jun 14 06:39:41 (server1) 127.0.0.1-&gt;/var/log/messages
Rule: 20101 (level 6) -&gt; 'IDS event.'
Src IP: XXX.XX.XX.XX
Jun 14 06:39:40 server1 suhosin[18563]: ALERT - script tried to increase memory_limit to 268435456 bytes which is above the allowed value (attacker 'XXX.XX.XX.XX', file '/var/html/wp-admin/admin.php', line 109)</pre>
<p>There were other lines in there with my IP, but nothing would/should have caused blocking, like a WordPress login event, or an SSH login event. Also, the error above is categorized as an IDS event with level 6, which by default OSSEC rules means it gets blocked.</p>
<h2>HOW TO FIX IT!</h2>
<p>As a quick fix, I changed the &#8220;suhosin.memory_limit&#8221; option in /etc/php.d/suhosin.ini to 256M, and the &#8220;memory_limit&#8221; in /etc/php.ini to 256M so that no error would be generated.</p>
<p>Now came the hard part of finding out how to fix it for real. OSSEC is a pretty big beast to tackle, so I turned to my friendly web search engine to help out.</p>
<p>To fix the issue, I would need to write a decoder or new rule to ignore the suhosin rule causing the problem. OSSEC has descent documentation to get you started, but fortunately the blog linked above had the solution already. <a href="https://www.atomicorp.com/forum/viewtopic.php?f=3&amp;t=5612">https://www.atomicorp.com/forum/viewtopic.php?f=3&amp;t=5612</a></p>
<p>From user &#8216;faris&#8217; in the forum linked above:</p>
<p>Add the following lines the the /var/ossec/etc/rules.d/local_rules.xml file.<br />
<b></b></p>
<pre class="lang:xhtml decode:true ">&lt;group name="local,ids,"&gt;
  &lt;!-- First Time Suhosin event rule --&gt;
  &lt;rule id="101006" level="14"&gt;
    &lt;if_sid&gt;20100&lt;/if_sid&gt;
    &lt;decoded_as&gt;suhosin&lt;/decoded_as&gt;
    &lt;description&gt;First Time Suhosin Event&lt;/description&gt;
  &lt;/rule&gt;
  &lt;!-- Generic Suhosin event rule --&gt;
  &lt;rule id="101007" level="12"&gt;
    &lt;if_sid&gt;20101&lt;/if_sid&gt;
    &lt;decoded_as&gt;suhosin&lt;/decoded_as&gt;
    &lt;description&gt;Suhosin Event&lt;/description&gt;
  &lt;/rule&gt;
  &lt;!-- Specific Suhosin event rule --&gt;
  &lt;rule id="101008" level="5"&gt;
    &lt;if_sid&gt;101006,101007&lt;/if_sid&gt;
    &lt;match&gt;script tried to increase memory&lt;/match&gt;
    &lt;description&gt;Suhosin Memory Increase Event&lt;/description&gt;
  &lt;/rule&gt;
&lt;/group&gt;
</pre>
<p><span style="line-height: 1.714285714; font-size: 1rem;">What these new rules do is change the level of the default rules that were tagged/decoded as being suhosin errors. In the first rule, if the default error is 20100, and is decoded (or tagged, or matches) as suhosin, then set the level to 14 instead of the default 8.</span></p>
<p>The second rule detects if the default error 20101 is decoded as coming from suhosin and sets the level to 12 instead of the default 6.</p>
<p>The third new rule looks at any error tagged as suhosin and if the error has the matching text in it, then it sets the error level to 5 (below the limit for firing an active response).</p>
<p>So, just add that group of rules to the local_rules.xml file and restart the OSSEC service. BA-DA-BING! no more blocking the IP when logging in to WordPress.</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../ossec-suhosin-and-wordpress/index.html" rel="bookmark"><time class="entry-date published" datetime="2013-06-14T12:41:53-04:00">14 June, 2013</time><time class="updated" datetime="2014-09-22T14:36:14-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../systems-administration-technical/index.html" rel="category tag">Systems Administration</a>, <a href="../../index.html" rel="category tag">Technical</a>, <a href="../../coding/wordpress/index.html" rel="category tag">wordpress</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/firewall/index.html" rel="tag">firewall</a>, <a href="../../../../tag/iptables/index.html" rel="tag">iptables</a>, <a href="../../../../tag/ossec/index.html" rel="tag">ossec</a>, <a href="../../../../tag/shorewall/index.html" rel="tag">shorewall</a>, <a href="../../../../tag/systems-administration/index.html" rel="tag">systems administration</a>, <a href="../../../../tag/wordpress/index.html" rel="tag">wordpress</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1479 -->

<article id="post-1454" class="post-1454 post type-post status-publish format-standard has-post-thumbnail hentry category-howto category-technical category-websites">
	
	<a class="post-thumbnail" href="../../../../2013/02/20/four-steps-to-a-personal-website/index.html" aria-hidden="true">
		<img width="624" height="378" src="../../../../wp-content/uploads/2013/02/Screen-Shot-2013-02-20-at-12.41.41-PM-624x378.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Four Steps to a Personal Website" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2013/02/Screen-Shot-2013-02-20-at-12.41.41-PM-624x378.png 624w, https://mossiso.com/wp-content/uploads/2013/02/Screen-Shot-2013-02-20-at-12.41.41-PM-300x182.png 300w, https://mossiso.com/wp-content/uploads/2013/02/Screen-Shot-2013-02-20-at-12.41.41-PM-1024x621.png 1024w, https://mossiso.com/wp-content/uploads/2013/02/Screen-Shot-2013-02-20-at-12.41.41-PM-250x151.png 250w, https://mossiso.com/wp-content/uploads/2013/02/Screen-Shot-2013-02-20-at-12.41.41-PM-150x91.png 150w, https://mossiso.com/wp-content/uploads/2013/02/Screen-Shot-2013-02-20-at-12.41.41-PM.png 1089w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../2013/02/20/four-steps-to-a-personal-website/index.html" rel="bookmark">Four Steps to a Personal Website</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>There are four basic steps to creating a personal website.</p>
<h3>1. Content</h3>
<p>You may want to start out with a cool design, or fun idea on how to interact with visitors, or what have you. But really, the most important thing a website has going for it is the content. Design is a close second (but we&#8217;ll talk about that last), because people tend to shy away from &#8220;ugly&#8221; sites. But they won&#8217;t even go in the first place if the content isn&#8217;t relevant.</p>
<p>You&#8217;ll need to ask yourself a few questions to get an idea of what kind of website you need. The answers will even help define the design, and determine the platform, or website technology, that you use.</p>
<ul>
<li>What information do you want to share?</li>
<li>Why do you want to make a website?</li>
<li>Do you want conversations to take place on your website?</li>
<li>Do you want a blog, a simple website with information about you or a topic, or something else?</li>
</ul>
<h3>2. Domain Name</h3>
<p>All computers on the Internet or World Wide Web have a unique number associated with them, called an IP (Internet Protocol) Address. Kind of like a Social Security Number. In order to get data from a server (a computer that &#8220;serves&#8221; content, either data, websites, videos, pictures, etc), you would need to type in the specific number into your web browser. IP Addresses are in the format XXX.XXX.XXX.XXX. If you connect to the Internet at home, you might see your laptop get an IP Address like 192.168.1.20.</p>
<p>Since humans remember letters and words better than numbers, there is a system set up to translate words into the IP Address for a server. It is kind of like the old fashioned telephone directory. You can remember the telephone number to a person&#8217;s house, or look up the person in the phone directory to get their number. This also allows for multiple names to be pointed at one IP Address, like multiple people living in oneÂ  house, sharing a phone number.</p>
<p>This set of characters or words is called a domain name. A domain name allows for an almost unlimited number of unique identifiers to point to a limited number of IP Addresses. The domain name plays an important role in search engine rankings. If this is your personal site, try to get your name, or part of it, as the domain name. It can be all you need for &#8220;brand&#8221; identification.</p>
<p>Shop around before you buy a domain name. There are plenty of options out there, just do a <a href="https://www.google.com/#hl=en&amp;output=search&amp;sclient=psy-ab&amp;q=domain+registra">search for domain registrar</a>. Often a hosting provider will sell domain names as well. As of this writing, you should be able to get a domain name for around $10-$11 a year. Make sure the registrar includes DNS management.</p>
<p>.org, .net, .com, .info, .us, &#8230; What type of domain name should you buy? There are 19 top level domains (TLDs the very last part of a domain name, the part followed by the last period), and over 250 country code top-level domains (.us, .me, .de, .uk, etc.) That depends on a few things, the most important being, which one is available. Generally, .com and .org are the most sought after. Here is a list of the top-level domains and their intended purposes (from <a href="http://en.wikipedia.org/wiki/List_of_Internet_top-level_domains">Wikipedia</a>).</p>
<table>
<tbody>
<tr valign="top">
<td><a title=".com" href="http://en.wikipedia.org/wiki/.com">.com</a></td>
<td>commercial</td>
<td>This is an open TLD; any person or entity is permitted to register. Though originally intended for use by for-profit business entities, for a number of reasons it became the &#8220;main&#8221; TLD for domain names and is currently used by all types of entities including nonprofits, schools and private individuals. Domain name registrations may be challenged if the holder cannot prove an outside relation justifying reservation of the name, to prevent &#8220;<a title="Cybersquatting" href="http://en.wikipedia.org/wiki/Cybersquatting">squatting</a>&#8220;.</td>
</tr>
<tr valign="top">
<td><a title=".info" href="http://en.wikipedia.org/wiki/.info">.info</a></td>
<td>information</td>
<td>This is an open TLD; any person or entity is permitted to register.</td>
</tr>
<tr valign="top">
<td><a title=".name" href="http://en.wikipedia.org/wiki/.name">.name</a></td>
<td>individuals, by name</td>
<td>This is an open TLD; any person or entity is permitted to register; however, registrations may be challenged later if they are not by individuals (or the owners of fictional characters) in accordance with the domain&#8217;s charter.</td>
</tr>
<tr valign="top">
<td><a title=".net" href="http://en.wikipedia.org/wiki/.net">.net</a></td>
<td>network</td>
<td>This is an open TLD; any person or entity is permitted to register. Originally intended for use by domains pointing to a distributed network of computers, or &#8220;umbrella&#8221; sites that act as the portal to a set of smaller websites.</td>
</tr>
<tr valign="top">
<td><a title=".org" href="http://en.wikipedia.org/wiki/.org">.org</a></td>
<td>organization</td>
<td>This is an open TLD; any person or entity is permitted to register. Originally intended for use by non-profit organizations, and still primarily used by some.</td>
</tr>
</tbody>
</table>
<p>Country code top-level domains can be used as well, often to create <a href="http://en.wikipedia.org/wiki/Domain_hack#Examples_of_domain_hacks_in_different_languages">clever domain names</a> (called domain hacks) like del.icio.us, bit.ly, instagr.am, pep.si, and redd.it.</p>
<p>&nbsp;</p>
<figure id="attachment_1459" aria-describedby="caption-attachment-1459" style="width: 150px" class="wp-caption alignnone"><img loading="lazy" decoding="async" class="size-thumbnail wp-image-1459 " src="../../../../wp-content/uploads/2013/02/4847678335_a92fe09dee-150x150.jpg" alt="source, creative commons search on flickr.com" width="150" height="150" /><figcaption id="caption-attachment-1459" class="wp-caption-text">source, creative commons search on flickr.com</figcaption></figure>
<h3>3. Hosting</h3>
<p>A hosting provider is the company that owns the servers where your website lives. There are many free options. Look for a hosting provider that offers &#8220;easy&#8221; installations of common software like WordPress, Drupal, etc.</p>
<ul>
<li><a href="http://wordpress.com">wordpress.com</a></li>
<li><a href="http://omeka.net">omeka.net</a></li>
<li><a href="http://weebly.com">weebly.com</a></li>
<li>list of 40 free blog hosts: mashable.com/2007/08/06/free-blog-hosts</li>
<li><a href="http://en.wikipedia.org/wiki/Comparison_of_free_web_hosting_services">Wikipedia: Comparison of free web hosting services</a></li>
</ul>
<p>Paid options:</p>
<p>You can find a hosting provider from anywhere between $5/month to $100/month.</p>
<ul>
<li><a href="http://hostgator.com">hostgator.com</a></li>
<li><a href="http://dreamhost.com/">dreamhost.com</a></li>
<li><a href="http://mediatemple.net/">mediatemple.net</a></li>
</ul>
<figure id="attachment_1458" aria-describedby="caption-attachment-1458" style="width: 150px" class="wp-caption alignnone"><img loading="lazy" decoding="async" class="size-thumbnail wp-image-1458" src="../../../../wp-content/uploads/2013/02/5818096043_d6e6ba27d5_n-150x150.jpg" alt="source: creative commons search on flickr.com" width="150" height="150" /><figcaption id="caption-attachment-1458" class="wp-caption-text">source: creative commons search on flickr.com</figcaption></figure>
<h3>4. Design</h3>
<p>Independent on the platform you choose, there are usually thousands of free themes available for easy download and install. When you pick a platform, look on their site for places to find free themes.</p>
<p>Designing a website takes lots of work to make it look nice. The better the design, the more resources are needed (be they time, or money).</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../2013/02/20/four-steps-to-a-personal-website/index.html" rel="bookmark"><time class="entry-date published" datetime="2013-02-20T11:56:59-05:00">20 February, 2013</time><time class="updated" datetime="2014-06-19T14:14:38-04:00">19 June, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../howto/index.html" rel="category tag">HowTo</a>, <a href="../../index.html" rel="category tag">Technical</a>, <a href="../../websites/index.html" rel="category tag">Websites</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1454 -->

<article id="post-1438" class="post-1438 post type-post status-publish format-standard has-post-thumbnail hentry category-howto category-setting-up-a-hosting-environment category-technical tag-cluster tag-gfs2 tag-lvm tag-redhat tag-servers">
	
	<a class="post-thumbnail" href="../../../../setting-up-a-hosting-environment-part-3-redhat-cluster-and-gfs2/index.html" aria-hidden="true">
		<img width="600" height="250" src="../../../../wp-content/uploads/2013/02/redhat-cluster-gfs2.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Setting up a Hosting Environment, Part 3: RedHat Cluster and GFS2" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2013/02/redhat-cluster-gfs2.jpg 600w, https://mossiso.com/wp-content/uploads/2013/02/redhat-cluster-gfs2-300x125.jpg 300w, https://mossiso.com/wp-content/uploads/2013/02/redhat-cluster-gfs2-250x104.jpg 250w, https://mossiso.com/wp-content/uploads/2013/02/redhat-cluster-gfs2-150x62.jpg 150w" sizes="(max-width: 600px) 100vw, 600px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../setting-up-a-hosting-environment-part-3-redhat-cluster-and-gfs2/index.html" rel="bookmark">Setting up a Hosting Environment, Part 3: RedHat Cluster and GFS2</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Previous posts in this series:</p>
<p><a title="Setting up a Hosting Environment: Part 1 â The servers" href="http://mossiso.com/2012/03/01/setting-up-a-hosting-environment-part-1-the-servers.html">Part 1: Setting up the servers</a></p>
<p><a title="Setting up a Hosting Environment â Part 2: Connecting the Storage Array" href="http://mossiso.com/2012/03/09/setting-up-a-hosting-environment-part-2-connecting-the-storage-array.html">Part 2: Connecting the Array</a></p>
<h2>RedHat Cluster and GFS2 Setup</h2>
<ul>
<li>Required reading: <a href="https://alteeve.com/w/2-Node_Red_Hat_KVM_Cluster_Tutorial">https://alteeve.com/w/2-Node_Red_Hat_KVM_Cluster_Tutorial</a> Seriously. Don&#8217;t do anything until you read his tutorial a couple of times. Might as well read a bunch of his other tutorials, too.</li>
<li>Unless mentioned, the following commands should be done on each server.</li>
</ul>
<h3>Set date/time to be accurate and within a few minutes of each other.</h3>
<ul>
<li>Install the ntp program and update to current time.
<ul>
<li><code>yum install ntp</code></li>
<li><code>ntpdate time.nist.gov</code></li>
</ul>
</li>
<li>Set time servers and start ntpd
<ul>
<li><code>service ntpd start</code></li>
<li>Edit the <code>/etc/ntp.conf</code> file to use the following servers:</li>
<li>
<pre>server 0.pool.ntp.org
server 1.pool.ntp.org
server 2.pool.ntp.org
server 3.pool.ntp.org</pre>
</li>
</ul>
</li>
<li>Restart ntpd
<ul>
<li><code>service ntpd restart</code></li>
<li><code>chkconfig ntpd on</code></li>
</ul>
</li>
</ul>
<h3>Cluster setup</h3>
<p>RedHat Cluster must be set up before the GFS2 File systems can be created and mounted.</p>
<ul>
<li>Instal the necessary programs
<ul>
<li><code>yum install openais cman rgmanager lvm2-cluster gfs2-utils ccs</code></li>
<li>Create a <code>/etc/cluster/cluster.conf</code> REMEMBER: Always increment the âconfig_versionâ parameter in the <code>cluster</code> tag!
<ul>
<li>
<div>
<pre class="decode-attributes:false lang:xhtml decode:true">&lt;?xml version=â1.0â?&gt;
    &lt;cluster config_version=â24â name=âweb-productionâ&gt;
        &lt;cman expected_votes=â1â two_node=â1â/&gt;
        &lt;fence_daemon clean_start=â1â post_fail_delay=â6â post_join_delay=â3â/&gt;
        &lt;totem rrp_mode=ânoneâ secauth=âoffâ/&gt;
        &lt;clusternodes&gt;
            &lt;clusternode name=âbillâ nodeid="1"&gt;
                &lt;fence&gt;
                    &lt;method name="ipmi"&gt;
                        &lt;device action=ârebootâ name=âipmi_billâ/&gt;
                    &lt;/method&gt;
                &lt;/fence&gt;
            &lt;/clusternode&gt;
            &lt;clusternode name=âtedâ nodeid="2"&gt;
                &lt;fence&gt;
                    &lt;method name="ipmi"&gt;
                        &lt;device action=ârebootâ name=âipmi_tedâ/&gt;
                    &lt;/method&gt;
                &lt;/fence&gt;
            &lt;/clusternode&gt;
        &lt;/clusternodes&gt;
        &lt;fencedevices&gt;
            &lt;fencedevice agent=âfence_ipmilanâ ipaddr=âbillspâ login=ârootâ name=âipmi_billâ passwd=âPASSWORD-HEREâ/&gt;
            &lt;fencedevice agent=âfence_ipmilanâ ipaddr=âtedspâ login=ârootâ name=âipmi_tedâ passwd=âPASSWORD-HEREâ/&gt;
        &lt;/fencedevices&gt;
        &lt;rm log_level="5"&gt;
            &lt;resources&gt;
                &lt;clusterfs device=â/dev/mapper/StorageTek2530-sitesâ fstype=âgfs2â mountpoint=â/sitesâ name=âsitesâ/&gt;
                &lt;clusterfs device=â/dev/mapper/StorageTek2530-databasesâ fstype=âgfs2â mountpoint=â/databasesâ name=âdatabasesâ/&gt;
                &lt;clusterfs device=â/dev/mapper/StorageTek2530-logsâ fstype=âgfs2â mountpoint=â/logsâ name=âlogsâ/&gt;
            &lt;/resources&gt;
            &lt;failoverdomains&gt;
                &lt;failoverdomain name=âbill-onlyâ nofailback=â1â ordered=â0â restricted="1"&gt;
                    &lt;failoverdomainnode name=âbillâ/&gt;
                &lt;/failoverdomain&gt;
                &lt;failoverdomain name=âted-onlyâ nofailback=â1â ordered=â0â restricted="1"&gt;
                    &lt;failoverdomainnode name=âtedâ/&gt;
                &lt;/failoverdomain&gt;
            &lt;/failoverdomains&gt;
        &lt;/rm&gt;
    &lt;/cluster&gt;</pre>
</div>
</li>
</ul>
</li>
<li>Weâll be adding more to this later, but this will work for now.</li>
<li>Validate the config file
<ul>
<li><code>ccs_config_validate</code></li>
</ul>
</li>
<li>Set a password for the ricci user
<ul>
<li><code>passwd ricci</code></li>
</ul>
</li>
<li>Start ricci, and set to start on boot
<ul>
<li><code>service ricci start</code></li>
<li><code>chkconfig ricci on</code></li>
</ul>
</li>
<li>Start modclusterd and set to start on boot
<ul>
<li><code>service modclusterd start</code></li>
<li><code>chkconfig modclusterd on</code></li>
</ul>
</li>
<li>Sync the cluster.conf file to other node
<ul>
<li><code>ccs -f /etc/cluster/cluster.conf -h ted --setconf</code></li>
</ul>
</li>
<li>Start cman on both servers at the same time
<ul>
<li><code>service cman start</code></li>
</ul>
</li>
<li>Set cman to start on boot
<ul>
<li><code>chkconfig cman on</code></li>
</ul>
</li>
</ul>
</li>
<li>Check the tutorial on testing the fencing
<ul>
<li><a href="https://alteeve.com/w/2-Node_Red_Hat_KVM_Cluster_Tutorial#Testing_Fencing">https://alteeve.com/w/2-Node_Red_Hat_KVM_Cluster_Tutorial#Testing_Fencing</a></li>
</ul>
</li>
</ul>
<h3>Create GFS2 partitions</h3>
<p>Create a partition on the new scsi device /dev/mapper/mpatha using parted. NOTE: This part only needs to be done once on one server</p>
<ul>
<li><code>parted /dev/mapper/mpatha</code></li>
<li><code>mklabel gpt</code></li>
<li><code>mkpart primary 1 -1</code></li>
<li><code>set 1 lvm on</code></li>
<li><code>quit</code></li>
<li>Now you can see a partition for the storage array.
<ul>
<li><code>parted -l</code></li>
</ul>
</li>
</ul>
<p>Edit the <code>/etc/lvm/lvm.conf file</code> and set the value for <code>locking_type = 3</code> to allow for cluster locking.</p>
<p>In order to enable the LVM volumes you are creating in a cluster, the cluster infrastructure must be running and the cluster must be quorate.</p>
<ul>
<li><code>service clvmd start</code></li>
<li><code>chkconfig clvmd on</code></li>
<li><code>chkconfig gfs2 on</code></li>
</ul>
<p>Create LVM partitions on the raw drive available from the StorageTek. NOTE: This part only needs to be done once on one server.</p>
<ul>
<li><code>pvcreate /dev/mapper/mpatha1</code></li>
<li><code>vgcreate -c y StorageTek2530 /dev/mapper/mpatha1</code></li>
</ul>
<p>Now create the different partitions for the system: sites, databases, logs, home, root</p>
<ul>
<li><code>lvcreate --name sites --size 350GB StorageTek2530</code></li>
<li><code>lvcreate --name databases --size 100GB StorageTek2530</code></li>
<li><code>lvcreate --name logs --size 50GB StorageTek2530</code></li>
<li><code>lvcreate --name root --size 50GB StorageTek2530</code></li>
</ul>
<p>Make a temporary directory <code>/root-b</code> and copy everything from rootâs home directory to there, because it will be erased when we make the GFS2 file system.</p>
<p>Copy /root/.ssh/known_hosts to /etc/ssh/root_known_hosts so the file is different for both servers.</p>
<p>Before doing the home directory, we have to remove it from the local LVM.</p>
<ul>
<li><code>unmount /home</code></li>
<li><code>lvremove bill_local/home</code> and on ted <code>lvremove ted_local/home</code></li>
<li>Remove the line from <code>/etc/fstab</code> referring to the /home directory on the local LVM</li>
<li>Then add the clustered LV.
<ul>
<li><code>lvcreate --name home --size 50GB StorageTek2530</code></li>
</ul>
</li>
</ul>
<p>Create GFS2 files systems on the LVM partitions created on the StorageTek. Make sure they are unmounted, first. NOTE: This part only needs to be done once on one server.</p>
<ul>
<li><code>mkfs.gfs2 -p lock_dlm -j 2 -t web-production:sites /dev/mapper/StorageTek2530-sites</code></li>
<li><code>mkfs.gfs2 -p lock_dlm -j 2 -t web-production:databases /dev/mapper/StorageTek2530-databases</code></li>
<li><code>mkfs.gfs2 -p lock_dlm -j 2 -t web-production:logs /dev/mapper/StorageTek2530-logs</code></li>
<li><code>mkfs.gfs2 -p lock_dlm -j 2 -t web-production:root /dev/mapper/StorageTek2530-root</code></li>
<li><code>mkfs.gfs2 -p lock_dlm -j 2 -t web-production:home /dev/mapper/StorageTek2530-home</code></li>
</ul>
<p>Mount the GFS2 partitions</p>
<ul>
<li>NOTE: GFS2 file systems that have been mounted manually rather than automatically through an entry in the fstab file will not be known to the system when file systems are unmounted at system shutdown. As a result, the GFS2 script will not unmount the GFS2 file system. After the GFS2 shutdown script is run, the standard shutdown process kills off all remaining user processes, including the cluster infrastructure, and tries to unmount the file system. This unmount will fail without the cluster infrastructure and the system will hang.</li>
<li>To prevent the system from hanging when the GFS2 file systems are unmounted, you should do one of the following:
<ul>
<li>Always use an entry in the fstab file to mount the GFS2 file system.</li>
<li>If a GFS2 file system has been mounted manually with the mount command, be sure to unmount the file system manually with the umount command before rebooting or shutting down the system.</li>
</ul>
</li>
<li>If your file system hangs while it is being unmounted during system shutdown under these circumstances, perform a hardware reboot. It is unlikely that any data will be lost since the file system is synced earlier in the shutdown process.</li>
</ul>
<p>Make the appropriate folders on each node (/home is already there).</p>
<ul>
<li><code>mkdir /sites /logs /databases</code></li>
</ul>
<p>Make sure the appropriate lines are in /etc/fstab</p>
<pre class="">#GFS2 partitions shared in the cluster
/dev/mapper/StorageTek2530-root        /root        gfs2   defaults,acl    0 0
/dev/mapper/StorageTek2530-home        /home        gfs2   defaults,acl    0 0
/dev/mapper/StorageTek2530-databases      /databases      gfs2   defaults,acl    0 0
/dev/mapper/StorageTek2530-logs        /logs        gfs2   defaults,acl    0 0
/dev/mapper/StorageTek2530-sites    /sites    gfs2   defaults,acl    0 0</pre>
<p>Once the GFS2 partitions are set up and in <code>/etc/fstab</code>, rgmanager can be started. This will mount the GFS2 partions.</p>
<ul>
<li><code>service rgmanager start</code></li>
<li><code>chkconfig rgmanager on</code></li>
</ul>
<h3>Starting Cluster Software</h3>
<p>To start the cluster software on a node, type the following commands in this order:</p>
<ul>
<li><code>service cman start</code></li>
<li><code>service clvmd start</code></li>
<li><code>service gfs2 start</code></li>
<li><code>service rgmanager start</code></li>
</ul>
<h3>Stopping Cluster Software</h3>
<p>To stop the cluster software on a node, type the following commands in this order:</p>
<ul>
<li><code>service ossec-hids stop</code>
<ul>
<li>(ossec monitors the apache log files, so the /logs partition will not be unmounted unless ossec is stopped first.)</li>
</ul>
</li>
<li><code>service rgmanager stop</code></li>
<li><code>service gfs2 stop</code></li>
<li><code>umount -at gfs2</code></li>
<li><code>service clvmd stop</code></li>
<li><code>service cman stop</code></li>
</ul>
<h3>Cluster tips</h3>
<p>If a service shows as âfailedâ when checking on services with <code>clustat</code></p>
<ul>
<li>Disable the service first: <code>clusvcadm -d service-name</code></li>
<li>Then re-enable it: <code>clusvcadm -e service-name</code></li>
</ul>
<p>Have Shorewall start sooner in the boot process.</p>
<ul>
<li>It was necessary to move shorewall up in the boot process, otherwise cman had no open connection to detect the other nodes.</li>
<li>Edit the <code>/etc/init.d/shorewall</code> and change the line near the top from <code># chkconfig: - 28 90</code> to
<ul>
<li><code># chkconfig: - 18 90</code></li>
</ul>
</li>
<li>Then use chkconfig to turn off shorewall and then back on.
<ul>
<li><code>chkconfig shorewall off</code></li>
<li><code>chkconfig shorewall on</code></li>
</ul>
</li>
</ul>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../setting-up-a-hosting-environment-part-3-redhat-cluster-and-gfs2/index.html" rel="bookmark"><time class="entry-date published" datetime="2013-02-01T15:12:57-05:00">1 February, 2013</time><time class="updated" datetime="2014-09-22T14:38:05-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../howto/index.html" rel="category tag">HowTo</a>, <a href="../../setting-up-a-hosting-environment/index.html" rel="category tag">Setting up a Hosting Environment</a>, <a href="../../index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/cluster/index.html" rel="tag">cluster</a>, <a href="../../../../tag/gfs2/index.html" rel="tag">gfs2</a>, <a href="../../../../tag/lvm/index.html" rel="tag">lvm</a>, <a href="../../../../tag/redhat/index.html" rel="tag">redhat</a>, <a href="../../../../tag/servers/index.html" rel="tag">servers</a></span><span class="comments-link"><a href="../../../../setting-up-a-hosting-environment-part-3-redhat-cluster-and-gfs2/index.html#comments">5 Comments<span class="screen-reader-text"> on Setting up a Hosting Environment, Part 3: RedHat Cluster and GFS2</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1438 -->

<article id="post-1356" class="post-1356 post type-post status-publish format-standard has-post-thumbnail hentry category-academic category-coding category-dissertation category-howto category-school-work category-technical tag-digital-maps tag-exhibit tag-json tag-maps tag-spreadsheets">
	
	<a class="post-thumbnail" href="../../../../if-at-first-you-dont-succeed/index.html" aria-hidden="true">
		<img width="624" height="498" src="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.09-PM-624x498.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="If at first you don&#8217;t succeed" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.09-PM-624x498.png 624w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.09-PM-300x239.png 300w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.09-PM-1024x817.png 1024w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.09-PM-250x199.png 250w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.09-PM-150x119.png 150w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.09-PM.png 1120w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../if-at-first-you-dont-succeed/index.html" rel="bookmark">If at first you don&#8217;t succeed</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>&#8230;copy somebody&#8217;s code. Or at least your own from the past that works.</p>
<p>I finally got the map to work for my Exhibit exhibit. <a href="http://chnm.gmu.edu/staff/ammon/clio3/tunnels.php">See</a>.</p>
<p>&nbsp;</p>
<p>First I copied the tutorial <a href="http://simile.mit.edu/wiki/Exhibit/2.0/Map_View_Tutorial">here</a>. When that was working, I carefully copied it to the file I wanted it to be in and&#8230; nothing. Still broken.</p>
<p>So next I commented out all extraneous stuff, and finally got it to work. Now came the fun part of tracking down what code was making my awesome map look like nothing. I narrowed it down to something within the &lt;header&gt; tag. So line by line I uncommented and tested until I tracked the issue down to the bootstrap.css file I was using.</p>
<p>Then came the same process within the bootstrap.css file. It was easily 1000 lines long, so a line by line process wasn&#8217;t going to work. Instead I commented out the first have of the file. Bing, the map displayed, so it was somewhere within that first 500 lines. Then I commented out the first 250 lines. Bing again. I kept dividing the culprits in half until I narrowed it down to styles for the img tag. Commented those out and I was in business.</p>
<p>Through that grueling process I lost the images of the documents on the first page. Now I have to figure out how to get those back, apply some styling and we&#8217;re all set.</p>
<p>Unfortunately I wasn&#8217;t ever able to get it to pull in the data from a spreadsheet, so the JSON file will have to do. The process for making a JSON file from a spreadsheet is simple:</p>
<p>1. Make the spreadsheet file so that the headers are encapsulated with curly braces &#8216;{ }&#8217;</p>
<p><a href="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.44.16-PM.png"><img loading="lazy" decoding="async" class="alignnone size-full wp-image-1361" title="Screen Shot 2012-10-11 at 6.44.16 PM" src="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.44.16-PM.png" alt="" width="800" height="76" srcset="https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.44.16-PM.png 800w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.44.16-PM-300x28.png 300w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.44.16-PM-250x23.png 250w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.44.16-PM-150x14.png 150w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.44.16-PM-624x59.png 624w" sizes="(max-width: 800px) 100vw, 800px" /></a></p>
<p>2. If you&#8217;re using Google spreadsheets, export it as an Excel file. You&#8217;ll have to open it in Excel and save it as an older file format, because the next step doesn&#8217;t like .xlsx.</p>
<p>3. Next, use <a href="http://service.simile-widgets.org/babel/">Similie&#8217;s Babel tool</a> to convert the spreadsheet to JSON.</p>
<p>4. Select &#8220;Excel&#8221; as the &#8220;from format&#8221; and &#8220;Exhibit JSON&#8221; as the &#8220;to format&#8221; and then browse to find the xls file you just made.</p>
<p>5. Click the &#8220;Upload and Convert&#8221; button.</p>
<p><a href="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.19-PM.png"><img loading="lazy" decoding="async" class="alignnone size-large wp-image-1360" title="Screen Shot 2012-10-11 at 6.50.19 PM" src="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.19-PM-1024x474.png" alt="" width="550" height="254" srcset="https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.19-PM-1024x474.png 1024w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.19-PM-300x139.png 300w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.19-PM-250x115.png 250w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.19-PM-150x69.png 150w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.19-PM-624x289.png 624w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.19-PM.png 1294w" sizes="(max-width: 550px) 100vw, 550px" /></a></p>
<p>6. The next screen is all of your spreadsheet data output into a nice JSON format.</p>
<p><a href="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.27-PM.png"><img loading="lazy" decoding="async" class="alignnone size-full wp-image-1359" title="Screen Shot 2012-10-11 at 6.50.27 PM" src="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.27-PM.png" alt="" width="527" height="860" srcset="https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.27-PM.png 527w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.27-PM-183x300.png 183w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.27-PM-250x407.png 250w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.50.27-PM-91x150.png 91w" sizes="(max-width: 527px) 100vw, 527px" /></a></p>
<p>7. Now you can use this JSON file for any number of things. But it&#8217;s especially nice to use it in an Exhibit to display your data.</p>
<p><a href="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.53-PM.png"><img loading="lazy" decoding="async" class="alignnone size-large wp-image-1357" title="Screen Shot 2012-10-11 at 6.52.53 PM" src="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.53-PM-1024x786.png" alt="" width="550" height="422" srcset="https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.53-PM-1024x786.png 1024w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.53-PM-300x230.png 300w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.53-PM-250x192.png 250w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.53-PM-150x115.png 150w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.53-PM-624x479.png 624w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-6.52.53-PM.png 1110w" sizes="(max-width: 550px) 100vw, 550px" /></a></p>
<p>This is cross posted at the class blog <a href="http://www.fredgibbs.net/clio3workspace/blog/if-at-first-you-dont-succeed/">http://www.fredgibbs.net/clio3workspace/blog/if-at-first-you-dont-succeed/</a></p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../if-at-first-you-dont-succeed/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-10-11T19:07:40-04:00">11 October, 2012</time><time class="updated" datetime="2012-10-11T19:07:54-04:00">11 October, 2012</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../academic/index.html" rel="category tag">Academic</a>, <a href="../../coding/index.html" rel="category tag">Coding</a>, <a href="../../../academic/school-work/dissertation/index.html" rel="category tag">Dissertation</a>, <a href="../../howto/index.html" rel="category tag">HowTo</a>, <a href="../../../academic/school-work/index.html" rel="category tag">School Work</a>, <a href="../../index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/digital-maps/index.html" rel="tag">digital maps</a>, <a href="../../../../tag/exhibit/index.html" rel="tag">exhibit</a>, <a href="../../../../tag/json/index.html" rel="tag">json</a>, <a href="../../../../tag/maps/index.html" rel="tag">maps</a>, <a href="../../../../tag/spreadsheets/index.html" rel="tag">spreadsheets</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1356 -->

<article id="post-1342" class="post-1342 post type-post status-publish format-standard has-post-thumbnail hentry category-technical tag-server-admin">
	
	<a class="post-thumbnail" href="../../../../when-your-os-updates-break-your-cam/index.html" aria-hidden="true">
		<img width="624" height="195" src="../../../../wp-content/uploads/2012/10/sun-cam-624x195.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="When  your OS updates break your CAM" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/10/sun-cam-624x195.jpg 624w, https://mossiso.com/wp-content/uploads/2012/10/sun-cam-300x93.jpg 300w, https://mossiso.com/wp-content/uploads/2012/10/sun-cam-250x78.jpg 250w, https://mossiso.com/wp-content/uploads/2012/10/sun-cam-150x46.jpg 150w, https://mossiso.com/wp-content/uploads/2012/10/sun-cam.jpg 800w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../when-your-os-updates-break-your-cam/index.html" rel="bookmark">When  your OS updates break your CAM</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>As I&#8217;m sure many people have run into this before, and from personal experience, found nothing roaming the Interwebs on how to fix it, and seeings how I just fixed it, I&#8217;ll write up a little how to fix it post.</p>
<p>&nbsp;</p>
<h3>The set up:</h3>
<p>Two SunFire X2100 M2 servers connected to a StorageTek 2530 via iscsi. The two nodes are running CentOS 6.2 with RedHat cluster software. I have a server running Nagios for monitoring and it checks for failed disks on the StorageTek by running a script on either node that returns the number of &#8220;optimal&#8221; and &#8220;failed&#8221; disks.</p>
<p>&nbsp;</p>
<figure id="attachment_1343" aria-describedby="caption-attachment-1343" style="width: 490px" class="wp-caption aligncenter"><a href="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-1.45.03-PM.png"><img loading="lazy" decoding="async" class="size-full wp-image-1343" title="server set up" src="../../../../wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-1.45.03-PM.png" alt="" width="490" height="237" srcset="https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-1.45.03-PM.png 490w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-1.45.03-PM-300x145.png 300w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-1.45.03-PM-250x120.png 250w, https://mossiso.com/wp-content/uploads/2012/10/Screen-Shot-2012-10-11-at-1.45.03-PM-150x72.png 150w" sizes="(max-width: 490px) 100vw, 490px" /></a><figcaption id="caption-attachment-1343" class="wp-caption-text">Two nodes connected to an array via iscsi (Ethernet)</figcaption></figure>
<h3>The problem:</h3>
<p>Updating system software is important. Keeping packages up to date protects from security vulnerabilities. Unfortunately, sometimes it breaks things. In this case, updating the suggested packages broke my set up, making it so that the Sun Storage CAM (Common Array Manager) software did not work anymore.</p>
<p>I first became alerted to this when Nagios sent me errors from the script checking the StorageTek disks. I checked the command that runs in the script to see what was up, and it returned several errors. Here they are for future googlers:</p>
<pre class="lang:bash decode:1 " >sscs list -i 192.168.128.101 device</pre>
<p> returned &#8220;Command failed due to an exception. null&#8221; and</p>
<pre class="lang:bash decode:1 " >sscs list -a arrayname host</pre>
<p> returned &#8220;arrayname : The resource was not found.&#8221;</p>
<p>Not particularly helpful messages.</p>
<p>Fortunately the nodes could still mount the array partitions, which allowed them to continue running as web and mysql servers. I just couldn&#8217;t run management commands on the array.</p>
<p>Since some of the required software for CAM was updated, I supposed that was causing the issue. The required software is listed below:</p>
<ul>
<li>libXtst-1.0.99.2-3.el6.i686.rpm and its dependent rpm (InstallShield requirement)</li>
<li>libselinux-2.0.94-2.el6.i686.rpm</li>
<li>audit-libs-2.0.4-1.el6.i686.rpm</li>
<li>cracklib-2.8.16-2.el6.i686.rpm</li>
<li>db4-4.7.25-16.el6.i686.rpm</li>
<li>pam-1.1.1-4.el6.i686.rpm</li>
<li>libstdc++-4.4.4-13.el6.i686.rpm</li>
<li>zlib-1.2.3-25.el6.i686.rpm</li>
<li>ksh-20100621-2.el6.x86_64.rpm</li>
</ul>
<p>&nbsp;</p>
<h3>The solution:</h3>
<p>I couldn&#8217;t figure out on my own exactly what was wrong, so I contacted Oracle support, and they finally tipped me off to the solution. Completely remove the CAM software and reinstall it. Those steps are outlined below:</p>
<ul>
<li>Go to the CAM software folder in <code>/var/opt/CommonArrayManager/Host_Software_6.9.0.16/bin/</code>and run</li>
</ul>
<pre class="lang:bash decode:1 " >./uninstall -f</pre>
<ul>
<li>Here is a good spot to run <code>yum update</code> and restart the server if needed.</li>
<li>Change directories to where you have the CAM software install CD. There should be a folder called <code>components</code> in there. Change into that directory and install the jdk available there:</li>
</ul>
<pre class="lang:bash decode:1 " >rpm -Uvh jdk-6u20-linux-i586.rpm</pre>
<ul>
<li>Next run the <code>RunMe.bin</code> file in the CAM Software CD folder.</li>
</ul>
<pre class="lang:bash decode:1 " >./RunMe.bin -c</pre>
<ul>
<li>Install the RAID Proxy Agent package located in the Add_On/RaidArrayProxy directory of the latest CAM software distribution.</li>
</ul>
<pre class="lang:bash decode:1 " >rpm -ivh SMruntime.xx.xx.xx.xx-xxxx.rpm</pre>
<pre class="lang:bash decode:1 " >rpm -ivh SMagent-LINUX-xx.xx.xx.xx-xxxx.rpm</pre>
<ul>
<li>Register the array with the host/node. This process can take several minutes.</li>
</ul>
<pre class="lang:bash decode:1 " >sscs register -d storage-system</pre>
<p>One additional issue I ran into, was that some update or other process shutdown the NIC connecting the node to the array. I had to make sure that was running before I ran the register -d storage-system command above.</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../when-your-os-updates-break-your-cam/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-10-11T15:01:50-04:00">11 October, 2012</time><time class="updated" datetime="2014-09-22T14:09:12-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/server-admin/index.html" rel="tag">server admin</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1342 -->

<article id="post-1275" class="post-1275 post type-post status-publish format-standard has-post-thumbnail hentry category-howto category-technical tag-database-admin tag-mysql tag-servers">
	
	<a class="post-thumbnail" href="../../../../making-multiple-mysql-instances-on-one-server/index.html" aria-hidden="true">
		<img width="323" height="377" src="../../../../wp-content/uploads/2012/07/Conrad_von_Soest_Brillenapostel-seeing-double.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Making Multiple MySQL Instances on One Server" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/07/Conrad_von_Soest_Brillenapostel-seeing-double.jpg 323w, https://mossiso.com/wp-content/uploads/2012/07/Conrad_von_Soest_Brillenapostel-seeing-double-257x300.jpg 257w, https://mossiso.com/wp-content/uploads/2012/07/Conrad_von_Soest_Brillenapostel-seeing-double-250x291.jpg 250w, https://mossiso.com/wp-content/uploads/2012/07/Conrad_von_Soest_Brillenapostel-seeing-double-128x150.jpg 128w" sizes="(max-width: 323px) 100vw, 323px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../making-multiple-mysql-instances-on-one-server/index.html" rel="bookmark">Making Multiple MySQL Instances on One Server</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>I&#8217;m trying this new idea for backing up our production MySQL servers. I have a backup server that basically runs rdiff-backup in the morning across several servers, but then does nothing for the rest of the day. It&#8217;s a pretty decent machine, so I&#8217;d like to utilize some resources. Replicating a MySQL server is a good way to ensure High Availability in case of a failure. The backup server acts as a slave to the master (production) server. Basically, the slave is an exact copy of the master. They are two separate instances of MySQL server running on two physical servers. Whatever queries run on the master are sent to the slave so it can do the same. This way they are kept completely in sync. You could also have the slave take over for the master, should the master server happen to fail.</p>
<figure id="attachment_1279" aria-describedby="caption-attachment-1279" style="width: 300px" class="wp-caption aligncenter"><a href="../../../../wp-content/uploads/2012/07/master-and-slave.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1279 " title="master-and-slave" src="../../../../wp-content/uploads/2012/07/master-and-slave-300x125.png" alt="" width="300" height="125" srcset="https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-300x125.png 300w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-250x104.png 250w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-150x62.png 150w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave.png 503w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1279" class="wp-caption-text">The slave is an ever updating duplicate of the master.</figcaption></figure>
<p>The only problem I face with this set up, though, is that I have multiple production servers out there. So this only works if this backup server could be a slave for multiple machines.</p>
<figure id="attachment_1283" aria-describedby="caption-attachment-1283" style="width: 248px" class="wp-caption aligncenter"><a href="../../../../wp-content/uploads/2012/07/no-2-masters.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1283" title="no-2-masters" src="../../../../wp-content/uploads/2012/07/no-2-masters-248x300.png" alt="" width="248" height="300" srcset="https://mossiso.com/wp-content/uploads/2012/07/no-2-masters-248x300.png 248w, https://mossiso.com/wp-content/uploads/2012/07/no-2-masters-250x301.png 250w, https://mossiso.com/wp-content/uploads/2012/07/no-2-masters-124x150.png 124w, https://mossiso.com/wp-content/uploads/2012/07/no-2-masters.png 496w" sizes="(max-width: 248px) 100vw, 248px" /></a><figcaption id="caption-attachment-1283" class="wp-caption-text">No slave can serve two masters.</figcaption></figure>
<p>This is not possible, though, because, of course, <a href="https://www.lds.org/scriptures/nt/matt/6.24?lang=eng#23" target="_blank">no slave can serve two masters</a>. Fortunately, a server can have multiple instances of MySQL running on it! So, in a sense, we have a server with multiple MySQL instances, to which a master can replicate. More about that set up in an upcoming post.</p>
<figure id="attachment_1281" aria-describedby="caption-attachment-1281" style="width: 242px" class="wp-caption aligncenter"><a href="../../../../wp-content/uploads/2012/07/mm-slave.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1281" title="mm-slave" src="../../../../wp-content/uploads/2012/07/mm-slave-242x300.png" alt="" width="242" height="300" srcset="https://mossiso.com/wp-content/uploads/2012/07/mm-slave-242x300.png 242w, https://mossiso.com/wp-content/uploads/2012/07/mm-slave-250x309.png 250w, https://mossiso.com/wp-content/uploads/2012/07/mm-slave-121x150.png 121w, https://mossiso.com/wp-content/uploads/2012/07/mm-slave.png 493w" sizes="(max-width: 242px) 100vw, 242px" /></a><figcaption id="caption-attachment-1281" class="wp-caption-text">The slave has multiple instances of MySQL running.</figcaption></figure>
<p>A how to on <a href="http://blog.mydream.com.hk/howto/linux/mysql-multiple-instance-on-centos-howto" target="_blank">this blog</a>, shows how this can be done. I&#8217;ll replicate the process below.</p>
<h2>STEPS TO MULTIPLE MYSQL MADNESS</h2>
<h3>On the slave server</h3>
<h4>Step 1. Install MySQL</h4>
<p>We&#8217;ll be working with CentOS 5.8, but this could really apply for any OS. First we&#8217;ll need to install MySQL like normal.</p>
<pre class="lang:bash decode:1 " >yum install mysql mysql-server</pre>
<p>There are plenty of good tutorials out there on how to install the specific version of MySQL you want on the specific OS you&#8217;re running.</p>
<h4>Step 2. Set up the data area.</h4>
<p>You&#8217;ll need to have a different folder for each of the MySQL instances, say <code>/dbases/master-a/</code>, <code>/dbases/master-b/</code>, and <code>/dbases/master-c/</code>.</p>
<pre class="lang:bash decode:1 " >mkdir -p /dbases/{master-a,master-b,master-c}</pre>
<h4>Step 3. Copy the default my.cnf file</h4>
<p>This is the default MySQL config file, it may be named differently on other OSes.</p>
<pre class="lang:bash decode:1 " >cp /etc/my.cnf /etc/master-a.cnf; cp /etc/my.cnf /etc/master-b.cnf; cp /etc/my.cnf /etc/master-c.cnf</pre>
<h4>Step 4. Edit the new MySQL config files.</h4>
<p>For each new config file, you&#8217;ll need to specify some unique variables.</p>
<pre class="lang:bash decode:1 " >
[mysqld]
port=3307
datadir=/dbases/master-a
socket=/dbases/master-a/mysql.sock
user=mysql
server_id=3307
log-bin=/dbases/master/mysql-bin.log

# Disabling symbolic-links is recommended to prevent assorted security risks;
# to do so, uncomment this line:
symbolic-links=0

[mysqld_safe]
log-error=/dbases/master-a/mysqld.log
pid-file=/dbases/master-a/mysqld.pid
</pre>
<p>The <code>port</code> option sets this MySQL instance on a different port than the default 3306. The <code>datadir</code>, <code>socket</code>, <code>log-bin</code>, <code>log-error</code>, and <code>pid-file</code> options make sure the necessary files are not using the default files.</p>
<h4>Step 5. Create new init scripts.</h4>
<p>The init script allows the server to start and stop the service at boot time, and allows for easy start up and shutdown (on CentOS/RedHat, at least &#8211; with an easy <code>service mysqld start</code>).</p>
<pre class="lang:bash decode:1 " >cp /etc/init.d/mysqld /etc/init.d/mysqld-master-a</pre>
<p>Just do one for now. We&#8217;ll copy the new one to create the others, then just do a quick search and replace in those files to change the master-a to master-b and master-c.</p>
<h4>Step 6. Edit the init script</h4>
<div style="border: 1px solid #ddd; margin: 10px; padding: 10px;">
<pre>#!/bin/bash
#
# mysqld        This shell script takes care of starting and stopping
#               the MySQL subsystem (mysqld).
#
# chkconfig: - 64 36
# description:  MySQL database server.
# processname: mysqld
# config: <span style="color: #3366ff;">/etc/master-a.cnf</span>
# pidfile: <span style="color: #3366ff;">/dbases/master-a/mysqld.pid</span>

# Source function library.
. /etc/rc.d/init.d/functions

# Source networking configuration.
. /etc/sysconfig/network

prog="MySQL"

# extract value of a MySQL option from config files
# Usage: get_mysql_option SECTION VARNAME DEFAULT
# result is returned in $result
# We use my_print_defaults which prints all options from multiple files,
# with the more specific ones later; hence take the last match.
get_mysql_option(){
        result=<code>/usr/bin/my_print_defaults "$1" | sed -n "s/^--$2=//p" | tail -n 1</code>
        if [ -z "$result" ]; then
            # not found, use default
            result="$3"
        fi
}

get_mysql_option mysqld datadir "<span style="color: #3366ff;">/dbases/master-a</span>"
datadir="<span style="color: #3366ff;">/dbases/master-a</span>"
get_mysql_option mysqld socket "<span style="color: #3366ff;">/dbases/master-a/mysql.sock</span>"
socketfile="<span style="color: #3366ff;">/dbases/master-a/mysql.sock</span>"
get_mysql_option mysqld_safe log-error "<span style="color: #3366ff;">/dbases/master-a/mysqld.log</span>"
errlogfile="<span style="color: #3366ff;">/dbases/master-a/mysqld.log</span>"
get_mysql_option mysqld_safe pid-file "<span style="color: #3366ff;">/dbases/master-a/mysqld.pid</span>"
mypidfile="<span style="color: #3366ff;">/dbases/master-a/mysqld.pid</span>"

<span style="color: #3366ff;">defaultfile="/etc/master-a.cnf"</span>

start(){
        touch "$errlogfile"
        chown mysql:mysql "$errlogfile"
        chmod 0640 "$errlogfile"
        [ -x /sbin/restorecon ] &amp;&amp; /sbin/restorecon "$errlogfile"
        if [ ! -d "$datadir/mysql" ] ; then
            action $"Initializing MySQL database: " /usr/bin/mysql_install_db --datadir="$datadir" --user=mysql
            ret=$?
            chown -R mysql:mysql "$datadir"
            if [ $ret -ne 0 ] ; then
                return $ret
            fi
        fi
        chown mysql:mysql "$datadir"
        chmod 0755 "$datadir"
        # Pass all the options determined above, to ensure consistent behavior.
        # In many cases mysqld_safe would arrive at the same conclusions anyway
        # but we need to be sure.
        /usr/bin/mysqld_safe  <span style="color: #3366ff;">--defaults-file="$defaultfile"</span> --datadir="$datadir" --socket="$socketfile" \
                --log-error="$errlogfile" --pid-file="$mypidfile" \
                --user=mysql &gt;/dev/null 2&gt;&amp;1 &amp;
        ret=$?
        # Spin for a maximum of N seconds waiting for the server to come up.
        # Rather than assuming we know a valid username, accept an "access
        # denied" response as meaning the server is functioning.        
        if [ $ret -eq 0 ]; then
      Â      STARTTIMEOUT=30
            while [ $STARTTIMEOUT -gt 0 ]; do
Â                RESPONSE=<code>/usr/bin/mysqladmin --socket="$socketfile" --user=UNKNOWN_MYSQL_USER ping 2&gt;&amp;1</code> &amp;&amp; break
                echo "$RESPONSE" | grep -q "Access denied for user" &amp;&amp; break
                sleep 1
                let STARTTIMEOUT=${STARTTIMEOUT}-1
            done
            if [ $STARTTIMEOUT -eq 0 ]; then
                    echo "Timeout error occurred trying to start MySQL Daemon."
                    action $"Starting $prog: " /bin/false
                    ret=1
            else
                    action $"Starting $prog: " /bin/true
            fi
        else
            action $"Starting $prog: " /bin/false
        fi
        [ $ret -eq 0 ] &amp;&amp; touch <span style="color: #3366ff;">/dbases/master-a/mysqld</span>
        return $ret
}

stop(){ 
        MYSQLPID=<code>cat "$mypidfile"  2&gt;/dev/null </code>
        if [ -n "$MYSQLPID" ]; then
            /bin/kill "$MYSQLPID" &gt;/dev/null 2&gt;&amp;1
            ret=$?
            if [ $ret -eq 0 ]; then
                STOPTIMEOUT=60
                while [ $STOPTIMEOUT -gt 0 ]; do
                    /bin/kill -0 "$MYSQLPID" &gt;/dev/null 2&gt;&amp;1 || break
                    sleep 1
                    let STOPTIMEOUT=${STOPTIMEOUT}-1
                done
                if [ $STOPTIMEOUT -eq 0 ]; then
                    echo "Timeout error occurred trying to stop MySQL Daemon."
                    ret=1
                    action $"Stopping $prog: " /bin/false
                else
                    rm -f <span style="color: #3366ff;">/dbases/master-a/mysqld</span>
                    rm -f "$socketfile"
                    action $"Stopping $prog: " /bin/true
                fi
            else
                action $"Stopping $prog: " /bin/false
            fi
        else
            ret=1
            action $"Stopping $prog: " /bin/false
        fi
        return $ret
}

restart(){
    stop
    start
}

condrestart(){
    [ -e <span style="color: #3366ff;">/dbases/master-a/mysqld</span> ] &amp;&amp; restart || :
}

# See how we were called.
case "$1" in
  start)
    start
    ;;
  stop)
    stop
    ;;
  status)
    status mysqld
    ;;
  restart)
    restart
    ;;
  condrestart)
    condrestart
    ;;
  *)
    echo $"Usage: $0 {start|stop|status|condrestart|restart}"
    exit 1
esac

exit $?</pre>
</div>
<h4>Step 7. Start each MySQL instance.</h4>
<p>Now you can start each instance with the handy <code>service</code> command.</p>
<pre class="lang:bash decode:1 " >service mysqld-master-a start</pre>
<h4>Step 8. Connect to MySQL instances.</h4>
<p>Now, to connect to each MySQL instance, you&#8217;ll need to specify the port and/or socket file.</p>
<pre class="lang:bash decode:1 " >mysql -P3307 --socket="/dbases/mysql-master-a/mysql.sock"</pre>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../making-multiple-mysql-instances-on-one-server/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-07-31T15:15:08-04:00">31 July, 2012</time><time class="updated" datetime="2014-09-22T14:09:13-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../howto/index.html" rel="category tag">HowTo</a>, <a href="../../index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/database-admin/index.html" rel="tag">database admin</a>, <a href="../../../../tag/mysql/index.html" rel="tag">mysql</a>, <a href="../../../../tag/servers/index.html" rel="tag">servers</a></span><span class="comments-link"><a href="../../../../making-multiple-mysql-instances-on-one-server/index.html#comments">3 Comments<span class="screen-reader-text"> on Making Multiple MySQL Instances on One Server</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1275 -->

<article id="post-1277" class="post-1277 post type-post status-publish format-standard has-post-thumbnail hentry category-howto category-technical category-technology tag-database-admin tag-mysql tag-server-admin">
	
	<a class="post-thumbnail" href="../../../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html" aria-hidden="true">
		<img width="624" height="210" src="../../../../wp-content/uploads/2012/07/mysql-replication-624x210.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Backing up MySQL with Replication and Incremental Files &#8211; Part 1" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-624x210.jpg 624w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-300x101.jpg 300w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-1024x345.jpg 1024w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-250x84.jpg 250w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-150x50.jpg 150w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication.jpg 1473w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html" rel="bookmark">Backing up MySQL with Replication and Incremental Files &#8211; Part 1</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>I&#8217;m trying this new idea for backing up our production MySQL servers. I have a backup server that basically runs rdiff-backup in the morning across several servers, but then does nothing for the rest of the day. It&#8217;s a pretty decent machine, so I&#8217;d like to utilize some resources. Databases are a tough cookie to backup. You can&#8217;t just copy the data files and then expect to copy them back over and have them just work. Especially if your databases have a mixture of InnoDB and MyISAM tables. In order to do a clean and accurate database backup, you need to stop the MySQL server, then copy the files, then restart MySQL.</p>
<p>If you have a live production MySQL server, stopping it to make a backup is not really an option. Fortunately there are a few options. Before you decide on which option to choose, here is a list of things to keep in mind when choosing a backup solution (from the MySQL gurus at Percona):</p>
<h3>WHAT TO LOOK FOR</h3>
<p><a href="http://www.mysqlperformanceblog.com/2009/03/03/10-things-you-need-to-know-about-backup-solutions-for-mysql/" target="_blank">http://www.mysqlperformanceblog.com/2009/03/03/10-things-you-need-to-know-about-backup-solutions-for-mysql/</a></p>
<ol>
<li>Does the backup require shutting down MySQL? If not, what is the impact on the running server? Blocking, I/O load, cache pollution, etc?</li>
<li>What technique is used for the backup? Is it mysqldump or a custom product that does something similar? Is it a filesystem copy?</li>
<li>Does the backup system understand that <em>you cannot back up InnoDB by simply copying its files</em>?</li>
<li>Does the backup use FLUSH TABLES, LOCK TABLES, or FLUSH TABLES WITH READ LOCK? These all interrupt processing.</li>
<li>What other effects are there on MySQL? Iâve seen systems that do a RESET MASTER, which immediately breaks replication. Are there any FLUSH commands at all, like FLUSH LOGS?</li>
<li>How does the system guarantee that you can perform point-in-time recovery?</li>
<li>How does the system guarantee consistency with the binary log, InnoDB logs, and replication?</li>
<li>Can you use the system to set up new MySQL replication slaves? How?</li>
<li>Does the system verify that the backup is restorable, e.g. does it run InnoDB recovery before declaring success?</li>
<li>Does anyone stand behind it with support, and guarantee working, recoverable backups? How strong is the legal guarantee of this and how much insurance do they have?</li>
</ol>
<p>&nbsp;</p>
<h3>BACKUP PROGRAMS</h3>
<p>There are a few MySQL backup products out there as well. I have used the first two on this list.</p>
<ul>
<li><a href="http://sourceforge.net/projects/automysqlbackup/" target="_blank">AutoMySQLBackup</a> script (handy for making a rotating incremental backup of your MySQL databases).</li>
<li><a href="http://www.percona.com/software/percona-xtrabackup/" target="_blank">Percona XtraBackup</a> (nice way to ensure InnoDB and MyISAM tables are backed up properly, also does it incrementally)</li>
<li><a href="https://zmanda.com/backup-mysql.html" target="_blank">Zmanda</a> (seems to be similar to Percona&#8217;s set up)</li>
</ul>
<p>There&#8217;s probably a gazillion more out there. Google&#8217;s your friend in finding things you need.</p>
<h3>HOW TO DO IT</h3>
<figure id="attachment_1279" aria-describedby="caption-attachment-1279" style="width: 300px" class="wp-caption alignright"><a href="../../../../wp-content/uploads/2012/07/master-and-slave.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1279" title="master-and-slave" alt="" src="../../../../wp-content/uploads/2012/07/master-and-slave-300x125.png" width="300" height="125" srcset="https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-300x125.png 300w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-250x104.png 250w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-150x62.png 150w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave.png 503w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1279" class="wp-caption-text">How to get a copy of the master to the slave?</figcaption></figure>
<p>There are several options. You could use a script above, or create a slave of the database (basically an exact copy of the production MySQL server &#8211; all changes that occur in the master are sent to the slave), or some combination. I&#8217;ll use a combination. I&#8217;ll replicate the production server onto the backup server, then run the incremental backups from there. This first part will walk through the process of setting up MySQL replication.</p>
<p>To give proper credit, here are several other how to&#8217;s I found helpful.</p>
<ul>
<li><a href="http://www.badllama.com/content/mysql-backups-using-lvm-snapshots" target="_blank">http://www.badllama.com/content/mysql-backups-using-lvm-snapshots</a></li>
<li><a href="http://www.mysqlperformanceblog.com/2006/08/21/using-lvm-for-mysql-backup-and-replication-setup/" target="_blank">http://www.mysqlperformanceblog.com/2006/08/21/using-lvm-for-mysql-backup-and-replication-setup/</a></li>
<li><a href="http://www.softwareprojects.com/resources/programming/t-how-to-move-copy-a-live-mysql-database-and-what-1257.html" target="_blank">http://www.softwareprojects.com/resources/programming/t-how-to-move-copy-a-live-mysql-database-and-what-1257.html</a></li>
<li><a href="http://www.clusterdb.com/mysql-cluster/get-mysql-replication-up-and-running-in-5-minutes/" target="_blank">http://www.clusterdb.com/mysql-cluster/get-mysql-replication-up-and-running-in-5-minutes/</a></li>
</ul>
<h3>On the master server</h3>
<p><strong>Step 1.</strong> Edit the my.cnf file to include at least the following (if needed) lines. Note: you will have to restart MySQL for these changes to take affect.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:bash decode:1 " >
[mysqld]
server_id=1
innodb_flush_log_at_trx_commit=1
log_bin=mysql-bin.log
sync_binlog=1
</pre>
</div>
<p><strong>Step 2.</strong> Make a MySQL user for the slave to use.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">In a MySQL session on the terminal, type in the command:</p>
<pre class="lang:sql decode:1 " >GRANT REPLICATION SLAVE ON *.* TO 'rep_user'@'localhost' IDENTIFIED BY 'passwordhere';</pre>
</div>
<p><strong>Step 3.</strong> Open a terminal session and log in to a MySQL prompt. Type the following command and hit enter.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:sql decode:1 " >FLUSH TABLES WITH READ LOCK</pre>
<p>Note: This will lock your database so that no changes can be made from any web applications or other programs. This session should remain open, and the database locked for the next few steps.</p>
</div>
<p><strong>Step 4.</strong> After the FLUSH TABLES command finishes, run the following command and press enter.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:sql decode:1 " >SHOW MASTER STATUS</pre>
<p>Record the information under &#8220;File Name&#8221; and &#8220;Position&#8221;.</p>
</div>
<p><strong>Step 5.Â </strong> Make a copy of the database files.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<p><strong>5.1 LVM Snapshot:</strong></p>
<p>In another terminal session, run the following command to make an LVM snapshot of the database.</p>
<pre class="lang:bash decode:1 " >lvcreate -L10G -s -n mysql-backup /dev/mapper/dbases</pre>
<p>This creates a snapshot of the database files very quickly. We can use the snapshot later to copy the data to the backup server without interfering with the original database files.</p>
<p>After this command finishes, you can unlock the database as shown in the next step. Then you can mount the new LVM partition and copy the files to the backup server.</p>
<pre class="lang:bash decode:1 " >mkdir -p /mnt/mysql-backup</pre>
<pre class="lang:bash decode:1 " >mount -o nouuid /dev/mapper/mysql-backup /mnt/mysql-backup</pre>
<pre class="lang:bash decode:1 " >rsync -avz -e "ssh -c blowfish" /mnt/mysql-backup user@remote.host:/backup/location</pre>
<p><strong>5.2 RSYNC:</strong></p>
<p>If you don&#8217;t have your database files on an LVM partition, you can just copy the files to the backup server now using rsync, scp or what have you. This will take significantly longer (depending on the size of your database), leaving the database in a locked state.</p>
<pre class="lang:bash decode:1 " >rsync -avz -e "ssh -c blowfish" /dbases/mysql user@remote.host:/backup/location</pre>
<p><strong>5.3 MySQL Dump:</strong></p>
<p>You could also take a mysqldump of the database and copy that SQL file to the other server.</p>
<pre class="lang:bash decode:1 " >mysqldump -uuser -p --all-databases &gt; mysql-backup.sql</pre>
<pre class="lang:bash decode:1 " >scp mysql-backup.sql user@remote.host:/backup/location</pre>
</div>
<p><strong>Step 6.</strong> Once the lvcreate command has finished, you can unlock the database.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:sql decode:1 " >UNLOCK TABLES</pre>
</div>
<p><strong>Step 7.</strong> If you haven&#8217;t already, copy the copy of the database files to the backup server.</p>
<h3>On the slave server</h3>
<p><strong>Step 1.</strong> Edit the my.cnf file to include at least the following (if needed) lines. Note: you will have to restart MySQL for these changes to take affect.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:bash decode:1 " >
[mysqld]
server_id=2
</pre>
</div>
<p><strong>Step 2.</strong> Start MySQL and run the following commands in a mysql session to start the MySQL slave.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:sql decode:1 " >
CHANGE MASTER TO
MASTER_HOST = "master.server.com",
MASTER_USER = "rep_user",
MASTER_PASSWORD = "passwordhere",
MASTER_LOG_FILE = "mysql-bin.log",
MASTER_LOG_POS = 2341234;
</pre>
<p>The MASTER_HOST is the domain name or IP address of the master server. MASTER_USER, MASTER_PASSWORD were created on the master server in <strong>Step 2</strong>. MASTER_LOG_FILE and MASTER_LOG_POS were gathered in <strong>Step 4</strong>.Then, finally, to start the slave, issue the following command in mysql.</p>
<pre class="lang:sql decode:1 " >START SLAVE;</pre>
</div>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-07-24T15:49:38-04:00">24 July, 2012</time><time class="updated" datetime="2014-09-22T14:09:13-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../howto/index.html" rel="category tag">HowTo</a>, <a href="../../index.html" rel="category tag">Technical</a>, <a href="../../technology/index.html" rel="category tag">Technology</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/database-admin/index.html" rel="tag">database admin</a>, <a href="../../../../tag/mysql/index.html" rel="tag">mysql</a>, <a href="../../../../tag/server-admin/index.html" rel="tag">server admin</a></span><span class="comments-link"><a href="../../../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html#comments">2 Comments<span class="screen-reader-text"> on Backing up MySQL with Replication and Incremental Files &#8211; Part 1</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1277 -->

<article id="post-1258" class="post-1258 post type-post status-publish format-standard has-post-thumbnail hentry category-academic category-dissertation category-humanities category-technical tag-bash tag-command-line tag-digital-archives tag-dissertation tag-git tag-nazis tag-proceedings tag-thatcamp tag-weka">
	
	<a class="post-thumbnail" href="../../../../thatcamp-2012/index.html" aria-hidden="true">
		<img width="624" height="162" src="../../../../wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-624x162.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="THATCamp 2012" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-624x162.png 624w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-300x78.png 300w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-250x65.png 250w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-150x39.png 150w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM.png 771w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../thatcamp-2012/index.html" rel="bookmark">THATCamp 2012</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Believe it or not, this was my first ever <a href="http://thatcamp.org/">THATCamp</a> experience. Seems hard to imagine since I have worked at CHNM since before the inception of THATCamp.Â  Ah, well, the stars finally aligned, and was able to attend this year. And it was great.</p>
<p>&nbsp;</p>
<p>I attended three <a href="http://chnm2012.thatcamp.org/workshops/">workshops</a> on Friday, and a <a href="http://chnm2012.thatcamp.org/06/11/a-better-blogging-assignment/">couple</a> of <a href="http://chnm2012.thatcamp.org/06/15/shell-tutorial/">sessions</a> on Saturday. Here are some thoughts&#8230;</p>
<p><a href="http://chnm2012.thatcamp.org/workshops/#data-mining">Digital Data Mining with Weka</a>: This was a neat <a href="http://www.cs.gmu.edu/~hrangwal/dhdm">crash course</a> on what data mining is and is not, and one free tool to help do some of that. It was more of a &#8220;here&#8217;s what&#8217;s out there, how does it apply to the humanities&#8221; than a hands on, hands dirty, do some real work type of work shop. But it was good in that it opened up the possibility to do some data mining in the future. Since they were relatively small, here my notes:</p>
<p>What is data mining?</p>
<p>examples:</p>
<ul>
<li>recommend ads, products to users based on purchases</li>
<li>finding patterns in large amounts of text (writing algorithms to find those patterns)</li>
</ul>
<p>Goal of data mining is to predict what users/people will do based on data from other users/people</p>
<p>Data mining Tasks: classification, clustering, association rule discovery, sequential pattern discovery, regression, deviation detection</p>
<p>Goal is to predict the classification (or whatever) of future data, based on the current data that you analyze.</p>
<p>Cross validation (when done correctly you get true results, when not done correctly you get false results)</p>
<p>have multiple sets of data, one for training and the other for testing. Build the algorithm on the training data, then run it on the test. Then cycle through each testing data set and have it act as a training set. Do this way because you know the results for each, so you can tell if your algorithm is correct. When it&#8217;s good then you can use it on future data where you don&#8217;t know the result.</p>
<p><a href="http://chnm2012.thatcamp.org/workshops/#git">Interesting Things You Can Do With Gi</a>t: This one was highly anticipated. I have been wanting/needing to learn git for a while now. For being in the IT field, having written some code, and even having a GitHub account with code on it, I&#8217;m ashamed to say I still don&#8217;t know how to use git effectively. There is not much you can do in 1.5 hours, and this was more a theoretical &#8220;here are some ideas&#8221;, than a &#8220;here is how to do it&#8221; approach.</p>
<p>The session on using <a href="http://chnm2012.thatcamp.org/06/11/a-better-blogging-assignment/">blogs as assignments</a> was maybe a bit premature for me. The session was really good, great ideas, tips, etc. But me teaching is still too far away for me to have put the mental effort in to following along much. I spent most of the time trying to find a good twitter client, but in the end just stuck with <a href="http://adium.im/">Adium</a>.</p>
<p>Then I took some time to enjoy the hacker space. I decided it was time, and this was the perfect place to set up a transcription tool for my dissertation archive. So sitting at the very table where it is coded, I installed the <a href="http://scripto.org/">Scripto</a> plugin for Omeka. That&#8217;s a bit of a misnomer, since it is really a wrapper that lets Omeka and a Wikimedia install play nicely together. I went ahead and transcribed one of the documents in the archive as well. The archive is just in the testing phase, but here it is anyways: <a href="http://nazitunnels.org/archive">http://nazitunnels.org/archive</a></p>
<figure id="attachment_1261" aria-describedby="caption-attachment-1261" style="width: 780px" class="wp-caption aligncenter"><a href="http://nazitunnels.org/archive/"><img loading="lazy" decoding="async" class=" wp-image-1261  " title="Screen Shot 2012-06-18 at 4.50.06 PM" src="../../../../wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM.png" alt="" width="780" height="658" srcset="https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM.png 975w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM-300x252.png 300w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM-250x210.png 250w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM-150x126.png 150w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM-624x526.png 624w" sizes="(max-width: 780px) 100vw, 780px" /></a><figcaption id="caption-attachment-1261" class="wp-caption-text">Nazi Tunnels Archive</figcaption></figure>
<p>The final event of THATCamp for me was one last session proposed by a fellow &#8220;camper&#8221;. She wanted help <a href="http://chnm2012.thatcamp.org/06/15/shell-tutorial/">learning about the shell</a>/terminal/command line. So I volunteered to help out with that. It ended up that there were about eight people that wanted help learning the command line, and four of us that knew what we were doing. So it ended up being a great ratio of help needed to those who could offer it. We started with the very basics, didn&#8217;t get much past a few commands (ls, cd, rm, nano, grep, cat), but we went slow enough that everybody who was trying to follow along was able to, and they all left with a clearer understanding of what the shell is for, and why it is useful. The proposer found a <a href="http://cli.learncodethehardway.org/book/">great tutorial/book for learning the command line</a> that I&#8217;ll have to go through as well. You can always learn something new.</p>
<p>What was also great about that session, since it was basically ran by those who needed the help, I saw how those who struggle with these concepts learn them, so I will hopefully be better able to teach them to others in the future.</p>
<p>&nbsp;</p>
<p>UPDATE: I forgot to mention the many cool sites and projects mentioned during Saturday morning&#8217;s Dork Shorts. Here&#8217;s a list of the ones I took notice of.</p>
<p><a href="http://afripod.aodl.org/">http://afripod.aodl.org/</a><br />
<a href="https://github.com/AramZS/twitter-search-shortcode">https://github.com/AramZS/twitter-search-shortcode</a><br />
<a href="http://cowriting.trincoll.edu/">http://cowriting.trincoll.edu/</a><br />
<a href="http://www.digitalculture.org/2012/06/15/dcw-volume-1-issue-4-lib-report-mlaoa-and-e-lit-pedagogy/">http://www.digitalculture.org/2012/06/15/dcw-volume-1-issue-4-lib-report-mlaoa-and-e-lit-pedagogy/</a><br />
<a href="http://luna.folger.edu/luna/servlet/BINDINGS~1~1">http://luna.folger.edu/luna/servlet/BINDINGS~1~1</a><br />
<a href="http://www.insidehighered.com/blogs/gradhacker">http://www.insidehighered.com/blogs/gradhacker</a><br />
<a href="http://hacking.fugitivetexts.net/">http://hacking.fugitivetexts.net/</a><br />
<a href="http://jitp.commons.gc.cuny.edu/">http://jitp.commons.gc.cuny.edu/</a><br />
<a href="http://www.neh.gov/">http://www.neh.gov/</a><br />
<a href="http://penn.museum/">http://penn.museum/</a><br />
<a href="http://www.playthepast.org/">http://www.playthepast.org/</a><br />
<a href="http://anglicanhistory.org/">http://anglicanhistory.org/</a><br />
<a href="http://podcast.gradhacker.org/">http://podcast.gradhacker.org/</a><br />
<a href="http://dhcommons.org/">http://dhcommons.org/</a><br />
<a href="http://ulyssesseen.com/">http://ulyssesseen.com/</a><br />
<a href="http://m.thehenryford.org/">http://m.thehenryford.org/</a></p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../thatcamp-2012/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-06-18T17:05:51-04:00">18 June, 2012</time><time class="updated" datetime="2012-07-31T15:16:38-04:00">31 July, 2012</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../academic/index.html" rel="category tag">Academic</a>, <a href="../../../academic/school-work/dissertation/index.html" rel="category tag">Dissertation</a>, <a href="../../../academic/humanities/index.html" rel="category tag">humanities</a>, <a href="../../index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/bash/index.html" rel="tag">bash</a>, <a href="../../../../tag/command-line/index.html" rel="tag">command line</a>, <a href="../../../../tag/digital-archives/index.html" rel="tag">digital archives</a>, <a href="../../../../tag/dissertation/index.html" rel="tag">Dissertation</a>, <a href="../../../../tag/git/index.html" rel="tag">git</a>, <a href="../../../../tag/nazis/index.html" rel="tag">nazis</a>, <a href="../../../../tag/proceedings/index.html" rel="tag">proceedings</a>, <a href="../../../../tag/thatcamp/index.html" rel="tag">THATCamp</a>, <a href="../../../../tag/weka/index.html" rel="tag">weka</a></span><span class="comments-link"><a href="../../../../thatcamp-2012/index.html#comments">3 Comments<span class="screen-reader-text"> on THATCamp 2012</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1258 -->

<article id="post-1226" class="post-1226 post type-post status-publish format-standard has-post-thumbnail hentry category-technical category-websites tag-awstats tag-bash tag-bash-code">
	
	<a class="post-thumbnail" href="../../../../filling-in-the-missing-dates-with-awstats/index.html" aria-hidden="true">
		<img width="624" height="191" src="../../../../wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-624x191.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Filling in the missing dates with AWStats" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-624x191.png 624w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-300x91.png 300w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-250x76.png 250w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-150x45.png 150w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM.png 650w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../../../filling-in-the-missing-dates-with-awstats/index.html" rel="bookmark">Filling in the missing dates with AWStats</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<h3>Doh!</h3>
<p>Sometimes AWStats will miss some days in calculating stats for your site, and that leaves a big hole in your records. Usually, as in my case, it&#8217;s because I messed up. I reinstalled some software on our AWStats machine, and forgot to reinstall cron. Cron is the absolutely necessary tool for getting the server to run things on a timed schedule. I didn&#8217;t notice this until several days later, leading to a large gap in the stats for April.</p>
<h3>What to do?</h3>
<p>Fortunately, there is a fix. Unfortunately, it&#8217;s a bit labor intensive, and depends on how you rotate your apache logs (if at all, which you should). The <a href="http://awstats.sourceforge.net/docs/awstats_faq.html#OLDLOG">AWStats Documentation</a> (see FAQ-COM350 and FAQ-COM360) has some basic steps to fix the issue, outlined below:</p>
<ol>
<li>Move the AWStats data files for months newer to a temporary directory.</li>
<li>Copy the Apache logs with all of the stats for the month with the missing days to a temporary directory.</li>
<li>Run the AWStats update tool, using AWStat&#8217;s logresolvemerge tool and other changed paramaters, to re-create the AWStats data file for that month</li>
<li>Replace the AWStats data files for the following months (undo step 1).</li>
</ol>
<h3>The Devil&#8217;s in the Details</h3>
<p>Again, depending on how you have Apache logs set up, this can be an intensive process. Here&#8217;s how I have Apache set up, and the process I went through to get the missing days back into AWStats.</p>
<p>We have our Apache logs rotate each day for each domain on the server (or sub-directory that is calculated separately). This means I&#8217;ll have to do this process about 140 times. Looks like I need to write a script&#8230;</p>
<h3>Step 1. Move the data files of newer months</h3>
<p>AWStats can&#8217;t run the update on older months if there are more recent months located in the data directory. So we&#8217;ll need to move the more recent month&#8217;s stats to a temporary location out of the way. So, if the missing dates are in June, and it is currently August, you&#8217;ll need to remove the data files for June, July, and August (they look like this <code>awstatsMMYYYY.domain-name.com.txt</code> where MM is the two digit month and YYYY is the four digit year) to a temporary directory so they are out of the way.</p>
<h3>Step 2. Get the Apache logs for the month.</h3>
<p>First step is to get all of the logs for each domain for the month. This will work out to about 30 or 31 files (if the month is already past), or however many days have past in the current month. For me, each domain archives the days logs in the following format <code>domain.name.com-access_log-X.gz</code> and <code>domain.name.com-error_log-X.gz</code> where the X is a sequential number. So the first problem is how to get the correct file name without having to look in each file to see if it has the right day? Fortunately for me, nothing touches these files after they are created, so their mtime (the <strong>time</strong> stamp of when they were last <strong>m</strong>odified) is intact and usable. Now, a quick one-liner to grab all of the files within a certain date range and put their content in a new file.</p>
<p>We&#8217;ll use the find command to find the correct files. Before we construct that command, we&#8217;ll need to create a couple of files to use for our start and end dates.</p>
<pre class="lang:bash decode:1 " >touch --date YYYY-MM-DD /tmp/start</pre>
<pre class="lang:bash decode:1 " >touch --date YYYY-MM-DD /tmp/end</pre>
<p>Now we can use those files in the actual find command. You may need to create the <code>/tmp/apachelogs/</code> directory first.</p>
<pre class="lang:bash decode:1 " >find /path/to/apache/logs/archive/ -name "domain-name.com-*" -newer /tmp/start -not -newer /tmp/end -exec cp '{}' /tmp/apachelogs/ \;</pre>
<p>Now unzip those files so they are usable. Move into the <code>/tmp/apachelogs/</code> directory, and run the gunzip command.</p>
<pre class="lang:bash decode:1 " >gunzip *log*</pre>
<p>If you are doing the current month, then copy in the current apache log for that domain.</p>
<pre class="lang:bash decode:1 " >cp /path/to/apache/logs/current/domain-name.com* /tmp/apachelogs/</pre>
<p>This puts all of the domains log files for the month into a directory that we can use in the AWStats update command</p>
<p>Things to note: You need to make sure that each of the log files you have just copied use the same format. You also need to make sure they only contain data for one month. You can edit the files by hand or throw some fancy sed commands at the files to remove any extraneous data.</p>
<h3>Step 3. Run the AWStats logresolvemerge and update tool</h3>
<p>Now comes the fun part. We first run the logresolvemerge tool on the log files we created in the previous step to create one single log file for the whole month. While in the &lt;code&gt;/tmp/apachelogs/&lt;/code&gt; directory, run:</p>
<pre class="lang:bash decode:1 " >perl /path/to/logresolvemerger.pl *log* &gt; domain-name.com-YYYY-MM-log</pre>
<p>Now, we need to run the AWStats update tool with a few parameters to account for the location of the new log file.</p>
<pre class="lang:bash decode:1 " >perl /path/to/awstats.pl -update -configdir="/path/to/awstats/configs" -config="domain-name.com" -LogFile="/tmp/apachelogs/domain-name.com-YYYY-MM-log"</pre>
<h3>Step 4. Move back any remaining files</h3>
<p>If you moved any of the AWStats data files (<code>awstatsMMYYYY.domain-name.com.txt</code> like for July and August in our example) now&#8217;s the time to move them back where they go.</p>
<p>&nbsp;</p>
<p>Yeah, that fixed it!</p>
<p>&nbsp;</p>
<figure id="attachment_1245" aria-describedby="caption-attachment-1245" style="width: 658px" class="wp-caption aligncenter"><a href="../../../../wp-content/uploads/2012/04/awstats-fixed.png"><img loading="lazy" decoding="async" class="size-full wp-image-1245" title="awstats-fixed" src="../../../../wp-content/uploads/2012/04/awstats-fixed.png" alt="" width="658" height="160" srcset="https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed.png 658w, https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed-300x72.png 300w, https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed-250x60.png 250w, https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed-150x36.png 150w, https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed-624x151.png 624w" sizes="(max-width: 658px) 100vw, 658px" /></a><figcaption id="caption-attachment-1245" class="wp-caption-text">Phew! The missing dates are back!</figcaption></figure>
<p>&nbsp;</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../filling-in-the-missing-dates-with-awstats/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-04-25T15:23:58-04:00">25 April, 2012</time><time class="updated" datetime="2014-09-22T14:09:13-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../index.html" rel="category tag">Technical</a>, <a href="../../websites/index.html" rel="category tag">Websites</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/awstats/index.html" rel="tag">awstats</a>, <a href="../../../../tag/bash/index.html" rel="tag">bash</a>, <a href="../../../../tag/bash-code/index.html" rel="tag">bash code</a></span><span class="comments-link"><a href="../../../../filling-in-the-missing-dates-with-awstats/index.html#comments">2 Comments<span class="screen-reader-text"> on Filling in the missing dates with AWStats</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1226 -->

	<nav class="navigation pagination" aria-label="Posts">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><a class="prev page-numbers" href="../../index.html">Previous page</a>
<a class="page-numbers" href="../../index.html"><span class="meta-nav screen-reader-text">Page </span>1</a>
<span aria-current="page" class="page-numbers current"><span class="meta-nav screen-reader-text">Page </span>2</span>
<a class="page-numbers" href="../3/index.html"><span class="meta-nav screen-reader-text">Page </span>3</a>
<span class="page-numbers dots">&hellip;</span>
<a class="page-numbers" href="../7/index.html"><span class="meta-nav screen-reader-text">Page </span>7</a>
<a class="next page-numbers" href="../3/index.html">Next page</a></div>
	</nav>
		</main><!-- .site-main -->
	</section><!-- .content-area -->


	</div><!-- .site-content -->

	<footer id="colophon" class="site-footer">
		<div class="site-info">
									<a href="https://wordpress.org/" class="imprint">
				Proudly powered by WordPress			</a>
		</div><!-- .site-info -->
	</footer><!-- .site-footer -->

</div><!-- .site -->

<script src="https://stats.wp.com/e-202432.js" id="jetpack-stats-js" data-wp-strategy="defer"></script>
<script id="jetpack-stats-js-after">
_stq = window._stq || [];
_stq.push([ "view", JSON.parse("{\"v\":\"ext\",\"blog\":\"140707563\",\"post\":\"0\",\"tz\":\"-4\",\"srv\":\"mossiso.com\",\"j\":\"1:13.1.3\"}") ]);
_stq.push([ "clickTrackerInit", "140707563", "0" ]);
</script>

</body>
</html>
