<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="profile" href="https://gmpg.org/xfn/11">
	<link rel="pingback" href="https://mossiso.com/xmlrpc.php">
	<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Ammon Shepherd &#8211; Page 4 &#8211; mossiso = more better</title>
<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='https://stats.wp.com/' />
<link rel='dns-prefetch' href='https://v0.wordpress.com/' />
<link rel="alternate" type="application/rss+xml" title="Ammon Shepherd &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Ammon Shepherd &raquo; Comments Feed" href="../../comments/feed/index.html" />
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/mossiso.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.6.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\u2b1b","\ud83d\udc26\u200b\u2b1b")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<link rel='stylesheet' id='twentyfifteen-jetpack-css' href='../../wp-content/plugins/jetpack/modules/theme-tools/compat/twentyfifteen.css%3Fver=13.1.3.css' media='all' />
<style id='wp-emoji-styles-inline-css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../../wp-includes/css/dist/block-library/style.min.css%3Fver=6.6.1.css' media='all' />
<style id='wp-block-library-inline-css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='wp-block-library-theme-inline-css'>
.wp-block-audio :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio :where(figcaption){color:#ffffffa6}.wp-block-audio{margin:0 0 1em}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed :where(figcaption){color:#ffffffa6}.wp-block-embed{margin:0 0 1em}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:#ffffffa6}:root :where(.wp-block-image figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme :root :where(.wp-block-image figcaption){color:#ffffffa6}.wp-block-image{margin:0 0 1em}.wp-block-pullquote{border-bottom:4px solid;border-top:4px solid;color:currentColor;margin-bottom:1.75em}.wp-block-pullquote cite,.wp-block-pullquote footer,.wp-block-pullquote__citation{color:currentColor;font-size:.8125em;font-style:normal;text-transform:uppercase}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;font-style:normal;position:relative}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote.is-style-plain{border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-search__button{border:1px solid #ccc;padding:.375em .625em}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table{margin:0 0 1em}.wp-block-table td,.wp-block-table th{word-break:normal}.wp-block-table :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table :where(figcaption){color:#ffffffa6}.wp-block-video :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video :where(figcaption){color:#ffffffa6}.wp-block-video{margin:0 0 1em}:root :where(.wp-block-template-part.has-background){margin-bottom:0;margin-top:0;padding:1.25em 2.375em}
</style>
<link rel='stylesheet' id='mediaelement-css' href='../../wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css%3Fver=4.2.17.css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css' href='../../wp-includes/js/mediaelement/wp-mediaelement.min.css%3Fver=6.6.1.css' media='all' />
<style id='jetpack-sharing-buttons-style-inline-css'>
.jetpack-sharing-buttons__services-list{display:flex;flex-direction:row;flex-wrap:wrap;gap:0;list-style-type:none;margin:5px;padding:0}.jetpack-sharing-buttons__services-list.has-small-icon-size{font-size:12px}.jetpack-sharing-buttons__services-list.has-normal-icon-size{font-size:16px}.jetpack-sharing-buttons__services-list.has-large-icon-size{font-size:24px}.jetpack-sharing-buttons__services-list.has-huge-icon-size{font-size:36px}@media print{.jetpack-sharing-buttons__services-list{display:none!important}}ul.jetpack-sharing-buttons__services-list.has-background{padding:1.25em 2.375em}
</style>
<style id='classic-theme-styles-inline-css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #fff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--dark-gray: #111;--wp--preset--color--light-gray: #f1f1f1;--wp--preset--color--yellow: #f4ca16;--wp--preset--color--dark-brown: #352712;--wp--preset--color--medium-pink: #e53b51;--wp--preset--color--light-pink: #ffe5d1;--wp--preset--color--dark-purple: #2e2256;--wp--preset--color--purple: #674970;--wp--preset--color--blue-gray: #22313f;--wp--preset--color--bright-blue: #55c3dc;--wp--preset--color--light-blue: #e9f2f9;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--gradient--dark-gray-gradient-gradient: linear-gradient(90deg, rgba(17,17,17,1) 0%, rgba(42,42,42,1) 100%);--wp--preset--gradient--light-gray-gradient: linear-gradient(90deg, rgba(241,241,241,1) 0%, rgba(215,215,215,1) 100%);--wp--preset--gradient--white-gradient: linear-gradient(90deg, rgba(255,255,255,1) 0%, rgba(230,230,230,1) 100%);--wp--preset--gradient--yellow-gradient: linear-gradient(90deg, rgba(244,202,22,1) 0%, rgba(205,168,10,1) 100%);--wp--preset--gradient--dark-brown-gradient: linear-gradient(90deg, rgba(53,39,18,1) 0%, rgba(91,67,31,1) 100%);--wp--preset--gradient--medium-pink-gradient: linear-gradient(90deg, rgba(229,59,81,1) 0%, rgba(209,28,51,1) 100%);--wp--preset--gradient--light-pink-gradient: linear-gradient(90deg, rgba(255,229,209,1) 0%, rgba(255,200,158,1) 100%);--wp--preset--gradient--dark-purple-gradient: linear-gradient(90deg, rgba(46,34,86,1) 0%, rgba(66,48,123,1) 100%);--wp--preset--gradient--purple-gradient: linear-gradient(90deg, rgba(103,73,112,1) 0%, rgba(131,93,143,1) 100%);--wp--preset--gradient--blue-gray-gradient: linear-gradient(90deg, rgba(34,49,63,1) 0%, rgba(52,75,96,1) 100%);--wp--preset--gradient--bright-blue-gradient: linear-gradient(90deg, rgba(85,195,220,1) 0%, rgba(43,180,211,1) 100%);--wp--preset--gradient--light-blue-gradient: linear-gradient(90deg, rgba(233,242,249,1) 0%, rgba(193,218,238,1) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='twentyfifteen-fonts-css' href='../../wp-content/themes/twentyfifteen/assets/fonts/noto-sans-plus-noto-serif-plus-inconsolata.css%3Fver=20230328.css' media='all' />
<link rel='stylesheet' id='genericons-css' href='../../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css%3Fver=3.1.css' media='all' />
<link rel='stylesheet' id='twentyfifteen-style-css' href='../../wp-content/themes/twentyfifteen/style.css%3Fver=20231107.css' media='all' />
<link rel='stylesheet' id='twentyfifteen-block-style-css' href='../../wp-content/themes/twentyfifteen/css/blocks.css%3Fver=20230623.css' media='all' />
<link rel='stylesheet' id='jetpack_css-css' href='../../wp-content/plugins/jetpack/css/jetpack.css%3Fver=13.1.3.css' media='all' />
<link rel='stylesheet' id='sociable3-css' href='../../wp-content/plugins/sociable-30/sociable.css%3Fver=5.13.css' media='all' />
<script src="../../wp-includes/js/jquery/jquery.min.js%3Fver=3.7.1" id="jquery-core-js"></script>
<script src="../../wp-includes/js/jquery/jquery-migrate.min.js%3Fver=3.4.1" id="jquery-migrate-js"></script>
<script id="twentyfifteen-script-js-extra">
var screenReaderText = {"expand":"<span class=\"screen-reader-text\">expand child menu<\/span>","collapse":"<span class=\"screen-reader-text\">collapse child menu<\/span>"};
</script>
<script src="../../wp-content/themes/twentyfifteen/js/functions.js%3Fver=20221101" id="twentyfifteen-script-js" defer data-wp-strategy="defer"></script>
<link rel="https://api.w.org/" href="../../wp-json/index.html" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://mossiso.com/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 6.6.1" />
<link rel='shortlink' href='https://wp.me/9wosP' />
	<style>img#wpstats{display:none}</style>
		
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="Ammon Shepherd" />
<meta property="og:description" content="mossiso = more better" />
<meta property="og:url" content="https://mossiso.com/" />
<meta property="og:site_name" content="Ammon Shepherd" />
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg" />
<meta property="og:image:alt" content="" />
<meta property="og:locale" content="en_US" />

<!-- End Jetpack Open Graph Tags -->
<link rel="icon" href="../../wp-content/uploads/2018/12/favicon-96x96.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/2018/12/favicon-96x96.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/2018/12/favicon-96x96.png" />
<meta name="msapplication-TileImage" content="https://mossiso.com/wp-content/uploads/2018/12/favicon-96x96.png" />
<style type="text/css" id="wp-custom-css">a {
	color:#BE1E23;
}</style></head>

<body class="home blog paged wp-custom-logo wp-embed-responsive paged-4">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="index.html#content">
		Skip to content	</a>

	<div id="sidebar" class="sidebar">
		<header id="masthead" class="site-header">
			<div class="site-branding">
				<a href="../../index.html" class="custom-logo-link" rel="home"><img width="192" height="192" src="../../wp-content/uploads/2018/12/android-icon-192x192.png" class="custom-logo" alt="Ammon Shepherd" decoding="async" srcset="https://mossiso.com/wp-content/uploads/2018/12/android-icon-192x192.png 192w, https://mossiso.com/wp-content/uploads/2018/12/android-icon-192x192-150x150.png 150w" sizes="(max-width: 192px) 100vw, 192px" /></a>						<h1 class="site-title"><a href="../../index.html" rel="home">Ammon Shepherd</a></h1>
											<p class="site-description">mossiso = more better</p>
										<button class="secondary-toggle">Menu and widgets</button>
			</div><!-- .site-branding -->
		</header><!-- .site-header -->

			<div id="secondary" class="secondary">

					<nav id="site-navigation" class="main-navigation">
				<div class="menu-newmain-container"><ul id="menu-newmain" class="nav-menu"><li id="menu-item-1768" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1768"><a href="../../about/index.html">About</a></li>
<li id="menu-item-1766" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1766"><a href="../../digital-projects/index.html">Digital Projects</a></li>
<li id="menu-item-1767" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1767"><a href="../../courses/index.html">Courses</a></li>
<li id="menu-item-1769" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1769"><a href="https://github.com/ammonshepherd">Code</a></li>
<li id="menu-item-1770" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1770"><a href="../../resume/index.html">CV</a></li>
</ul></div>			</nav><!-- .main-navigation -->
		
		
		
	</div><!-- .secondary -->

	</div><!-- .sidebar -->

	<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main">

		
			
			
<article id="post-1277" class="post-1277 post type-post status-publish format-standard has-post-thumbnail hentry category-howto category-technical category-technology tag-database-admin tag-mysql tag-server-admin">
	
	<a class="post-thumbnail" href="../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html" aria-hidden="true">
		<img width="624" height="210" src="../../wp-content/uploads/2012/07/mysql-replication-624x210.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Backing up MySQL with Replication and Incremental Files &#8211; Part 1" decoding="async" fetchpriority="high" srcset="https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-624x210.jpg 624w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-300x101.jpg 300w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-1024x345.jpg 1024w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-250x84.jpg 250w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication-150x50.jpg 150w, https://mossiso.com/wp-content/uploads/2012/07/mysql-replication.jpg 1473w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html" rel="bookmark">Backing up MySQL with Replication and Incremental Files &#8211; Part 1</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>I&#8217;m trying this new idea for backing up our production MySQL servers. I have a backup server that basically runs rdiff-backup in the morning across several servers, but then does nothing for the rest of the day. It&#8217;s a pretty decent machine, so I&#8217;d like to utilize some resources. Databases are a tough cookie to backup. You can&#8217;t just copy the data files and then expect to copy them back over and have them just work. Especially if your databases have a mixture of InnoDB and MyISAM tables. In order to do a clean and accurate database backup, you need to stop the MySQL server, then copy the files, then restart MySQL.</p>
<p>If you have a live production MySQL server, stopping it to make a backup is not really an option. Fortunately there are a few options. Before you decide on which option to choose, here is a list of things to keep in mind when choosing a backup solution (from the MySQL gurus at Percona):</p>
<h3>WHAT TO LOOK FOR</h3>
<p><a href="http://www.mysqlperformanceblog.com/2009/03/03/10-things-you-need-to-know-about-backup-solutions-for-mysql/" target="_blank">http://www.mysqlperformanceblog.com/2009/03/03/10-things-you-need-to-know-about-backup-solutions-for-mysql/</a></p>
<ol>
<li>Does the backup require shutting down MySQL? If not, what is the impact on the running server? Blocking, I/O load, cache pollution, etc?</li>
<li>What technique is used for the backup? Is it mysqldump or a custom product that does something similar? Is it a filesystem copy?</li>
<li>Does the backup system understand that <em>you cannot back up InnoDB by simply copying its files</em>?</li>
<li>Does the backup use FLUSH TABLES, LOCK TABLES, or FLUSH TABLES WITH READ LOCK? These all interrupt processing.</li>
<li>What other effects are there on MySQL? I’ve seen systems that do a RESET MASTER, which immediately breaks replication. Are there any FLUSH commands at all, like FLUSH LOGS?</li>
<li>How does the system guarantee that you can perform point-in-time recovery?</li>
<li>How does the system guarantee consistency with the binary log, InnoDB logs, and replication?</li>
<li>Can you use the system to set up new MySQL replication slaves? How?</li>
<li>Does the system verify that the backup is restorable, e.g. does it run InnoDB recovery before declaring success?</li>
<li>Does anyone stand behind it with support, and guarantee working, recoverable backups? How strong is the legal guarantee of this and how much insurance do they have?</li>
</ol>
<p>&nbsp;</p>
<h3>BACKUP PROGRAMS</h3>
<p>There are a few MySQL backup products out there as well. I have used the first two on this list.</p>
<ul>
<li><a href="http://sourceforge.net/projects/automysqlbackup/" target="_blank">AutoMySQLBackup</a> script (handy for making a rotating incremental backup of your MySQL databases).</li>
<li><a href="http://www.percona.com/software/percona-xtrabackup/" target="_blank">Percona XtraBackup</a> (nice way to ensure InnoDB and MyISAM tables are backed up properly, also does it incrementally)</li>
<li><a href="https://zmanda.com/backup-mysql.html" target="_blank">Zmanda</a> (seems to be similar to Percona&#8217;s set up)</li>
</ul>
<p>There&#8217;s probably a gazillion more out there. Google&#8217;s your friend in finding things you need.</p>
<h3>HOW TO DO IT</h3>
<figure id="attachment_1279" aria-describedby="caption-attachment-1279" style="width: 300px" class="wp-caption alignright"><a href="../../wp-content/uploads/2012/07/master-and-slave.png"><img decoding="async" class="size-medium wp-image-1279" title="master-and-slave" alt="" src="../../wp-content/uploads/2012/07/master-and-slave-300x125.png" width="300" height="125" srcset="https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-300x125.png 300w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-250x104.png 250w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave-150x62.png 150w, https://mossiso.com/wp-content/uploads/2012/07/master-and-slave.png 503w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1279" class="wp-caption-text">How to get a copy of the master to the slave?</figcaption></figure>
<p>There are several options. You could use a script above, or create a slave of the database (basically an exact copy of the production MySQL server &#8211; all changes that occur in the master are sent to the slave), or some combination. I&#8217;ll use a combination. I&#8217;ll replicate the production server onto the backup server, then run the incremental backups from there. This first part will walk through the process of setting up MySQL replication.</p>
<p>To give proper credit, here are several other how to&#8217;s I found helpful.</p>
<ul>
<li><a href="http://www.badllama.com/content/mysql-backups-using-lvm-snapshots" target="_blank">http://www.badllama.com/content/mysql-backups-using-lvm-snapshots</a></li>
<li><a href="http://www.mysqlperformanceblog.com/2006/08/21/using-lvm-for-mysql-backup-and-replication-setup/" target="_blank">http://www.mysqlperformanceblog.com/2006/08/21/using-lvm-for-mysql-backup-and-replication-setup/</a></li>
<li><a href="http://www.softwareprojects.com/resources/programming/t-how-to-move-copy-a-live-mysql-database-and-what-1257.html" target="_blank">http://www.softwareprojects.com/resources/programming/t-how-to-move-copy-a-live-mysql-database-and-what-1257.html</a></li>
<li><a href="http://www.clusterdb.com/mysql-cluster/get-mysql-replication-up-and-running-in-5-minutes/" target="_blank">http://www.clusterdb.com/mysql-cluster/get-mysql-replication-up-and-running-in-5-minutes/</a></li>
</ul>
<h3>On the master server</h3>
<p><strong>Step 1.</strong> Edit the my.cnf file to include at least the following (if needed) lines. Note: you will have to restart MySQL for these changes to take affect.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:bash decode:1 " >
[mysqld]
server_id=1
innodb_flush_log_at_trx_commit=1
log_bin=mysql-bin.log
sync_binlog=1
</pre>
</div>
<p><strong>Step 2.</strong> Make a MySQL user for the slave to use.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">In a MySQL session on the terminal, type in the command:</p>
<pre class="lang:sql decode:1 " >GRANT REPLICATION SLAVE ON *.* TO 'rep_user'@'localhost' IDENTIFIED BY 'passwordhere';</pre>
</div>
<p><strong>Step 3.</strong> Open a terminal session and log in to a MySQL prompt. Type the following command and hit enter.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:sql decode:1 " >FLUSH TABLES WITH READ LOCK</pre>
<p>Note: This will lock your database so that no changes can be made from any web applications or other programs. This session should remain open, and the database locked for the next few steps.</p>
</div>
<p><strong>Step 4.</strong> After the FLUSH TABLES command finishes, run the following command and press enter.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:sql decode:1 " >SHOW MASTER STATUS</pre>
<p>Record the information under &#8220;File Name&#8221; and &#8220;Position&#8221;.</p>
</div>
<p><strong>Step 5. </strong> Make a copy of the database files.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<p><strong>5.1 LVM Snapshot:</strong></p>
<p>In another terminal session, run the following command to make an LVM snapshot of the database.</p>
<pre class="lang:bash decode:1 " >lvcreate -L10G -s -n mysql-backup /dev/mapper/dbases</pre>
<p>This creates a snapshot of the database files very quickly. We can use the snapshot later to copy the data to the backup server without interfering with the original database files.</p>
<p>After this command finishes, you can unlock the database as shown in the next step. Then you can mount the new LVM partition and copy the files to the backup server.</p>
<pre class="lang:bash decode:1 " >mkdir -p /mnt/mysql-backup</pre>
<pre class="lang:bash decode:1 " >mount -o nouuid /dev/mapper/mysql-backup /mnt/mysql-backup</pre>
<pre class="lang:bash decode:1 " >rsync -avz -e "ssh -c blowfish" /mnt/mysql-backup user@remote.host:/backup/location</pre>
<p><strong>5.2 RSYNC:</strong></p>
<p>If you don&#8217;t have your database files on an LVM partition, you can just copy the files to the backup server now using rsync, scp or what have you. This will take significantly longer (depending on the size of your database), leaving the database in a locked state.</p>
<pre class="lang:bash decode:1 " >rsync -avz -e "ssh -c blowfish" /dbases/mysql user@remote.host:/backup/location</pre>
<p><strong>5.3 MySQL Dump:</strong></p>
<p>You could also take a mysqldump of the database and copy that SQL file to the other server.</p>
<pre class="lang:bash decode:1 " >mysqldump -uuser -p --all-databases &gt; mysql-backup.sql</pre>
<pre class="lang:bash decode:1 " >scp mysql-backup.sql user@remote.host:/backup/location</pre>
</div>
<p><strong>Step 6.</strong> Once the lvcreate command has finished, you can unlock the database.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:sql decode:1 " >UNLOCK TABLES</pre>
</div>
<p><strong>Step 7.</strong> If you haven&#8217;t already, copy the copy of the database files to the backup server.</p>
<h3>On the slave server</h3>
<p><strong>Step 1.</strong> Edit the my.cnf file to include at least the following (if needed) lines. Note: you will have to restart MySQL for these changes to take affect.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:bash decode:1 " >
[mysqld]
server_id=2
</pre>
</div>
<p><strong>Step 2.</strong> Start MySQL and run the following commands in a mysql session to start the MySQL slave.</p>
<div style="padding-left: 30px; margin-bottom: 50px;">
<pre class="lang:sql decode:1 " >
CHANGE MASTER TO
MASTER_HOST = "master.server.com",
MASTER_USER = "rep_user",
MASTER_PASSWORD = "passwordhere",
MASTER_LOG_FILE = "mysql-bin.log",
MASTER_LOG_POS = 2341234;
</pre>
<p>The MASTER_HOST is the domain name or IP address of the master server. MASTER_USER, MASTER_PASSWORD were created on the master server in <strong>Step 2</strong>. MASTER_LOG_FILE and MASTER_LOG_POS were gathered in <strong>Step 4</strong>.Then, finally, to start the slave, issue the following command in mysql.</p>
<pre class="lang:sql decode:1 " >START SLAVE;</pre>
</div>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-07-24T15:49:38-04:00">24 July, 2012</time><time class="updated" datetime="2014-09-22T14:09:13-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/technical/howto/index.html" rel="category tag">HowTo</a>, <a href="../../category/technical/index.html" rel="category tag">Technical</a>, <a href="../../category/technical/technology/index.html" rel="category tag">Technology</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/database-admin/index.html" rel="tag">database admin</a>, <a href="../../tag/mysql/index.html" rel="tag">mysql</a>, <a href="../../tag/server-admin/index.html" rel="tag">server admin</a></span><span class="comments-link"><a href="../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html#comments">2 Comments<span class="screen-reader-text"> on Backing up MySQL with Replication and Incremental Files &#8211; Part 1</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1277 -->

<article id="post-1258" class="post-1258 post type-post status-publish format-standard has-post-thumbnail hentry category-academic category-dissertation category-humanities category-technical tag-bash tag-command-line tag-digital-archives tag-dissertation tag-git tag-nazis tag-proceedings tag-thatcamp tag-weka">
	
	<a class="post-thumbnail" href="../../thatcamp-2012/index.html" aria-hidden="true">
		<img width="624" height="162" src="../../wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-624x162.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="THATCamp 2012" decoding="async" srcset="https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-624x162.png 624w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-300x78.png 300w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-250x65.png 250w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM-150x39.png 150w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-2.55.50-PM.png 771w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../thatcamp-2012/index.html" rel="bookmark">THATCamp 2012</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Believe it or not, this was my first ever <a href="http://thatcamp.org/">THATCamp</a> experience. Seems hard to imagine since I have worked at CHNM since before the inception of THATCamp.  Ah, well, the stars finally aligned, and was able to attend this year. And it was great.</p>
<p>&nbsp;</p>
<p>I attended three <a href="http://chnm2012.thatcamp.org/workshops/">workshops</a> on Friday, and a <a href="http://chnm2012.thatcamp.org/06/11/a-better-blogging-assignment/">couple</a> of <a href="http://chnm2012.thatcamp.org/06/15/shell-tutorial/">sessions</a> on Saturday. Here are some thoughts&#8230;</p>
<p><a href="http://chnm2012.thatcamp.org/workshops/#data-mining">Digital Data Mining with Weka</a>: This was a neat <a href="http://www.cs.gmu.edu/~hrangwal/dhdm">crash course</a> on what data mining is and is not, and one free tool to help do some of that. It was more of a &#8220;here&#8217;s what&#8217;s out there, how does it apply to the humanities&#8221; than a hands on, hands dirty, do some real work type of work shop. But it was good in that it opened up the possibility to do some data mining in the future. Since they were relatively small, here my notes:</p>
<p>What is data mining?</p>
<p>examples:</p>
<ul>
<li>recommend ads, products to users based on purchases</li>
<li>finding patterns in large amounts of text (writing algorithms to find those patterns)</li>
</ul>
<p>Goal of data mining is to predict what users/people will do based on data from other users/people</p>
<p>Data mining Tasks: classification, clustering, association rule discovery, sequential pattern discovery, regression, deviation detection</p>
<p>Goal is to predict the classification (or whatever) of future data, based on the current data that you analyze.</p>
<p>Cross validation (when done correctly you get true results, when not done correctly you get false results)</p>
<p>have multiple sets of data, one for training and the other for testing. Build the algorithm on the training data, then run it on the test. Then cycle through each testing data set and have it act as a training set. Do this way because you know the results for each, so you can tell if your algorithm is correct. When it&#8217;s good then you can use it on future data where you don&#8217;t know the result.</p>
<p><a href="http://chnm2012.thatcamp.org/workshops/#git">Interesting Things You Can Do With Gi</a>t: This one was highly anticipated. I have been wanting/needing to learn git for a while now. For being in the IT field, having written some code, and even having a GitHub account with code on it, I&#8217;m ashamed to say I still don&#8217;t know how to use git effectively. There is not much you can do in 1.5 hours, and this was more a theoretical &#8220;here are some ideas&#8221;, than a &#8220;here is how to do it&#8221; approach.</p>
<p>The session on using <a href="http://chnm2012.thatcamp.org/06/11/a-better-blogging-assignment/">blogs as assignments</a> was maybe a bit premature for me. The session was really good, great ideas, tips, etc. But me teaching is still too far away for me to have put the mental effort in to following along much. I spent most of the time trying to find a good twitter client, but in the end just stuck with <a href="http://adium.im/">Adium</a>.</p>
<p>Then I took some time to enjoy the hacker space. I decided it was time, and this was the perfect place to set up a transcription tool for my dissertation archive. So sitting at the very table where it is coded, I installed the <a href="http://scripto.org/">Scripto</a> plugin for Omeka. That&#8217;s a bit of a misnomer, since it is really a wrapper that lets Omeka and a Wikimedia install play nicely together. I went ahead and transcribed one of the documents in the archive as well. The archive is just in the testing phase, but here it is anyways: <a href="http://nazitunnels.org/archive">http://nazitunnels.org/archive</a></p>
<figure id="attachment_1261" aria-describedby="caption-attachment-1261" style="width: 780px" class="wp-caption aligncenter"><a href="http://nazitunnels.org/archive/"><img loading="lazy" decoding="async" class=" wp-image-1261  " title="Screen Shot 2012-06-18 at 4.50.06 PM" src="../../wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM.png" alt="" width="780" height="658" srcset="https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM.png 975w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM-300x252.png 300w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM-250x210.png 250w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM-150x126.png 150w, https://mossiso.com/wp-content/uploads/2012/06/Screen-Shot-2012-06-18-at-4.50.06-PM-624x526.png 624w" sizes="(max-width: 780px) 100vw, 780px" /></a><figcaption id="caption-attachment-1261" class="wp-caption-text">Nazi Tunnels Archive</figcaption></figure>
<p>The final event of THATCamp for me was one last session proposed by a fellow &#8220;camper&#8221;. She wanted help <a href="http://chnm2012.thatcamp.org/06/15/shell-tutorial/">learning about the shell</a>/terminal/command line. So I volunteered to help out with that. It ended up that there were about eight people that wanted help learning the command line, and four of us that knew what we were doing. So it ended up being a great ratio of help needed to those who could offer it. We started with the very basics, didn&#8217;t get much past a few commands (ls, cd, rm, nano, grep, cat), but we went slow enough that everybody who was trying to follow along was able to, and they all left with a clearer understanding of what the shell is for, and why it is useful. The proposer found a <a href="http://cli.learncodethehardway.org/book/">great tutorial/book for learning the command line</a> that I&#8217;ll have to go through as well. You can always learn something new.</p>
<p>What was also great about that session, since it was basically ran by those who needed the help, I saw how those who struggle with these concepts learn them, so I will hopefully be better able to teach them to others in the future.</p>
<p>&nbsp;</p>
<p>UPDATE: I forgot to mention the many cool sites and projects mentioned during Saturday morning&#8217;s Dork Shorts. Here&#8217;s a list of the ones I took notice of.</p>
<p><a href="http://afripod.aodl.org/">http://afripod.aodl.org/</a><br />
<a href="https://github.com/AramZS/twitter-search-shortcode">https://github.com/AramZS/twitter-search-shortcode</a><br />
<a href="http://cowriting.trincoll.edu/">http://cowriting.trincoll.edu/</a><br />
<a href="http://www.digitalculture.org/2012/06/15/dcw-volume-1-issue-4-lib-report-mlaoa-and-e-lit-pedagogy/">http://www.digitalculture.org/2012/06/15/dcw-volume-1-issue-4-lib-report-mlaoa-and-e-lit-pedagogy/</a><br />
<a href="http://luna.folger.edu/luna/servlet/BINDINGS~1~1">http://luna.folger.edu/luna/servlet/BINDINGS~1~1</a><br />
<a href="http://www.insidehighered.com/blogs/gradhacker">http://www.insidehighered.com/blogs/gradhacker</a><br />
<a href="http://hacking.fugitivetexts.net/">http://hacking.fugitivetexts.net/</a><br />
<a href="http://jitp.commons.gc.cuny.edu/">http://jitp.commons.gc.cuny.edu/</a><br />
<a href="http://www.neh.gov/">http://www.neh.gov/</a><br />
<a href="http://penn.museum/">http://penn.museum/</a><br />
<a href="http://www.playthepast.org/">http://www.playthepast.org/</a><br />
<a href="http://anglicanhistory.org/">http://anglicanhistory.org/</a><br />
<a href="http://podcast.gradhacker.org/">http://podcast.gradhacker.org/</a><br />
<a href="http://dhcommons.org/">http://dhcommons.org/</a><br />
<a href="http://ulyssesseen.com/">http://ulyssesseen.com/</a><br />
<a href="http://m.thehenryford.org/">http://m.thehenryford.org/</a></p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../thatcamp-2012/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-06-18T17:05:51-04:00">18 June, 2012</time><time class="updated" datetime="2012-07-31T15:16:38-04:00">31 July, 2012</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/academic/index.html" rel="category tag">Academic</a>, <a href="../../category/academic/school-work/dissertation/index.html" rel="category tag">Dissertation</a>, <a href="../../category/academic/humanities/index.html" rel="category tag">humanities</a>, <a href="../../category/technical/index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/bash/index.html" rel="tag">bash</a>, <a href="../../tag/command-line/index.html" rel="tag">command line</a>, <a href="../../tag/digital-archives/index.html" rel="tag">digital archives</a>, <a href="../../tag/dissertation/index.html" rel="tag">Dissertation</a>, <a href="../../tag/git/index.html" rel="tag">git</a>, <a href="../../tag/nazis/index.html" rel="tag">nazis</a>, <a href="../../tag/proceedings/index.html" rel="tag">proceedings</a>, <a href="../../tag/thatcamp/index.html" rel="tag">THATCamp</a>, <a href="../../tag/weka/index.html" rel="tag">weka</a></span><span class="comments-link"><a href="../../thatcamp-2012/index.html#comments">3 Comments<span class="screen-reader-text"> on THATCamp 2012</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1258 -->

<article id="post-1226" class="post-1226 post type-post status-publish format-standard has-post-thumbnail hentry category-technical category-websites tag-awstats tag-bash tag-bash-code">
	
	<a class="post-thumbnail" href="../../filling-in-the-missing-dates-with-awstats/index.html" aria-hidden="true">
		<img width="624" height="191" src="../../wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-624x191.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Filling in the missing dates with AWStats" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-624x191.png 624w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-300x91.png 300w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-250x76.png 250w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM-150x45.png 150w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-24-at-1.52.52-PM.png 650w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../filling-in-the-missing-dates-with-awstats/index.html" rel="bookmark">Filling in the missing dates with AWStats</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<h3>Doh!</h3>
<p>Sometimes AWStats will miss some days in calculating stats for your site, and that leaves a big hole in your records. Usually, as in my case, it&#8217;s because I messed up. I reinstalled some software on our AWStats machine, and forgot to reinstall cron. Cron is the absolutely necessary tool for getting the server to run things on a timed schedule. I didn&#8217;t notice this until several days later, leading to a large gap in the stats for April.</p>
<h3>What to do?</h3>
<p>Fortunately, there is a fix. Unfortunately, it&#8217;s a bit labor intensive, and depends on how you rotate your apache logs (if at all, which you should). The <a href="http://awstats.sourceforge.net/docs/awstats_faq.html#OLDLOG">AWStats Documentation</a> (see FAQ-COM350 and FAQ-COM360) has some basic steps to fix the issue, outlined below:</p>
<ol>
<li>Move the AWStats data files for months newer to a temporary directory.</li>
<li>Copy the Apache logs with all of the stats for the month with the missing days to a temporary directory.</li>
<li>Run the AWStats update tool, using AWStat&#8217;s logresolvemerge tool and other changed paramaters, to re-create the AWStats data file for that month</li>
<li>Replace the AWStats data files for the following months (undo step 1).</li>
</ol>
<h3>The Devil&#8217;s in the Details</h3>
<p>Again, depending on how you have Apache logs set up, this can be an intensive process. Here&#8217;s how I have Apache set up, and the process I went through to get the missing days back into AWStats.</p>
<p>We have our Apache logs rotate each day for each domain on the server (or sub-directory that is calculated separately). This means I&#8217;ll have to do this process about 140 times. Looks like I need to write a script&#8230;</p>
<h3>Step 1. Move the data files of newer months</h3>
<p>AWStats can&#8217;t run the update on older months if there are more recent months located in the data directory. So we&#8217;ll need to move the more recent month&#8217;s stats to a temporary location out of the way. So, if the missing dates are in June, and it is currently August, you&#8217;ll need to remove the data files for June, July, and August (they look like this <code>awstatsMMYYYY.domain-name.com.txt</code> where MM is the two digit month and YYYY is the four digit year) to a temporary directory so they are out of the way.</p>
<h3>Step 2. Get the Apache logs for the month.</h3>
<p>First step is to get all of the logs for each domain for the month. This will work out to about 30 or 31 files (if the month is already past), or however many days have past in the current month. For me, each domain archives the days logs in the following format <code>domain.name.com-access_log-X.gz</code> and <code>domain.name.com-error_log-X.gz</code> where the X is a sequential number. So the first problem is how to get the correct file name without having to look in each file to see if it has the right day? Fortunately for me, nothing touches these files after they are created, so their mtime (the <strong>time</strong> stamp of when they were last <strong>m</strong>odified) is intact and usable. Now, a quick one-liner to grab all of the files within a certain date range and put their content in a new file.</p>
<p>We&#8217;ll use the find command to find the correct files. Before we construct that command, we&#8217;ll need to create a couple of files to use for our start and end dates.</p>
<pre class="lang:bash decode:1 " >touch --date YYYY-MM-DD /tmp/start</pre>
<pre class="lang:bash decode:1 " >touch --date YYYY-MM-DD /tmp/end</pre>
<p>Now we can use those files in the actual find command. You may need to create the <code>/tmp/apachelogs/</code> directory first.</p>
<pre class="lang:bash decode:1 " >find /path/to/apache/logs/archive/ -name "domain-name.com-*" -newer /tmp/start -not -newer /tmp/end -exec cp '{}' /tmp/apachelogs/ \;</pre>
<p>Now unzip those files so they are usable. Move into the <code>/tmp/apachelogs/</code> directory, and run the gunzip command.</p>
<pre class="lang:bash decode:1 " >gunzip *log*</pre>
<p>If you are doing the current month, then copy in the current apache log for that domain.</p>
<pre class="lang:bash decode:1 " >cp /path/to/apache/logs/current/domain-name.com* /tmp/apachelogs/</pre>
<p>This puts all of the domains log files for the month into a directory that we can use in the AWStats update command</p>
<p>Things to note: You need to make sure that each of the log files you have just copied use the same format. You also need to make sure they only contain data for one month. You can edit the files by hand or throw some fancy sed commands at the files to remove any extraneous data.</p>
<h3>Step 3. Run the AWStats logresolvemerge and update tool</h3>
<p>Now comes the fun part. We first run the logresolvemerge tool on the log files we created in the previous step to create one single log file for the whole month. While in the &lt;code&gt;/tmp/apachelogs/&lt;/code&gt; directory, run:</p>
<pre class="lang:bash decode:1 " >perl /path/to/logresolvemerger.pl *log* &gt; domain-name.com-YYYY-MM-log</pre>
<p>Now, we need to run the AWStats update tool with a few parameters to account for the location of the new log file.</p>
<pre class="lang:bash decode:1 " >perl /path/to/awstats.pl -update -configdir="/path/to/awstats/configs" -config="domain-name.com" -LogFile="/tmp/apachelogs/domain-name.com-YYYY-MM-log"</pre>
<h3>Step 4. Move back any remaining files</h3>
<p>If you moved any of the AWStats data files (<code>awstatsMMYYYY.domain-name.com.txt</code> like for July and August in our example) now&#8217;s the time to move them back where they go.</p>
<p>&nbsp;</p>
<p>Yeah, that fixed it!</p>
<p>&nbsp;</p>
<figure id="attachment_1245" aria-describedby="caption-attachment-1245" style="width: 658px" class="wp-caption aligncenter"><a href="../../wp-content/uploads/2012/04/awstats-fixed.png"><img loading="lazy" decoding="async" class="size-full wp-image-1245" title="awstats-fixed" src="../../wp-content/uploads/2012/04/awstats-fixed.png" alt="" width="658" height="160" srcset="https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed.png 658w, https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed-300x72.png 300w, https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed-250x60.png 250w, https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed-150x36.png 150w, https://mossiso.com/wp-content/uploads/2012/04/awstats-fixed-624x151.png 624w" sizes="(max-width: 658px) 100vw, 658px" /></a><figcaption id="caption-attachment-1245" class="wp-caption-text">Phew! The missing dates are back!</figcaption></figure>
<p>&nbsp;</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../filling-in-the-missing-dates-with-awstats/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-04-25T15:23:58-04:00">25 April, 2012</time><time class="updated" datetime="2014-09-22T14:09:13-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/technical/index.html" rel="category tag">Technical</a>, <a href="../../category/technical/websites/index.html" rel="category tag">Websites</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/awstats/index.html" rel="tag">awstats</a>, <a href="../../tag/bash/index.html" rel="tag">bash</a>, <a href="../../tag/bash-code/index.html" rel="tag">bash code</a></span><span class="comments-link"><a href="../../filling-in-the-missing-dates-with-awstats/index.html#comments">2 Comments<span class="screen-reader-text"> on Filling in the missing dates with AWStats</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1226 -->

<article id="post-1190" class="post-1190 post type-post status-publish format-standard has-post-thumbnail hentry category-academic category-dissertation category-history category-technical tag-libreoffice tag-scrivener tag-writing tag-zotero">
	
	<a class="post-thumbnail" href="../../scrivener-and-zotero/index.html" aria-hidden="true">
		<img width="620" height="273" src="../../wp-content/uploads/2012/04/zotero-new-view-find-citation.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Scrivener and Zotero" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-find-citation.png 620w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-find-citation-300x132.png 300w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-find-citation-250x110.png 250w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-find-citation-150x66.png 150w" sizes="(max-width: 620px) 100vw, 620px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../scrivener-and-zotero/index.html" rel="bookmark">Scrivener and Zotero</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Scrivener is awesome software for writing, that I&#8217;ve <a title="Nazi Tunnels" href="http://nazitunnels.org/2011/04/digging-in-to-the-dissertation.html" target="_blank">mentioned</a> before, but I had yet to really test out the integration with <a title="Zotero" href="http://www.zotero.org" target="_blank">Zotero</a> (my citation manager of choice). So now that I have finally started on my dissertation writing in earnest (and not grant writing), I needed to make sure that footnotes are usable in my work flow. So this is a quick write up of the tools I will use in writing my dissertation, and how I will use them.</p>
<h3>The Tools</h3>
<p><a title="Libre Office" href="http://www.libreoffice.org/" target="_blank"><img loading="lazy" decoding="async" class="alignleft size-thumbnail wp-image-1191" title="images-1" src="../../wp-content/uploads/2012/04/images-1.jpg" alt="" width="150" height="47" srcset="https://mossiso.com/wp-content/uploads/2012/04/images-1.jpg 398w, https://mossiso.com/wp-content/uploads/2012/04/images-1-300x95.jpg 300w, https://mossiso.com/wp-content/uploads/2012/04/images-1-250x79.jpg 250w, https://mossiso.com/wp-content/uploads/2012/04/images-1-150x47.jpg 150w" sizes="(max-width: 150px) 100vw, 150px" />LibreOffice</a>: Free and Open Source document software. Who knows how long I will have access to free Microsoft Word? LibreOffice (the fork of OpenOffice) will always be free and freely available. The steps will be basically the same if you are using Microsoft Word, just substitute that program for LibreOffice when it comes to it.</p>
<p><a title="Zotero" href="http://www.zotero.org" target="_blank"><br />
</a></p>
<p><a title="Zotero" href="http://www.zotero.org" target="_blank"><img loading="lazy" decoding="async" class="alignleft size-thumbnail wp-image-1192" title="images-2" src="../../wp-content/uploads/2012/04/images-2-150x150.jpg" alt="" width="150" height="150" srcset="https://mossiso.com/wp-content/uploads/2012/04/images-2-150x150.jpg 150w, https://mossiso.com/wp-content/uploads/2012/04/images-2.jpg 204w" sizes="(max-width: 150px) 100vw, 150px" />Zotero</a>: I&#8217;m certainly biased, but Zotero is the greatest citation management software evar! Also free and open source. I&#8217;m using the stand alone version, but you can use the Firefox extension as well. Should work the same.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><a title="Scrivener" href="http://www.literatureandlatte.com/scrivener.php" target="_blank"><img loading="lazy" decoding="async" class="alignleft size-thumbnail wp-image-1193" title="images" src="../../wp-content/uploads/2012/04/images-150x150.jpg" alt="" width="150" height="150" srcset="https://mossiso.com/wp-content/uploads/2012/04/images-150x150.jpg 150w, https://mossiso.com/wp-content/uploads/2012/04/images.jpg 225w" sizes="(max-width: 150px) 100vw, 150px" />Scrivener</a>: The greatest writing software I&#8217;ve seen. So good I even paid for it. I don&#8217;t usually do that with software (as you can see, I like <strong>free</strong> and <strong>open source</strong>).</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>The Process</h3>
<p>Here I will try to outline the process I found that will save footnotes from existing documents into Scrivener, and Scrivener created footnotes into exported documents. From there, it&#8217;s easy to create Zotero connected footnotes.</p>
<h4>1. Copy existing documents with footnotes into Scrivener</h4>
<figure id="attachment_1213" aria-describedby="caption-attachment-1213" style="width: 300px" class="wp-caption alignright"><a href="../../wp-content/uploads/2012/04/copy-from-libreoffice.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1213" title="copy-from-libreoffice" src="../../wp-content/uploads/2012/04/copy-from-libreoffice-300x289.png" alt="Copy from LibreOffice" width="300" height="289" srcset="https://mossiso.com/wp-content/uploads/2012/04/copy-from-libreoffice-300x289.png 300w, https://mossiso.com/wp-content/uploads/2012/04/copy-from-libreoffice-250x240.png 250w, https://mossiso.com/wp-content/uploads/2012/04/copy-from-libreoffice-150x144.png 150w, https://mossiso.com/wp-content/uploads/2012/04/copy-from-libreoffice.png 580w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1213" class="wp-caption-text">Copy from LibreOffice</figcaption></figure>
<p>The first issue to run across is to put your existing documents into scrivener. I wrote a paper for Hist 811 that is basically the bulk of Chapter 1 and Chapter 2 of the dissertation. It&#8217;s needs some finessing in order to fit in the dissertation. It would be a shame to lose the footnotes, which is what happens if you just use Scrivener&#8217;s import file process. This is an easy fix. Just copy the text from your document and paste it into a Scrivener text area.</p>
<p>Then with your Scrivener project open, create a new text area, or select an existing one, which ever, and paste it in. Nothing special there.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>2. Create new footnotes in Scrivener</h4>
<figure id="attachment_1212" aria-describedby="caption-attachment-1212" style="width: 300px" class="wp-caption alignright"><a href="../../wp-content/uploads/2012/04/paste-into-scrivener.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1212" title="paste-into-scrivener" src="../../wp-content/uploads/2012/04/paste-into-scrivener-300x168.png" alt="Scrivener makes a Footnote" width="300" height="168" srcset="https://mossiso.com/wp-content/uploads/2012/04/paste-into-scrivener-300x168.png 300w, https://mossiso.com/wp-content/uploads/2012/04/paste-into-scrivener-1024x575.png 1024w, https://mossiso.com/wp-content/uploads/2012/04/paste-into-scrivener-250x140.png 250w, https://mossiso.com/wp-content/uploads/2012/04/paste-into-scrivener-150x84.png 150w, https://mossiso.com/wp-content/uploads/2012/04/paste-into-scrivener-624x350.png 624w, https://mossiso.com/wp-content/uploads/2012/04/paste-into-scrivener.png 1050w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1212" class="wp-caption-text">See how Scrivener makes a footnote!</figcaption></figure>
<p>What is special, though is what Scrivener does with that footnote. See there, footnote number 20, right after the quote about the cocktail of causes and rearmament being one of the ingredients? Now in Scrivener we have the word &#8220;ingredient&#8221; highlighted and underlined, and on the right side of the Scrivener window, there is a new footnote with all of the content of the original footnote. Sweet!</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1216" aria-describedby="caption-attachment-1216" style="width: 300px" class="wp-caption alignright"><a href="../../wp-content/uploads/2012/04/insert-footnote-scrivener.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1216" title="insert-footnote-scrivener" src="../../wp-content/uploads/2012/04/insert-footnote-scrivener-300x233.png" alt="" width="300" height="233" srcset="https://mossiso.com/wp-content/uploads/2012/04/insert-footnote-scrivener-300x233.png 300w, https://mossiso.com/wp-content/uploads/2012/04/insert-footnote-scrivener-250x194.png 250w, https://mossiso.com/wp-content/uploads/2012/04/insert-footnote-scrivener-150x116.png 150w, https://mossiso.com/wp-content/uploads/2012/04/insert-footnote-scrivener-624x485.png 624w, https://mossiso.com/wp-content/uploads/2012/04/insert-footnote-scrivener.png 929w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1216" class="wp-caption-text">Easy as Format-&gt;Footnote, or use the shorcut keys Ctrl-Cmd-8</figcaption></figure>
<p>That&#8217;s all well and good. What if we want to edit the text a little bit, add some good stuff and add another footnote in there? What do we do? Well, Scrivener has a way to add a footnote. Just highlight some text (the footnote will be inserted after the last word), and go to the Format menu and select Footnote. Or you can use the fancy shortcut keys, for faster typing and footnote inserting, Ctrl-Cmd-8 (⌃⌘8).</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1208" aria-describedby="caption-attachment-1208" style="width: 300px" class="wp-caption alignright"><a href="../../wp-content/uploads/2012/04/new-footnote-scrivener.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1208" title="new-footnote-scrivener" src="../../wp-content/uploads/2012/04/new-footnote-scrivener-300x181.png" alt="" width="300" height="181" srcset="https://mossiso.com/wp-content/uploads/2012/04/new-footnote-scrivener-300x181.png 300w, https://mossiso.com/wp-content/uploads/2012/04/new-footnote-scrivener-1024x619.png 1024w, https://mossiso.com/wp-content/uploads/2012/04/new-footnote-scrivener-250x151.png 250w, https://mossiso.com/wp-content/uploads/2012/04/new-footnote-scrivener-150x90.png 150w, https://mossiso.com/wp-content/uploads/2012/04/new-footnote-scrivener-624x377.png 624w, https://mossiso.com/wp-content/uploads/2012/04/new-footnote-scrivener.png 1063w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1208" class="wp-caption-text">Look, Ma! A new footnote!</figcaption></figure>
<p>Now you have a new, blank, footnote area to put a footnote reverence in.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1209" aria-describedby="caption-attachment-1209" style="width: 300px" class="wp-caption alignright"><a href="../../wp-content/uploads/2012/04/drag-zotero-scrivener.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1209" title="drag-zotero-scrivener" src="../../wp-content/uploads/2012/04/drag-zotero-scrivener-300x198.png" alt="" width="300" height="198" srcset="https://mossiso.com/wp-content/uploads/2012/04/drag-zotero-scrivener-300x198.png 300w, https://mossiso.com/wp-content/uploads/2012/04/drag-zotero-scrivener-250x165.png 250w, https://mossiso.com/wp-content/uploads/2012/04/drag-zotero-scrivener-150x99.png 150w, https://mossiso.com/wp-content/uploads/2012/04/drag-zotero-scrivener-624x412.png 624w, https://mossiso.com/wp-content/uploads/2012/04/drag-zotero-scrivener.png 914w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1209" class="wp-caption-text">Select the reference in Zotero and drag it into the footnote box in Scrivener.</figcaption></figure>
<p>Zotero makes it easy to put the reference in that new empty footnote with drag and drop citations. Just pull up your Zotero (either from Firefox, or if you have the standalone version). Select the reference you want, and drag it into the empty footnote section.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>3. Moving from Scrivener to a document, and keeping your footnotes!</h4>
<p>So, ideally, you would be able to export your text document, and all of these lovely footnotes you have made in Scrivener, using Zotero, would just magically work in a Word or LibreOffice document. It doesn&#8217;t, yet (or ever?). So here is how to get your footnotes into a document, and then get those footnotes to be Zotero enabled.</p>
<figure id="attachment_1207" aria-describedby="caption-attachment-1207" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/scrivener-export-file.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1207" title="scrivener-export-file" src="../../wp-content/uploads/2012/04/scrivener-export-file-300x162.png" alt="" width="300" height="162" srcset="https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-file-300x162.png 300w, https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-file-250x135.png 250w, https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-file-150x81.png 150w, https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-file-624x337.png 624w, https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-file.png 632w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1207" class="wp-caption-text">Srivener-&gt;File-&gt;Export-&gt;Files</figcaption></figure>
<p>First, you export your Scrivener document to RTF format.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1206" aria-describedby="caption-attachment-1206" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/scrivener-export-rtf.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1206" title="scrivener-export-rtf" src="../../wp-content/uploads/2012/04/scrivener-export-rtf-300x129.png" alt="" width="300" height="129" srcset="https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-rtf-300x129.png 300w, https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-rtf-250x108.png 250w, https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-rtf-150x64.png 150w, https://mossiso.com/wp-content/uploads/2012/04/scrivener-export-rtf.png 598w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1206" class="wp-caption-text">Select RTF format</figcaption></figure>
<p>Select the plain RTF format, and the first check box for only the selected files (although, you could un check this if you want to do all of your files at once. No other check boxes are needed. Then just hit the Export button.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1205" aria-describedby="caption-attachment-1205" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/open-with-libreoffice.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1205" title="open-with-libreoffice" src="../../wp-content/uploads/2012/04/open-with-libreoffice-300x47.png" alt="" width="300" height="47" srcset="https://mossiso.com/wp-content/uploads/2012/04/open-with-libreoffice-300x47.png 300w, https://mossiso.com/wp-content/uploads/2012/04/open-with-libreoffice-250x39.png 250w, https://mossiso.com/wp-content/uploads/2012/04/open-with-libreoffice-150x23.png 150w, https://mossiso.com/wp-content/uploads/2012/04/open-with-libreoffice-624x99.png 624w, https://mossiso.com/wp-content/uploads/2012/04/open-with-libreoffice.png 780w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1205" class="wp-caption-text">Open it up with your favorite document program, LibreOffice or Word.</figcaption></figure>
<p>Next, you will want to open your new RTF document in LibreOffice (or Word if you&#8217;re using that program).</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1204" aria-describedby="caption-attachment-1204" style="width: 218px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/insert-zotero-citation.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1204" title="insert-zotero-citation" src="../../wp-content/uploads/2012/04/insert-zotero-citation-218x300.png" alt="" width="218" height="300" srcset="https://mossiso.com/wp-content/uploads/2012/04/insert-zotero-citation-218x300.png 218w, https://mossiso.com/wp-content/uploads/2012/04/insert-zotero-citation-109x150.png 109w, https://mossiso.com/wp-content/uploads/2012/04/insert-zotero-citation.png 735w" sizes="(max-width: 218px) 100vw, 218px" /></a><figcaption id="caption-attachment-1204" class="wp-caption-text">All my citations are in the house!</figcaption></figure>
<p>You will notice that all of your footnotes are in this file. Yeah! Sometimes the text had odd font sizes and styles. So a quick &#8216;Select All&#8217; and change it to default style and Times New Roman, 12 pt should fix that right up. Now here is the labor intensive part. For each footnote, we&#8217;re going to have to recreate it so that it is handled by Zotero. Then we&#8217;ll delete the original footnote. It would be nice of Scrivener could export the footnotes in a way that Zotero could detect them, but alas it is not to be.</p>
<p>&nbsp;</p>
<p>Now you add a citation through the zotero buttons to make a zotero-aware citation.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1204" aria-describedby="caption-attachment-1204" style="width: 218px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/insert-zotero-citation.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1204" title="insert-zotero-citation" src="../../wp-content/uploads/2012/04/insert-zotero-citation-218x300.png" alt="" width="218" height="300" srcset="https://mossiso.com/wp-content/uploads/2012/04/insert-zotero-citation-218x300.png 218w, https://mossiso.com/wp-content/uploads/2012/04/insert-zotero-citation-109x150.png 109w, https://mossiso.com/wp-content/uploads/2012/04/insert-zotero-citation.png 735w" sizes="(max-width: 218px) 100vw, 218px" /></a><figcaption id="caption-attachment-1204" class="wp-caption-text">All my citations are in the house!</figcaption></figure>
<p>Insert a Zotero citation using the Zotero buttons in your document program&#8217;s menu bar.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1203" aria-describedby="caption-attachment-1203" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/zotero-classic-view-find-citation.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1203" title="zotero-classic-view-find-citation" src="../../wp-content/uploads/2012/04/zotero-classic-view-find-citation-300x222.png" alt="" width="300" height="222" srcset="https://mossiso.com/wp-content/uploads/2012/04/zotero-classic-view-find-citation-300x222.png 300w, https://mossiso.com/wp-content/uploads/2012/04/zotero-classic-view-find-citation-250x185.png 250w, https://mossiso.com/wp-content/uploads/2012/04/zotero-classic-view-find-citation-150x111.png 150w, https://mossiso.com/wp-content/uploads/2012/04/zotero-classic-view-find-citation.png 611w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1203" class="wp-caption-text">I prefer the Zotero classic view.</figcaption></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1202" aria-describedby="caption-attachment-1202" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/zotero-new-view-find-citation.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1202" title="zotero-new-view-find-citation" src="../../wp-content/uploads/2012/04/zotero-new-view-find-citation-300x132.png" alt="" width="300" height="132" srcset="https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-find-citation-300x132.png 300w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-find-citation-250x110.png 250w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-find-citation-150x66.png 150w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-find-citation.png 620w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1202" class="wp-caption-text">The new citation find view is pretty slick, though.</figcaption></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1201" aria-describedby="caption-attachment-1201" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/zotero-new-view-add-page.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1201" title="zotero-new-view-add-page" src="../../wp-content/uploads/2012/04/zotero-new-view-add-page-300x34.png" alt="" width="300" height="34" srcset="https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-add-page-300x34.png 300w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-add-page-250x28.png 250w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-add-page-150x17.png 150w, https://mossiso.com/wp-content/uploads/2012/04/zotero-new-view-add-page.png 622w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1201" class="wp-caption-text">You can add pages with a coma, space, number.</figcaption></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1200" aria-describedby="caption-attachment-1200" style="width: 296px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/two-citations.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1200" title="two-citations" src="../../wp-content/uploads/2012/04/two-citations-296x300.png" alt="" width="296" height="300" srcset="https://mossiso.com/wp-content/uploads/2012/04/two-citations-296x300.png 296w, https://mossiso.com/wp-content/uploads/2012/04/two-citations-250x252.png 250w, https://mossiso.com/wp-content/uploads/2012/04/two-citations-148x150.png 148w, https://mossiso.com/wp-content/uploads/2012/04/two-citations.png 581w" sizes="(max-width: 296px) 100vw, 296px" /></a><figcaption id="caption-attachment-1200" class="wp-caption-text">Now you have two citations.</figcaption></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>With two citations in the document, you&#8217;ll need to delete the one that was not made by zotero.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1199" aria-describedby="caption-attachment-1199" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/delete-duplicate-citation.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1199" title="delete-duplicate-citation" src="../../wp-content/uploads/2012/04/delete-duplicate-citation-300x294.png" alt="" width="300" height="294" srcset="https://mossiso.com/wp-content/uploads/2012/04/delete-duplicate-citation-300x294.png 300w, https://mossiso.com/wp-content/uploads/2012/04/delete-duplicate-citation-250x245.png 250w, https://mossiso.com/wp-content/uploads/2012/04/delete-duplicate-citation-150x147.png 150w, https://mossiso.com/wp-content/uploads/2012/04/delete-duplicate-citation.png 566w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1199" class="wp-caption-text">Just make sure you delete the non-zotero aware citation. The Zotero citation is usually highlighted.</figcaption></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1198" aria-describedby="caption-attachment-1198" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/libreoffice-saveas.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1198" title="libreoffice-saveas" src="../../wp-content/uploads/2012/04/libreoffice-saveas-300x107.png" alt="" width="300" height="107" srcset="https://mossiso.com/wp-content/uploads/2012/04/libreoffice-saveas-300x107.png 300w, https://mossiso.com/wp-content/uploads/2012/04/libreoffice-saveas-250x89.png 250w, https://mossiso.com/wp-content/uploads/2012/04/libreoffice-saveas-150x53.png 150w, https://mossiso.com/wp-content/uploads/2012/04/libreoffice-saveas-624x222.png 624w, https://mossiso.com/wp-content/uploads/2012/04/libreoffice-saveas.png 725w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1198" class="wp-caption-text">Now you can save the document as a different file format: odt, doc, docx</figcaption></figure>
<p>Now save the document as an ODT document. If it is saved as anything else, it will not be Zotero aware.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1197" aria-describedby="caption-attachment-1197" style="width: 250px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/Screen-Shot-2012-04-10-at-6.09.56-PM.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1197" title="Many file types to choose from." src="../../wp-content/uploads/2012/04/Screen-Shot-2012-04-10-at-6.09.56-PM-250x300.png" alt="" width="250" height="300" srcset="https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-10-at-6.09.56-PM-250x300.png 250w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-10-at-6.09.56-PM-125x150.png 125w, https://mossiso.com/wp-content/uploads/2012/04/Screen-Shot-2012-04-10-at-6.09.56-PM.png 608w" sizes="(max-width: 250px) 100vw, 250px" /></a><figcaption id="caption-attachment-1197" class="wp-caption-text">Take your pick of file types.</figcaption></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<figure id="attachment_1195" aria-describedby="caption-attachment-1195" style="width: 300px" class="wp-caption alignleft"><a href="../../wp-content/uploads/2012/04/zotero-warning.png"><img loading="lazy" decoding="async" class="size-medium wp-image-1195" title="zotero-warning" src="../../wp-content/uploads/2012/04/zotero-warning-300x122.png" alt="" width="300" height="122" srcset="https://mossiso.com/wp-content/uploads/2012/04/zotero-warning-300x122.png 300w, https://mossiso.com/wp-content/uploads/2012/04/zotero-warning-250x102.png 250w, https://mossiso.com/wp-content/uploads/2012/04/zotero-warning-150x61.png 150w, https://mossiso.com/wp-content/uploads/2012/04/zotero-warning.png 555w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1195" class="wp-caption-text">Save as the correct file format if you want Zotero to be able to edit them again.</figcaption></figure>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>One alternative method is to create footnotes in Scrivener using the format {Author, Year, Page#}. Then export as an RTF document as before. Then, in Zotero, use the &#8216;RTF Scan&#8217; tool in the Preferences menu. Zotero will see all of the citations and replace them nicely with formatted citations (using Ibid. and short notation for repeat books, and such). Zotero will not be aware of these citations at all, so if you need them to be Zotero aware, you might as well use the steps outlined above. If you do not expect to update citations or the text once done in Scrivener, then this may be the easiest way to go.</p>
<p>Now I can happily transfer existing documents into Scrivener and save the footnotes!</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../scrivener-and-zotero/index.html" rel="bookmark"><time class="entry-date published updated" datetime="2012-04-12T16:51:43-04:00">12 April, 2012</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/academic/index.html" rel="category tag">Academic</a>, <a href="../../category/academic/school-work/dissertation/index.html" rel="category tag">Dissertation</a>, <a href="../../category/academic/history/index.html" rel="category tag">History</a>, <a href="../../category/technical/index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/libreoffice/index.html" rel="tag">libreoffice</a>, <a href="../../tag/scrivener/index.html" rel="tag">scrivener</a>, <a href="../../tag/writing/index.html" rel="tag">writing</a>, <a href="../../tag/zotero/index.html" rel="tag">zotero</a></span><span class="comments-link"><a href="../../scrivener-and-zotero/index.html#comments">16 Comments<span class="screen-reader-text"> on Scrivener and Zotero</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1190 -->

<article id="post-1170" class="post-1170 post type-post status-publish format-standard has-post-thumbnail hentry category-setting-up-a-hosting-environment category-technical tag-servers">
	
	<a class="post-thumbnail" href="../../setting-up-a-hosting-environment-part-2-connecting-the-storage-array/index.html" aria-hidden="true">
		<img width="624" height="268" src="../../wp-content/uploads/2012/03/StorageTek2530-DiskSetup-624x268.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Setting up a Hosting Environment &#8211; Part 2: Connecting the Storage Array" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-624x268.jpg 624w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-300x129.jpg 300w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-1024x441.jpg 1024w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-250x107.jpg 250w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-150x64.jpg 150w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup.jpg 1290w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../setting-up-a-hosting-environment-part-2-connecting-the-storage-array/index.html" rel="bookmark">Setting up a Hosting Environment &#8211; Part 2: Connecting the Storage Array</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>[<a title="Setting up a Hosting Environment: Part 1 – The servers" href="http://mossiso.com/2012/03/01/setting-up-a-hosting-environment-part-1-the-servers.html">See Part 1: The Servers</a>]</p>
<p>One of the most frustrating parts of this set up was getting the storage array talking to the servers. I finally got it figured out. I&#8217;m using a StorageTek 2530 to connect to two SunFire X2100 M2&#8217;s via SAS (Serial Attached SCSI) cables. I put in a dual port SAS HBA (Host Bus Adapter) in the X2100 M2&#8217;s, but for real redundancy, I should have used two single port HBA&#8217;s. The Sun/Oracle documentation is pretty good about how to physically set up the servers and storage array, but are pretty lacking from there on.</p>
<div id='gallery-1' class='gallery galleryid-1170 gallery-columns-2 gallery-size-thumbnail'><figure class='gallery-item'>
			<div class='gallery-icon landscape'>
				<a href='../../wp-content/uploads/2012/03/images-1.jpg'><img loading="lazy" decoding="async" width="150" height="150" src="../../wp-content/uploads/2012/03/images-1-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" srcset="https://mossiso.com/wp-content/uploads/2012/03/images-1-150x150.jpg 150w, https://mossiso.com/wp-content/uploads/2012/03/images-1.jpg 225w" sizes="(max-width: 150px) 100vw, 150px" /></a>
			</div></figure><figure class='gallery-item'>
			<div class='gallery-icon landscape'>
				<a href='../../wp-content/uploads/2012/03/images.jpg'><img loading="lazy" decoding="async" width="150" height="150" src="../../wp-content/uploads/2012/03/images-150x150.jpg" class="attachment-thumbnail size-thumbnail" alt="" /></a>
			</div></figure>
		</div>

<h2>StorageTek 2530 Set Up</h2>
<p><span style="color: #339966;"><strong>Replace the parts in squares brackets below with whatever you want.</strong></span></p>
<ul>
<li>Install the Sun CAM software.
<ul>
<li>Grab the latest version from <a href="http://support.oracle.com/">http://support.oracle.com</a>
<ul>
<li>You&#8217;ll need an active support contract and have an account.</li>
<li>Go to the ‘Patches and Updates’ tab.</li>
<li>Click on the ‘Product or Family (Advanced)’ link</li>
<li>In the ‘Product is’ section start typing in ‘Sun Storage Common Array Manager (CAM)’ and select it from the list</li>
<li>In the ‘Release is’ section select the most recent version</li>
<li>For the last section, select ‘Platform’ and then select ‘Linux x86-64’</li>
<li>Click ‘Search’</li>
<li>Click the ‘Download’ link for the software.</li>
<li>Upload the tar file to the server.</li>
</ul>
</li>
<li>Pre-requisite software that needs to be installed.
<ul>
<li><code>yum install ksh bc /lib/ld-linux.so.2 libgcc.i686 libstdc++.i686 libzip.i686 gettext</code></li>
</ul>
</li>
<li>Once CAM software is downloaded, un-zipped, un-tarred or what have you, change directories to HostSoftwareCD_6.9.0.16/components and install the jdk available there:
<ul>
<li><code>rpm -Uvh jdk-6u20-linux-i586.rpm</code></li>
</ul>
</li>
<li>Next run the RunMe.bin file in the HostSoftwareCD_6.9.0.16 folder
<ul>
<li><code>./RunMe.bin -c</code></li>
</ul>
</li>
<li>Agree to all License Agreement stuffs</li>
<li>Select the Typical install.</li>
</ul>
</li>
<li>Add the <code>/opt/sun/cam/bin</code>folder to path
<ul>
<li>With root using tcsh add this to .tcshrc
<ul>
<li><code>setenv PATH ${PATH}:/opt/sun/cam/bin</code></li>
</ul>
</li>
<li>Then do <code>source .tcshrc</code></li>
</ul>
</li>
<li>Make sure there is an IP on the same subnet as the array (192.168.128.xxx)
<ul>
<li>Make a <code>/etc/sysconfig/network-scripts/ifcfg-eth1:1</code>file and put this in there
<ul>
<li>
<div>DEVICE=“eth1:1”<br />
BOOTPROTO=static<br />
HWADDR=“xx:xx:xx:xx:xx:xx:xx”<br />
IPADDR=192.168.128.xxx<br />
NM_CONTROLLED=“no”<br />
ONBOOT=“yes”</div>
</li>
</ul>
</li>
<li>Install the RAID Proxy Agent package located in the Add_On/RaidArrayProxy directory of the latest CAM software distribution. (I found this to be optional.)
<ul>
<li><code>rpm -ivh SMruntime.xx.xx.xx.xx-xxxx.rpm</code></li>
<li><code>rpm -ivh SMagent-LINUX-xx.xx.xx.xx-xxxx.rpm</code></li>
</ul>
</li>
</ul>
</li>
<li>Register the StorageTek with the host. Process can take several minutes.
<ul>
<li><code>sscs register -d storage-system</code></li>
</ul>
</li>
<li>Once registered, you can name the array anything you want. Note what the array is named from the previous step.</li>
</ul>
<ul>
<li><code>sscs modify -T [Array-Name] array ARRAY1</code></li>
</ul>
<li>Set up the storage profile, pool, disk, volume, mapping. Use the command line commands below, or set it up via the web interface. NOTE: This part only needs to be done on one of the hosts.
<ul>
<li>If using the web interface, you have to use a windows laptop hooked up to the local network (192.168.128.xxx), or perhaps a server in the same local network that is not running CentOS 6, which has a known issue where the web interface does not work. For the web interface connect to https://localhost:6789 using the laptop or server Administrator/root account information.</li>
<li><code>sscs create -a knox pool [Pool-Name]<br />
</code></li>
<li><code>sscs create -a knox -p [Pool-Name] -n 11 vdisk [Vdisk-Name]<br />
</code></li>
<li><code>sscs create -a knox -p [Pool-Name] -s max -v [Vdisk-Name] volume [Volume-Name]</code></li>
</ul>
</li>
<li>Create the host group and apply to host.
<ul>
<li><code>sscs create -a knox hostgroup [ApacheHosts]</code></li>
</ul>
</li>
<li>Create hosts and assign to hostgroup
<ul>
<li><code>sscs create -a knox -g [ApacheHosts] host [Host-Name]</code> and repeat for other hosts.</li>
</ul>
</li>
<li>Map volume to host group
<ul>
<li><code>sscs map -a knox -g ApacheHosts volume Volume-Name<br />
</code></li>
</ul>
</li>
<li>The array volume should now be available as /dev/sdb and /dev/sdc because the hosts are connected by two SAS cables each.</li>
<p>It took me a while to grasp the meaning for the different terms: pool, volume, volume groups, disks, etc. I drew up a chart with the appropriate commands to create the different aspects.</p>
<p><a href="../../wp-content/uploads/2012/03/StorageTek2530-DiskSetup.jpg"><img loading="lazy" decoding="async" class="aligncenter size-large wp-image-1171" title="StorageTek2530-DiskSetup" src="../../wp-content/uploads/2012/03/StorageTek2530-DiskSetup-1024x441.jpg" alt="" width="620" height="267" srcset="https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-1024x441.jpg 1024w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-300x129.jpg 300w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-250x107.jpg 250w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-150x64.jpg 150w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup-624x268.jpg 624w, https://mossiso.com/wp-content/uploads/2012/03/StorageTek2530-DiskSetup.jpg 1290w" sizes="(max-width: 620px) 100vw, 620px" /></a></p>
<p>To utilize both cables connecting the server to the storage array, the OS needs to use multi-pathing. I had lots of troubles trying to set this up after the OS was installed, so I just let it be done by the installer. Here&#8217;s what should happen if you find the OS already installed and need to set up multi-paths.</p>
<p><a href="../../wp-content/uploads/2012/03/multipath-server3.png"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-1183" title="multipath-server3" src="../../wp-content/uploads/2012/03/multipath-server3.png" alt="" width="306" height="323" srcset="https://mossiso.com/wp-content/uploads/2012/03/multipath-server3.png 306w, https://mossiso.com/wp-content/uploads/2012/03/multipath-server3-284x300.png 284w, https://mossiso.com/wp-content/uploads/2012/03/multipath-server3-250x263.png 250w, https://mossiso.com/wp-content/uploads/2012/03/multipath-server3-142x150.png 142w" sizes="(max-width: 306px) 100vw, 306px" /></a></p>
<ul>
<li>Set up DM-Multipath
<ul>
<li>NOTE: This is taken care of during the OS installation.</li>
<li>Multipath allows both SAS connections to the storage array to appear as one connection to the server. This allows for data to pass through even if one cable suddenly stops working, it seamlessly fails to the other path. For example, taken the image above, if the connection between hba1-&gt;cntrlr1 goes down, you still have connection hba2-&gt;cntrlr2. The OS sees one connection, and just uses whichever path is working.</li>
<li>After Multipath is set up, the storage array will be available as a device at <code>/dev/mapper/mpatha</code>. This will be the device to partition, format, and throw LVM on.</li>
<li>Install the multipath program and dependents
<ul>
<li><code>yum install device-mapper-multipath</code></li>
</ul>
</li>
<li>Run <code>mpathconf --enable</code> to create a default <code>/etc/multipath.conf</code>file or create one using the following:
<ul>
<li>
<div>#  multipath.conf written by anacondadefaults {<br />
user_friendly_names yes<br />
}<br />
blacklist {<br />
devnode “^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*”<br />
devnode “^hd[a-z]”<br />
devnode “^dcssblk[0-9]*”<br />
device {<br />
vendor “DGC”<br />
product “LUNZ”<br />
}<br />
device {<br />
vendor “IBM”<br />
product “S/390.*”<br />
}<br />
# don’t count normal SATA devices as multipaths<br />
device {<br />
vendor “ATA”<br />
}<br />
# don’t count 3ware devices as multipaths<br />
device {<br />
vendor “3ware”<br />
}<br />
device {<br />
vendor “AMCC”<br />
}<br />
# nor highpoint devices<br />
device {<br />
vendor “HPT”<br />
}<br />
wwid “3600508e000000000c9c1189277b84b05”<br />
device {<br />
vendor TEAC<br />
product DV-28E-V<br />
}<br />
wwid “*”<br />
}<br />
blacklist_exceptions {<br />
wwid “3600a0b80003abca4000007284f33c167”<br />
}<br />
multipaths {<br />
multipath {<br />
uid 0<br />
gid 0<br />
wwid “3600a0b80003abca4000007284f33c167”<br />
mode 0600<br />
}<br />
}</div>
</li>
</ul>
</li>
<li>Set multipathd to start on boot, and if not on, turn it on
<ul>
<li><code>chkconfig multipathd on</code></li>
<li><code>service multipathd start</code></li>
</ul>
</li>
</ul>
</li>
</ul>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../setting-up-a-hosting-environment-part-2-connecting-the-storage-array/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-03-09T16:56:00-05:00">9 March, 2012</time><time class="updated" datetime="2013-02-01T12:45:08-05:00">1 February, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/technical/setting-up-a-hosting-environment/index.html" rel="category tag">Setting up a Hosting Environment</a>, <a href="../../category/technical/index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/servers/index.html" rel="tag">servers</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1170 -->

<article id="post-1158" class="post-1158 post type-post status-publish format-standard has-post-thumbnail hentry category-setting-up-a-hosting-environment category-technical tag-servers">
	
	<a class="post-thumbnail" href="../../setting-up-a-hosting-environment-part-1-the-servers/index.html" aria-hidden="true">
		<img width="624" height="244" src="../../wp-content/uploads/2012/03/DSCN7152-copy-624x244.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Setting up a Hosting Environment: Part 1 &#8211; The servers" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/03/DSCN7152-copy-624x244.jpg 624w, https://mossiso.com/wp-content/uploads/2012/03/DSCN7152-copy-300x117.jpg 300w, https://mossiso.com/wp-content/uploads/2012/03/DSCN7152-copy-1024x400.jpg 1024w, https://mossiso.com/wp-content/uploads/2012/03/DSCN7152-copy-250x97.jpg 250w, https://mossiso.com/wp-content/uploads/2012/03/DSCN7152-copy-150x58.jpg 150w, https://mossiso.com/wp-content/uploads/2012/03/DSCN7152-copy.jpg 1281w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../setting-up-a-hosting-environment-part-1-the-servers/index.html" rel="bookmark">Setting up a Hosting Environment: Part 1 &#8211; The servers</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>I&#8217;ve spent a lot of time at work setting up a few servers to be our new production environment. Much of it was accomplished by reading the documentation over and over again. Not much out there on the Net, so I&#8217;m hoping this series of posts benefits someone else out there.</p>
<p>First of all, I&#8217;ll cover what set up I would like to achieve and why.</p>
<h4>Hardware</h4>
<p>I&#8217;m using two Sun SunFire X2100 M2 connected to a StorageTek 2530 with 4.5TB of drive space. The servers attach to the storage array via SCSI cables for quick data transfer speeds. The array also has the ability to handle iSCSI connections. This will give me a decent base set up, with room to grow.</p>
<h4>Set up</h4>
<p>I&#8217;ll put the two servers in a cluster and make the services available over the cluster. They will share the storage using GFS2. In the future, I&#8217;ll add a couple of load balancer/proxy machines to farm out the Web traffic, and add a couple more SunFire X2100 M2&#8217;s to take that load. One of the main reasons to set up a new configuration with new servers is to provide a clean environment for the many WordPress and Omeka installations we host. We&#8217;ve had to hang on to some legacy services to support some older projects, so this will allow us to keep up to date. It will also allow me to set up Apache and PHP to run as a server user, locked down to it&#8217;s own directory. That way each of the 100+ sites won&#8217;t be able to access any other site&#8217;s content. I picked CentOS as the OS because it has cluster and GFS2 options of RedHat, but without the cost.</p>
<p><a href="../../wp-content/uploads/2012/03/CHNMproduction.png"><img loading="lazy" decoding="async" class="size-full wp-image-1159 alignnone" title="CHNMproduction" src="../../wp-content/uploads/2012/03/CHNMproduction.png" alt="" width="525" height="647" srcset="https://mossiso.com/wp-content/uploads/2012/03/CHNMproduction.png 525w, https://mossiso.com/wp-content/uploads/2012/03/CHNMproduction-243x300.png 243w, https://mossiso.com/wp-content/uploads/2012/03/CHNMproduction-250x308.png 250w, https://mossiso.com/wp-content/uploads/2012/03/CHNMproduction-121x150.png 121w" sizes="(max-width: 525px) 100vw, 525px" /></a></p>
<h2>Sun X2100 M2 OS Install steps</h2>
<ol>
<li>Boot up with CentOS 6.x Minimal Install CD for x86_64</li>
<li>Select the option to ‘Install or upgrade an existing system’, then hit the Enter key</li>
<li>Skip the media test.</li>
<li>You are now in graphic install mode.</li>
<li>Hit Enter for ‘OK’ for ’English as the language.</li>
<li>Hit Enter for ‘OK’ to US keyboard.</li>
<li>Select the option to do a “Specialized Storage Devices” install</li>
<li>Enter the computer name ‘bill.com’ or ‘ted.com’, etc</li>
<li>Click the button to ‘Configure Network’.
<ol>
<li>Eth2 seems to be the one associated with port 0 on the servers, so select that one and then ‘Add’</li>
<li>Select ‘Connect Automatically’.</li>
<li>Click the ‘IPv4 Settings’ tab.</li>
<li>Choose ‘Manual’ for the ‘Method’.</li>
<li>Enter the following for the info in ‘Addresses’.
<ol>
<li>Address: 192.168.1.1</li>
<li>Netmask: 255.255.255.0</li>
<li>Gateway: 192.168.1.1</li>
</ol>
</li>
<li>For ‘DNS servers’, enter 192.168.1.100</li>
<li>Then ‘Apply’</li>
</ol>
</li>
<li>Select ‘Next’ to keep the defaults for time zone and system clock.</li>
<li>Enter a root password</li>
<li><strong>DRIVE PARTITION SETUP</strong>
<ol>
<li>On the ‘Basic Devices’ tab, select the local drive and on the ‘Multipath Devices’ tab, select the storage array, and click ‘Next’.</li>
<li>Select the ‘Fresh Installation’ option for a fresh install, or ‘Upgrade an Existing Installation’ to upgrade. Hit ‘Next’.</li>
<li>Select ‘Create custom layout.’ and ‘Next’</li>
<li>Delete all of the current LVM and other partitions.</li>
<li>Select the free remaining drive for the local drive (should be /dev/sda). Click ‘Create’</li>
<li><strong>BOOT PARTITION</strong>
<ol>
<li>Select ‘Standard Partition’ and click ‘Create’</li>
<li>Set the Mount Point as <code>/boot</code>, the File System Type as ‘ext4’ and the Size (MB) as 500, then click ‘OK’</li>
</ol>
</li>
<li>Select the free space and click ‘Create’</li>
<li><strong>LVM PARTITION</strong>(NOTE: The sizes are different based on the size of the hard drives.)
<ol>
<li>Select ‘LVM Physical Volume’ and click ‘Create’</li>
<li>Select ‘Fill to maximum allowable size’ and click ‘OK’</li>
<li>Select the new LVM partition and click ‘Create’</li>
<li>Select ‘LVM Volume Group’ and click ‘Create’</li>
<li>Set the ‘Volume Group Name’ as ‘Local’  then click the ‘Add’ button</li>
<li>Set the ‘File System Type’ as swap, the ‘Logical Volume Name’ as ‘swap’ and the ‘Size(MB)’ as ‘12288’, then click ‘OK’.</li>
<li>Click the ‘Add’ button again. Set the ‘Mount Point’ to ‘/’, the ‘File System Type’ to ext4, the ‘Logical Volume Name’ to ‘root’, and the ‘Size(MB)’ to ‘51200’. Then click ‘OK’.</li>
<li>Click the ‘Add’ button again. Set the ‘Mount Point’ to ‘/home’, the ‘File System Type’ to ext4, the ‘Logical Volume Name’ to ‘home’, and the ‘Size(MB)’ to ‘500’. Then click ‘OK’.</li>
<li>Click the ‘Add’ button again. Set the ‘Mount Point’ to ‘/var’, the ‘File System Type’ to ext4, the ‘Logical Volume Name’ to ‘var’, and the ‘Size(MB)’ to the remaining space available. Then click ‘OK’.</li>
<li>Click ‘OK’</li>
</ol>
</li>
<li>Click ‘Next’ and ‘Write changes to disk’ to finish the partition creation.</li>
</ol>
</li>
<li>Leave the boot loader settings as is, and click ‘Next’</li>
<li>Select the ‘Minimal’ option and click ‘Next’</li>
</ol>
<p>One of the most important things to have with servers is some form of remote management. That way you don&#8217;t need to trek down to the data center each time the server hangs while testing (and it happens a lot). For Sun systems, that means setting up the ELOM (Embedded Lights Out Manager).</p>
<h2>Steps to set up the Remote Console (Embedded Lights Out Manager – ELOM) for SunFire X2100 M2</h2>
<h3>Set the SP serial port rate to 115200.</h3>
<ul>
<li>Log into the web based console, or through ssh via a computer on the same subnet (https://192.168.1.10) The IP is whatever the IP is set for the ELOM device. Check in BIOS for the IP.
<ul>
<li>Go to the Configuration tab, then the Serial Port tab.</li>
<li>Change the Baud Rate to 115200.</li>
</ul>
</li>
</ul>
<h3>Set BIOS</h3>
<pre>IPMI Config
   Set LAN Config
   Set PEF Config
     PEF Support ........ [Enabled]
     PEF Action Global
        All of them ..... [Enabled]
     Alert Startup Discover ..... [Disabled]
     Startup Delay .............. [Disabled]
     Event Message For PEF ...... [Disabled]
   BMC Watch Dog Timer Action ... [Disabled]
   External Com Port ............ [BMC]
Remote Access
   Remote Access ................ [Serial]
   Serial Port Number ........... [Com2]
   Serial Port Mode ............. [115200 8,n,1]
   Flow Control ................. [Hardware]
   Post-Boot Support ............ [Always]
   Terminal Type ................ [VT100]
   VT-UTF8 Combo Key ............ [Enabled]</pre>
<ul>
<li>Other options for the Serial Port Mode are 9600, 19200, 38400, and 57600</li>
</ul>
<h3>Edit Linux Config Files</h3>
<h4>Add a /etc/init/serial-ttyS1.conf file</h4>
<p>RedHat in EL 6, and thereby CentOS, moved to Upstart instead of Sysv, so we create a new serial-ttyS1.conf file instead of editing the /etc/inittab file.</p>
<pre style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">#  This service maintains a getty on /dev/ttyS1.
stop on runlevel [016]

respawn
instance $TTY
exec /sbin/mingetty $TTY</pre>
<h4>Change grub.conf</h4>
<pre style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;"># grub.conf generated by anaconda
#
# Note that you do not have to rerun grub after making changes to this file
# NOTICE:  You have a /boot partition.  This means that
#          all kernel and initrd paths are relative to /boot/, eg.
#          root (hd0,0)
#          kernel /vmlinuz-version ro root=/dev/Logical/root
#          initrd /initrd-version.img
#boot=/dev/sda
default=0
timeout=5
#splashimage=(hd0,0)/grub/splash.xpm.gz
#hiddenmenu
serial --unit=0 --speed=115200 --word=8 --parity=no --stop=1
terminal --timeout=10 serial console

title CentOS Linux (2.6.32-71.29.1.el6.x86_64)
        root (hd0,0)
        kernel /vmlinuz-2.6.32-71.el6.x86_64 ro root=/dev/mapper/Local-root \
rd_LVM_LV=Local/root rd_LVM_LV=Local/swap rd_NO_LUKS rd_NO_MD rd_NO_DM \
console=tty1 console=ttyS1,115200n8
          initrd /initramfs-2.6.32-71.29.1.el6.x86_64.img</pre>
<h4>Add line to securetty</h4>
<pre style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">console
vc/1
vc/2
vc/3
vc/4
vc/5
vc/6
vc/7
vc/8
vc/9
vc/10
vc/11
tty1
tty2
tty3
tty4
tty5
tty6
tty7
tty8
tty9
tty10
tty11
ttyS1</pre>
<hr />
<h3>SUN SP Commands</h3>
<p>Connect to the ELOM by ssh into the IP address.<br />
<code>ssh root@192.168.xxx.xxx</code></p>
<ul>
<li>To power on the host, enter the following command:
<ul>
<li><code>set /SP/SystemInfo/CtrlInfo PowerCtrl=on</code></li>
</ul>
</li>
</ul>
<ul>
<li>To power off the host gracefully, enter the following command:
<ul>
<li><code>set /SP/SystemInfo/CtrlInfo PowerCtrl=gracefuloff</code></li>
</ul>
</li>
</ul>
<ul>
<li>To power off the host forcefully, enter the following command:
<ul>
<li><code>set /SP/SystemInfo/CtrlInfo PowerCtrl=forceoff</code></li>
</ul>
</li>
</ul>
<ul>
<li>To reset the host, enter the following command:
<ul>
<li><code>set /SP/SystemInfo/CtrlInfo PowerCtrl=reset</code></li>
</ul>
</li>
</ul>
<ul>
<li>To reboot and enter the BIOS automatically, enter the following command:
<ul>
<li><code>set /SP/SystemInfo/CtrlInfo BootCtrl=BIOSSetup</code></li>
</ul>
</li>
</ul>
<ul>
<li>To change the IP address for the ELOM, enter:
<ul>
<li><code>set /SP/AgentInfo IpAddress=xxx.xxx.xxx.xxx </code></li>
</ul>
</li>
</ul>
<ul>
<li>The default user name is <code>root</code>, and the default password is <code>changeme</code>.
<ul>
<li><code>set /SP/User/[username] Password=[password]</code></li>
</ul>
</li>
</ul>
<ul>
<li>To start a session on the server console, enter this command:
<ul>
<li><code>start /SP/AgentInfo/console</code></li>
<li>To revert to CLI once the console has been started, press <code>Esc-Shift-9</code> keys.</li>
</ul>
</li>
</ul>
<ul>
<li> To terminate a server console session started by another user, enter this command:
<ul>
<li><code>stop /SP/AgentInfo/console</code></li>
</ul>
</li>
</ul>
<p>Next we secure the new servers with some software updates and a firewall.</p>
<h2>Software Updates and installs:</h2>
<ol>
<li>Edit <code>/etc/resolve.conf</code></li>
<li>
<div>nameserver 192.168.1.100<br />
options single-request-reopen</p>
<ul>
<li>The last line <code>options single-request-reopen</code> takes care of slow SSH logins. See here <a href="https://stomp.colorado.edu/blog/blog/2011/06/29/on-rhel-6-ssh-dns-firewalls-and-slow-logins/">https://stomp.colorado.edu/blog/blog/2011/06/29/on-rhel-6-ssh-dns-firewalls-and-slow-logins/</a> and here <a href="http://www.linuxquestions.org/questions/showthread.php?p=4399340#post4399340">http://www.linuxquestions.org/questions/showthread.php?p=4399340#post4399340</a> for more info.</li>
</ul>
</div>
</li>
<li><code>yum install openssh-clients tcsh ksh bc rpm-build gcc gcc-c++ redhat-rpm-config acl gcc gnupg make vim-enhanced man wget which mlocate bzip2-devel libxml2-devel screen sudo parted gd-devel pam_passwdqc.x86_64 rsync zip xorg-x11-server-utils gettext</code></li>
<li>disable SELinux. Edit the <code>/etc/sysconfig/selinux</code> file and set <code>SELINUX=disabled</code>.
<ul>
<li>Change takes affect on next reboot.</li>
</ul>
</li>
<li>Add the following lines to the <code>/etc/vimrc</code>file:
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">set autoindent &#8221; auto indent after {<br />
set smartindent &#8221; same<br />
set shiftwidth=4 &#8221; number of space characters inserted for indentation<br />
set expandtab &#8221; inserts spaces instead of tabs<br />
set tabstop=4 &#8221; number of spaces the tab is.<br />
set pastetoggle=&lt;C-P&gt; &#8221; Ctrl-P toggles paste mode</div>
</li>
<li>Switch root shell to <code>tcsh</code>
<ul>
<li>Edit the <code>/etc/passwd</code>file to have root use tcsh<code>root:x:0:0:root:/root:/bin/tcsh</code></li>
<li>Edit the <code>.tcshrc</code>file in root’s home.
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">#  .tcshrc#  User specific aliases and functionsalias rm &#8216;rm -i&#8217;<br />
alias cp &#8216;cp -i&#8217;<br />
alias mv &#8216;mv -i&#8217;set prompt='[%n@%m %c]# &#8216;</p>
<p>setenv PATH ${PATH}:/opt/sun/cam/bin</p>
<p>#  Make command completion (TAB key) cycle through all possible choices<br />
#  (The default is to simply display a list of all choices when more than one<br />
#  match is available.)<br />
bindkey &#8220;^I&#8221; complete-word-fwd</p>
</div>
</li>
<li>Logout and back in for it to take affect.</li>
</ul>
</li>
<li>Edit <code>/etc/hosts</code>. Add a line with IP and domain name.
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">#  Do not remove the following line, or various programs<br />
#  that require network functionality will fail.<br />
127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4<br />
::1 localhost localhost.localdomain localhost6 localhost6.localdomain6#  External IPs<br />
192.168.1.1 bill.com<br />
192.168.1.2 ted.com192.168.1.3 domain.com # this needs to be an IP that the cluster server can manage#  Internal IPs<br />
192.168.1.11 bill.localdomain bill # notice the .localdomain, this is necessary for mysql later<br />
192.168.1.12 ted.localdomain ted othernode # this is bill&#8217;s hosts file. othernode would be on the bill line for ted&#8217;s hosts file.<br />
#  ServicePort IPs<br />
192.168.1.21 billsp # I like to have a short name to use to connect to the service port (ELOM)<br />
192.168.1.22 tedsp</p>
<p>#  Internal Services<br />
192.168.1.100 http.localdomain httpd.localdomain<br />
192.168.1.101 mysql.localdomain<br />
192.168.1.102 memcached.localdomain</p>
</div>
</li>
<li>Run <code>updatedb</code> to set up the <code>locate</code> database.</li>
<li>Edit password settings to allow for stricter control over passwords. This requires strong passwords or the use of passphrases.
<ul>
<li>Check here for updated info: <a href="http://www.nsa.gov/ia/guidance/security_configuration_guides/operating_systems.shtml#linux2">http://www.nsa.gov/ia/guidance/security_configuration_guides/operating_systems.shtml#linux2</a></li>
<li>Edit the <code>/etc/pam.d/system-auth</code>file. Change the line<code>password requisite pam_cracklib.so try_first_pass retry=3</code>to this<code>password requisite pam_passwdqc.so min=disabled,disabled,16,12,8</code></li>
</ul>
</li>
<li>[Optional] Firefox: <code>yum update</code>, and then a<code>yum install firefox xorg-x11-xauth xorg-x11-fonts-Type1</code>There will be more you’ll need too.
<ul>
<li>If you get this error: <code>process 702: D-Bus library appears to be incorrectly set up; failed to read machine uuid: Failed to open "/var/lib/dbus/machine-id": No such file or directory</code>. Then run the following command as root.
<ul>
<li><code>dbus-uuidgen &gt; /var/lib/dbus/machine-id</code></li>
</ul>
</li>
</ul>
</li>
<li>Set up ssh keys
<ul>
<li><code>ssh-keygen</code></li>
<li>Copy the id_rsa.pub file to the other node</li>
<li>Copy the contents of id_rsa.pub to <code>cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code></li>
<li>Double check permission on <code>authorized_keys</code> and <code>id_rsa</code> both set to <code>rw-------</code></li>
<li>You should now be able to log in from bill to ted (and vice versa) without a password.</li>
</ul>
</li>
</ol>
<pre></pre>
<h2>Shorewall</h2>
<ul>
<li>Yum Install:
<ul>
<li>Get EPEL repository. Visit <a href="http://fedoraproject.org/wiki/EPEL">http://fedoraproject.org/wiki/EPEL</a> to get the URL for the correct rpm. Something like: epel-release-6-5.noarch.rpm.</li>
<li>Copy that URL and run<code>rpm -Uvh http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-5.noarch.rpm</code>on the machine.</li>
<li>Edit the <code>/etc/yum.repos.d/epel.repo</code> file and set the first “enabled” line to equal 0. That disables yum from using the EPEL repo by default.</li>
<li>Install shorewall with yum.<code>yum --enablerepo=epel install shorewall</code></li>
</ul>
</li>
<li>Enable program to run by editing the <code>/etc/shorewall/shorewall.conf</code> file. Change the <code>STARTUP_ENABLED=NO</code>to<code>STARTUP_ENABLED=Yes</code></li>
<li>Edit the shorewall config files.</li>
<li>Edit the <code>/etc/shorewall/zones</code>file:
<ul>
<li>
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">#<br />
#  Shorewall version 4 – Zones File<br />
#<br />
#  For information about this file, type “man shorewall-zones”<br />
#<br />
#  The manpage is also online at<br />
#  http://www.shorewall.net/manpages/shorewall-zones.html<br />
#<br />
###############################################################################<br />
#ZONE TYPE OPTIONS IN OUT<br />
#  OPTIONS OPTIONSnet ipv4 # The big bad Internet<br />
loc ipv4 # Internal LAN<br />
fw firewall#LAST LINE – ADD YOUR ENTRIES ABOVE THIS ONE – DO NOT REMOVE#LAST LINE – ADD YOUR ENTRIES ABOVE THIS ONE – DO NOT REMOVE</div>
</li>
</ul>
</li>
<li>Edit the <code>/etc/shorewall/interfaces</code>file:
<ul>
<li>
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">#<br />
#  Shorewall version 4 – Interfaces File<br />
#<br />
#  For information about entries in this file, type “man shorewall-interfaces”<br />
#<br />
#  The manpage is also online at<br />
#  http://www.shorewall.net/manpages/shorewall-interfaces.html<br />
#<br />
###############################################################################<br />
#ZONE INTERFACE BROADCAST OPTIONS<br />
net eth2<br />
loc eth1</div>
</li>
</ul>
</li>
<li>Edit the <code>/etc/shorewall/policy</code>file:
<ul>
<li>
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">###############################################################################<br />
#SOURCE DEST POLICY LOG LIMIT: CONNLIMIT:<br />
#  LEVEL BURST MASK<br />
#  To/from internal lan<br />
fw loc ACCEPT<br />
loc fw ACCEPT<br />
#  To/from net<br />
fw net ACCEPT<br />
net all DROP info<br />
#<br />
#  THE FOLLOWING POLICY MUST BE LAST<br />
#<br />
all all REJECT info<br />
#LAST LINE — DO NOT REMOVE</div>
</li>
</ul>
</li>
<li>Edit the <code>/etc/shorewall/rules</code>file:
<ul>
<li>
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">######################################################################################<br />
#ACTION SOURCE DEST PROTO DEST SOURCE ORIGINAL<br />
#  PORT <acronym title="S">PORT</acronym> DEST<br />
#SECTION ESTABLISHED<br />
#SECTION RELATED<br />
SECTION NEWSECTION NEW#  Standard services<br />
#<br />
ACCEPT  net      fw      tcp     ssh<br />
ACCEPT  net      fw      tcp     80,443Ping/ACCEPT      net      fw</p>
<p>#LAST LINE — ADD YOUR ENTRIES BEFORE THIS ONE — DO NOT REMOVE</p>
</div>
</li>
</ul>
</li>
<li>Edit the <code>/etc/shorewall/routestopped</code>file:
<ul>
<li>
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">#<br />
#  Shorewall version 4 – Routestopped File<br />
#<br />
#  For information about entries in this file, type “man shorewall-routestopped”<br />
#<br />
#  The manpage is also online at<br />
#  http://www.shorewall.net/manpages/shorewall-routestopped.html<br />
#<br />
#  See http://shorewall.net/starting_and_stopping_shorewall.htm for additional<br />
#  information.<br />
#<br />
###############################################################################<br />
#INTERFACE <acronym title="S">HOST</acronym> OPTIONS PROTO DEST SOURCE<br />
#  <acronym title="S">PORT</acronym> <acronym title="S">PORT</acronym><br />
eth1     &#8211;<br />
eth2     &#8211;</div>
</li>
</ul>
</li>
<li>Set shorewall to start on reboots.<code>chkconfig shorewall on</code></li>
<li>Start shorewall:<code>service shorewall start</code></li>
</ul>
<p>The next part will be <a title="Setting up a Hosting Environment: Part 1 – The servers" href="http://mossiso.com/2012/03/01/setting-up-a-hosting-environment-part-1-the-servers.html">connecting the servers to the storage array</a>.</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../setting-up-a-hosting-environment-part-1-the-servers/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-03-01T16:00:57-05:00">1 March, 2012</time><time class="updated" datetime="2013-02-01T12:45:19-05:00">1 February, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/technical/setting-up-a-hosting-environment/index.html" rel="category tag">Setting up a Hosting Environment</a>, <a href="../../category/technical/index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/servers/index.html" rel="tag">servers</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1158 -->

<article id="post-1152" class="post-1152 post type-post status-publish format-standard has-post-thumbnail hentry category-academic category-dissertation category-history category-humanities category-methodology-history category-school-work tag-analogies tag-history-profession tag-memory tag-research-funding tag-scholarship tag-writing">
	
	<a class="post-thumbnail" href="../../writing-is-like-carving-in-stone/index.html" aria-hidden="true">
		<img width="624" height="243" src="../../wp-content/uploads/2012/02/1754283860_564840933e_z-624x243.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Writing is like carving in stone" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2012/02/1754283860_564840933e_z-624x243.jpg 624w, https://mossiso.com/wp-content/uploads/2012/02/1754283860_564840933e_z-300x117.jpg 300w, https://mossiso.com/wp-content/uploads/2012/02/1754283860_564840933e_z-250x97.jpg 250w, https://mossiso.com/wp-content/uploads/2012/02/1754283860_564840933e_z-150x58.jpg 150w, https://mossiso.com/wp-content/uploads/2012/02/1754283860_564840933e_z.jpg 640w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../writing-is-like-carving-in-stone/index.html" rel="bookmark">Writing is like carving in stone</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Cross posted at <a title="NaziTunnels.org" href="http://nazitunnels.org/2012/02/writing-is-like-chiseling-a-statue.html">NaziTunnels.org</a>.</p>
<h3>Like a block of stone</h3>
<p><a title="MAY 3. 2007: THE STONE IS WAITING by Akbar Simonse, on Flickr" href="http://www.flickr.com/photos/simeon_barkas/502043040/"><img loading="lazy" decoding="async" src="http://farm1.staticflickr.com/222/502043040_2be8463d8a_m.jpg" alt="MAY 3. 2007: THE STONE IS WAITING" width="240" height="194" /></a></p>
<p>I recently finished writing and rewriting and writing again the essays for several scholarship applications. It is probably a good thing, but that was the most time and effort I have ever spent writing three pages of text. I went through several revisions of each essay, had the wonderful Fulbright advisers at George Mason read and reread the essays, and even went to the vastly underused (by me anyways) campus writing center.</p>
<h3>Roughing it out</h3>
<p><a title="MAY 16. 2007 : DAY 14 by Akbar Simonse, on Flickr" href="http://www.flickr.com/photos/simeon_barkas/507181344/"><img loading="lazy" decoding="async" src="http://farm1.staticflickr.com/193/507181344_572d027046_m.jpg" alt="MAY 16. 2007 : DAY 14" width="240" height="178" /></a></p>
<p>My personal essay started out as being a little too personal, as in informal. At the writing center, I also realized that the opening paragraph was too negative. I wanted to show how as a child I deeply disliked school. In first and second grades, in order to avoid going to school I would often hide in the backyard or somewhere in the house, and generally make a big stink every morning. One time my mom drove me to school (two blocks away) and when we got there I jumped out of the car and ran off into the neighborhood for an hour or so. The rest of elementary school through high school was better; I did not put up as much of a stink, but I still did not like school. I was convinced that I would never have anything to do with school again once I graduated from high school. That&#8217;s how my essay started out, a general idea of what I wanted to write about. Like a big block of stone that I hacked away at.</p>
<h3>Adding Detail</h3>
<p><a title="MAY 22. 2007: DAY 20 by Akbar Simonse, on Flickr" href="http://www.flickr.com/photos/simeon_barkas/513546327/"><img loading="lazy" decoding="async" src="http://farm1.staticflickr.com/204/513546327_53d439b732_m.jpg" alt="MAY 22. 2007: DAY 20" width="177" height="240" /></a></p>
<p>I wanted to convey all of that in a couple of sentences, all to point to the irony that I am now pursuing the highest degree one can attain in school, and that I am still in school 16 years later, with another three years to go (I did have three years off in there, though). But the gal at the writing center was right. It was a bit too negative. Instead I focused on my strengths as an historian and my technical skills. This worked out much better, since this is one of the major focuses of the dissertation. Through this constant revision and insight from others my project started to take shape.</p>
<h3>Finishing<br />
<a title="FINISHED AND ON ITS PLACE by Akbar Simonse, on Flickr" href="http://www.flickr.com/photos/simeon_barkas/1754287634/"><img loading="lazy" decoding="async" src="http://farm3.staticflickr.com/2130/1754287634_b87cc656b6_m.jpg" alt="FINISHED AND ON ITS PLACE" width="179" height="240" /></a></h3>
<p>One of the other really neat things about spending so much effort on an essay (especially one about my dissertation research) is that I was really able to focus my arguments and tighten up my thoughts on what I hope to accomplish. Through this process of constant revision I realized three things that I wanted to focus on in my dissertation: the story of the underground dispersal projects; how the projects are memorialized or not, and what that says about <a href="http://en.wikipedia.org/wiki/Vergangenheitsbewältigung">Vergangenheitsbewältigung</a>; and an argument for the change in what is considered scholarship in the historical profession. Going through the constant revisions has changed my focus in some small ways from my original proposal in the dissertation prospectus, but that is to be expected. I feel that I now have a much more polished and obtainable goal.</p>
<p>All images courtesy of Akbar Simonse, who photographed Mark Rietmeijer sculpture. <a href="http://www.flickr.com/photos/simeon_barkas/sets/72157600224554402/">http://www.flickr.com/photos/simeon_barkas/sets/72157600224554402/</a></p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../writing-is-like-carving-in-stone/index.html" rel="bookmark"><time class="entry-date published" datetime="2012-02-29T20:49:07-05:00">29 February, 2012</time><time class="updated" datetime="2012-02-29T20:54:24-05:00">29 February, 2012</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/academic/index.html" rel="category tag">Academic</a>, <a href="../../category/academic/school-work/dissertation/index.html" rel="category tag">Dissertation</a>, <a href="../../category/academic/history/index.html" rel="category tag">History</a>, <a href="../../category/academic/humanities/index.html" rel="category tag">humanities</a>, <a href="../../category/academic/history/methodology-history/index.html" rel="category tag">Methodology</a>, <a href="../../category/academic/school-work/index.html" rel="category tag">School Work</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/analogies/index.html" rel="tag">Analogies</a>, <a href="../../tag/history-profession/index.html" rel="tag">history profession</a>, <a href="../../tag/memory/index.html" rel="tag">memory</a>, <a href="../../tag/research-funding/index.html" rel="tag">research funding</a>, <a href="../../tag/scholarship/index.html" rel="tag">scholarship</a>, <a href="../../tag/writing/index.html" rel="tag">writing</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1152 -->

<article id="post-1121" class="post-1121 post type-post status-publish format-standard has-post-thumbnail hentry category-technical tag-linux tag-servers tag-systems-administration">
	
	<a class="post-thumbnail" href="../../centos-6-idrac6-and-poweredge-r510/index.html" aria-hidden="true">
		<img width="624" height="220" src="../../wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.34.40-PM-624x220.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="CentOS 6, iDrac6 and PowerEdge R510" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.34.40-PM-624x220.png 624w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.34.40-PM-300x105.png 300w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.34.40-PM-1024x361.png 1024w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.34.40-PM-250x88.png 250w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.34.40-PM-150x52.png 150w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.34.40-PM.png 1254w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../centos-6-idrac6-and-poweredge-r510/index.html" rel="bookmark">CentOS 6, iDrac6 and PowerEdge R510</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<ol>
<li>RedHat changed an important part of their system with the upgrade from version 5 to 6. This affects CentOS which is the same thing, but rebranded.</li>
</ol>
<p>I was updating one server to use CentOS 6, and ran into this issue of setting up the iDRAC for remote console use. In previous versions, I would add a line to the /etc/inittab file. This is now unused. RedHat is favoring the &#8220;Upstart&#8221; system developed by and for Ubuntu. It starts services on request, rather than all at once.</p>
<p>So here is how I set up my Dell PowerEdge R510 with CentOS 6 to use the iDRAC6.</p>
<p>Info was taken from the <a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Migration_Planning_Guide/ch04s02.html" target="_blank">RedHat manual</a>, the <a href="http://support.dell.com/support/edocs/software/smdrac3/idrac/idrac11mono/en/ug/html/racugc3.htm#wp3869" target="_blank">Dell iDRAC manual</a>, and probably a bunch of other <a href="http://tldp.org/HOWTO/Remote-Serial-Console-HOWTO/" target="_blank">sites</a> that I googled for.</p>
<p>These steps are by no means comprehensive or detailed. I barely even know what&#8217;s going on myself, but it seems to work. It&#8217;s kind of cool to see a system boot up in your terminal. It&#8217;s like your terminal turns into a monitor connected to the server.</p>
<p><a href="../../wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.35.06-PM.png"><img loading="lazy" decoding="async" class="aligncenter size-medium wp-image-1123" title="Screen Shot 2011-10-17 at  Oct 17 1.35.06 PM" src="../../wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.35.06-PM-300x215.png" alt="" width="300" height="215" srcset="https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.35.06-PM-300x215.png 300w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.35.06-PM-250x179.png 250w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.35.06-PM-150x107.png 150w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.35.06-PM-624x448.png 624w, https://mossiso.com/wp-content/uploads/2011/10/Screen-Shot-2011-10-17-at-Oct-17-1.35.06-PM.png 639w" sizes="(max-width: 300px) 100vw, 300px" /></a></p>
<h3>Setting up the iDrac6</h3>
<h4>Edit BIOS</h4>
<ol>
<li>Boot the server.</li>
<li>Press <code>F2</code> to enter the BIOS setup utility during POST.</li>
<li>Scroll down and select Serial Communication by pressing <code>&lt;Enter&gt;</code>.</li>
<li>Set the Serial Communication screen options as follows:</li>
<ul>
<li><code>serial communication....On with serial redirection via com2</code></li>
<li>NOTE: You can set serial communication to &#8216;On with serial redirection via com1&#8217; as long as the serial port address field, serial device2, is set to com1, also.</li>
<li><code>serial port address....Serial device1 = com1, serial device2 = com2</code></li>
<li><code>external serial connector....Serial device 1</code></li>
<li><code>failsafe baud rate....57600</code></li>
<li><code>remote terminal type....vt100/vt220</code></li>
<li><code>redirection after boot....Enabled</code></li>
</ul>
<li>Save the changes and exit.</li>
</ol>
<h4>Edit iDRAC settings</h4>
<ol>
<li>Turn on or restart your system.</li>
<li>Press <code>&lt;Ctrl&gt;&lt;E&gt;</code> when prompted during POST. If your operating system begins to load before you press <code>&lt;Ctrl&gt;&lt;E&gt;</code>, allow the system to finish booting, and then restart your system and try again.</li>
<li>Configure the LOM.</li>
</ol>
<ol>
<li>Use the arrow keys to select LAN Parameters and press <code>&lt;Enter&gt;</code>. NIC Selection is displayed.</li>
<li>Use the arrow keys to select one of the following NIC modes:</li>
<ul>
<li>Dedicated — Select this option to enable the remote access device to utilize the dedicated network interface available on the iDRAC6 Enterprise. This interface is not shared with the host operating system and routes the management traffic to a separate physical network, enabling it to be separated from the application traffic. This option is available only if an iDRAC6 Enterprise is installed in the system. After you install the iDRAC6 Enterprise card, ensure that you change the NIC Selection to Dedicated. This can be done either through the iDRAC6 Configuration Utility, the iDRAC6 Web Interface, or through RACADM.</li>
</ul>
</ol>
<ul>
<li>Configure the network controller LAN parameters to use DHCP or a Static IP address source.</li>
</ul>
<ol>
<li>Using the down-arrow key, select LAN Parameters, and press <code>&lt;Enter&gt;</code>.</li>
<li>Using the up-arrow and down-arrow keys, select IP Address Source.</li>
<li>Using the right-arrow and left-arrow keys, select DHCP, Auto Config or Static.</li>
<li>If you selected Static, configure the Ethernet IP Address, Subnet Mask, and Default Gateway settings.</li>
<li>Press <code>&lt;Esc&gt;</code>.</li>
</ol>
<ul>
<li>Press <code>&lt;Esc&gt;</code>.</li>
<li>Select Save Changes and Exit.</li>
</ul>
<h4>Set up Linux OS (to do after OS is installed)</h4>
<ul>
<li>Configuring Linux for Serial Console Redirection During Boot</li>
<li>The following steps are specific to the Linux GRand Unified Bootloader (GRUB). Similar changes would be necessary if you use a different boot loader.</li>
<li><strong>NOTE:</strong> When you configure the client VT100 emulation window, set the window or application that is displaying the redirected console to 25 rows x 80 columns to ensure proper text display; otherwise, some text screens may be garbled.</li>
</ul>
<ol>
<li>Make a copy of the <code>/boot/grub/grub.conf</code>file as follows:<code>cp /boot/grub/grub.conf /boot/grub/grub.conf.orig</code></li>
<li>Edit the <code>/boot/grub/grub.conf</code> file as follows:</li>
</ol>
<ol>
<li>Locate the General Setting sections in the file and add the following two new lines:<code>serial --unit=0 --speed=57600</code><code>terminal --timeout=10 serial console</code></li>
<li>Append two options to the kernel line:<code>kernel ............. console=ttyS1,57600 console=tty1</code></li>
<li>If the /etc/grub.conf contains a splashimage directive, comment it out.Sample File: <code>/boot/grub/grub.conf</code>
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">#  grub.conf generated by anaconda<br />
#<br />
#  Note that you do not have to rerun grub after making changes to this file<br />
#  NOTICE: You have a /boot partition. This means that<br />
#  all kernel and initrd paths are relative to /boot/, eg.<br />
#  root (hd0,0)<br />
#  kernel /vmlinuz-version ro root=/dev/Logical1/LogVol00<br />
#  initrd /initrd-version.img<br />
#boot=/dev/sda<br />
default=0<br />
timeout=5<br />
<strong> #splashimage=(hd0,0)/grub/splash.xpm.gz</strong><br />
#hiddenmenu<br />
<strong>serial &#8211;unit=1 &#8211;speed=57600</strong><br />
<strong>terminal &#8211;timeout=5 console serial</strong>title CentOS (2.6.18-164.11.1.el5) SOL Redirection<br />
root (hd0,0)<br />
kernel /vmlinuz-2.6.18-164.11.1.el5 ro root=/dev/Logical1/LogVol00 <strong>console=tty1 console=ttyS1,57600</strong><br />
initrd /initrd-2.6.18-164.11.1.el5.img<br />
title CentOS (2.6.18-164.el5)<br />
root (hd0,0)<br />
kernel /vmlinuz-2.6.18-164.el5 ro root=/dev/Logical1/LogVol00<br />
initrd /initrd-2.6.18-164.el5.img</div>
</li>
</ol>
<h4>Enabling Login to the Console After Boot</h4>
<ol>
<li>Create a new <code>/etc/init/serial-ttyS1.conf</code>file.Sample File: <code>/etc/inittab</code>
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">#  This service maintains a getty on /dev/ttyS1.start on stopped rc RUNLEVEL=[2345]<br />
stop on starting runlevel [016]respawn<br />
exec /sbin/agetty -h -L 57600 ttyS1 vt102</div>
</li>
</ol>
<h4>Edit the file <code>/etc/securetty</code></h4>
<ol>
<li>Make a copy of the <code>/etc/securetty</code>file as follows:<code>cp /etc/securetty /etc/securetty.orig</code></li>
<li>Edit the file <code>/etc/securetty</code>as follows:Add a new line with the name of the serial tty for COM2:<code>ttyS1</code>Sample File: <code>/etc/securetty</code>
<div style="border: 1px solid; font-family: 'Courier New', Courier, monospace; color: #444; padding: 8px;">vc/1<br />
vc/2<br />
vc/3<br />
vc/4<br />
vc/5<br />
vc/6<br />
vc/7<br />
vc/8<br />
vc/9<br />
vc/10<br />
vc/11<br />
tty1<br />
tty2<br />
tty3<br />
tty4<br />
tty5<br />
tty6<br />
tty7<br />
tty8<br />
tty9<br />
tty10<br />
tty11<br />
*ttyS1*</div>
</li>
</ol>
<h2>Redirect the video output over ssh connections</h2>
<h3>Starting a Text Console Through SSH (Remote Access, SOL)</h3>
<p>To connect to the managed system text console, open an iDRAC6 command prompt (displayed through an SSH session):</p>
<p><code>ssh root@xxx.xxx.xxx.xxx</code></p>
<p>and type:</p>
<p><code>console com2</code></p>
<p>Only one <code>console com2</code> client is supported at a time. The <code>console -h com2</code> command displays the contents of the serial history buffer before waiting for input from the keyboard or new characters from the serial port.</p>
<p>To exit the console type these three keys: <code></code><code>&lt;Ctrl &gt;&lt;Shift &gt;\</code></p>
<p>The default (and maximum) size of the history buffer is 8192 characters. You can set this number to a smaller value using the command:</p>
<p><code>racadm config -g cfgSerial -o cfgSerialHistorySize &lt; number &gt;</code></p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../centos-6-idrac6-and-poweredge-r510/index.html" rel="bookmark"><time class="entry-date published" datetime="2011-10-17T13:39:00-04:00">17 October, 2011</time><time class="updated" datetime="2012-02-23T14:11:46-05:00">23 February, 2012</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/technical/index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/linux/index.html" rel="tag">linux</a>, <a href="../../tag/servers/index.html" rel="tag">servers</a>, <a href="../../tag/systems-administration/index.html" rel="tag">systems administration</a></span><span class="comments-link"><a href="../../centos-6-idrac6-and-poweredge-r510/index.html#comments">7 Comments<span class="screen-reader-text"> on CentOS 6, iDrac6 and PowerEdge R510</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1121 -->

<article id="post-1081" class="post-1081 post type-post status-publish format-standard has-post-thumbnail hentry category-coding category-technical tag-linux tag-servers tag-systems-administration">
	
	<a class="post-thumbnail" href="../../making-smf-static/index.html" aria-hidden="true">
		<img width="624" height="368" src="../../wp-content/uploads/2011/09/Screen-Shot-2011-09-27-at-Sep-27-10.18.02-AM-e1317133813359-624x368.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Making SMF static" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2011/09/Screen-Shot-2011-09-27-at-Sep-27-10.18.02-AM-e1317133813359-624x368.png 624w, https://mossiso.com/wp-content/uploads/2011/09/Screen-Shot-2011-09-27-at-Sep-27-10.18.02-AM-e1317133813359-300x177.png 300w, https://mossiso.com/wp-content/uploads/2011/09/Screen-Shot-2011-09-27-at-Sep-27-10.18.02-AM-e1317133813359-250x147.png 250w, https://mossiso.com/wp-content/uploads/2011/09/Screen-Shot-2011-09-27-at-Sep-27-10.18.02-AM-e1317133813359-150x88.png 150w, https://mossiso.com/wp-content/uploads/2011/09/Screen-Shot-2011-09-27-at-Sep-27-10.18.02-AM-e1317133813359.png 778w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../making-smf-static/index.html" rel="bookmark">Making SMF static</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p><a href="http://www.simplemachines.org/"><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-1113" title="frontpage_logo" src="../../wp-content/uploads/2011/09/frontpage_logo.png" alt="" width="486" height="65" srcset="https://mossiso.com/wp-content/uploads/2011/09/frontpage_logo.png 486w, https://mossiso.com/wp-content/uploads/2011/09/frontpage_logo-300x40.png 300w, https://mossiso.com/wp-content/uploads/2011/09/frontpage_logo-250x33.png 250w, https://mossiso.com/wp-content/uploads/2011/09/frontpage_logo-150x20.png 150w" sizes="(max-width: 486px) 100vw, 486px" /></a>We have a few legacy forums powered by the good software SMF (<a title="http://www.simplemachines.org/" href="http://www.simplemachines.org/">SimpleMachines Forum</a>). Like many of the WordPress installs, it&#8217;s a pain and a security risk to keep these up-to-date when they are no longer needed as content creation platforms. So, once again I need to convert a web app into static HTML pages. This process proved a bit harder than converting WordPress to static HTML.</p>
<h2><strong>Step 1: Upgrade</strong></h2>
<p>The first thing to do is update to the latest version. This ensures that if you need to turn this back into a dynamic site, it should hopefully be compatible with whatever the latest version is at that time.</p>
<h2><strong>Step 2: Make it public</strong></h2>
<p>Next, we&#8217;ll need to make it public to guests, so that wget has access to the pages.</p>
<p>Go to the Admin-&gt;Features and Options page and check the &#8220;Allow guests to browse the forum&#8221; box, then click save. Now we have to change the permissions on each board separately. Or with a bit of MySQL magic, we can change them all at once using the CONCAT operator. Open of phpMyAdmin, or something else of your choice. Before we mess with the data, make a copy of the table, just in case we totally hose it.</p>
<p>Browse to the &#8216;boards&#8217; table, and then to the SQL tab. We&#8217;re going to enter an SQL command that will pre-pend (that&#8217;s append but onto the front rather than the end) some data.</p>
<pre class="lang:mysql decode:true ">UPDATE boards SET member_groups=CONCAT('-1,', member_groups) WHERE 1</pre>
<p>&nbsp;</p>
<p>This will add a -1, to the beginning of each field, which makes the board viewable by guests. No need to log in, which means wget can scrape the pages and turn them into HTML.</p>
<h2><strong>Step 3: Edit Theme files</strong></h2>
<p>Now we get to play around with the theme files to get rid of forum specific items that we won&#8217;t need, like links to member info, the login, help, and search links, and anything else that we don&#8217;t want.</p>
<p>Here are some items to delete or alter, and the files I found them in for our home-made theme based off of an old default theme.</p>
<h4><strong>index.template.php</strong></h4>
<ul>
<li>Add a title</li>
<li>Get rid of date stamp</li>
<li>Get rid of the main menu (Home, Help, Search, Login, etc)</li>
</ul>
<h4>BoardIndex.template.php</h4>
<ul>
<li>Search for [&#8216;member&#8217;][&#8216;link&#8217;] and change it to [&#8216;member&#8217;][&#8216;name&#8217;] This will take out all links to member profile pages.</li>
</ul>
<h4>Display.template.php</h4>
<ul>
<li>Search for [&#8216;member&#8217;][&#8216;link&#8217;] and change it to [&#8216;member&#8217;][&#8216;name&#8217;] This will take out all links to member profile pages.</li>
<li>Get rid of the drop down menu to select pages.</li>
</ul>
<h4>MessageIndex.template.php</h4>
<ul>
<li>Search for [&#8216;member&#8217;][&#8216;link&#8217;] and change it to [&#8216;member&#8217;][&#8216;name&#8217;] This will take out all links to member profile pages.</li>
<li>Delete the &#8216;Jump to&#8217; drop-down box and the icons explaining post/board types</li>
</ul>
<h2><strong>Step 4: Fix the URLs</strong></h2>
<p>As it stands, SMF has some pretty ugly URLs. There are a couple of mods that I could never get to work. But editing a file and adding an .htaccess file seems to do the trick.</p>
<p>Open the Sources/QueryString.php file and look for the line like this:</p>
<pre class="lang:php decode:true ">$scripturl = $boardurl . '/index.php';</pre>
<p>and get rid of the /index.php</p>
<p>Now create a .htaccess file in the root of the forum (in the same folder as the Settings.php file). It should look similar to this:</p>
<pre class="lang:apache decode:true ">RewriteEngine On
RewriteBase /7tah/forum/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /7tah/forum/index.php [L]</pre>
<p>&nbsp;</p>
<h2>Step 5: Wget it</h2>
<p>Now we run wget on the command line to grab the pages.</p>
<pre class="lang:sh decode:true">wget --mirror -P static-forum -nH -np -p -k -E --cut-dirs=2 http://domain.com/path/forum/</pre>
<p>All of the static HTML files will now be located in a directory called static-forum.</p>
<h2>Step 6: Fix filenames</h2>
<p>Some filenames will be a bit broken. Specifically the style.css has an extra &#8220;?fin11&#8221; in the html files where the file is called. Also, it get&#8217;s name that way. So fix that by changing the name of the file to just style.css (it&#8217;s in your Theme directory). Then run this one-line command to search and replace throughout all of the static html files (run the command when you are in the static-forum directory.</p>
<pre class="lang:sh decode:true ">find . -name '*.html' -type f -exec perl -pi -e 's/style.css%3Ffin11/style.css/g' {} \;</pre>
<p>&nbsp;</p>
<p>This will look for all of the references to the style.css%3Ffin11 file and change them to style.css. Then the pretty colors and formatting will work. Just for clarification, the %3F is code for a question mark. It shows up as such in the HTML source when viewing from a browser, but is displayed as such in the actual code.</p>
<p>Don&#8217;t forget to change the the actual name of the css file to style.css.</p>
<h2>Step 7: Protect it</h2>
<p>Depending on  your needs, you may want to password protect your new static forum with an htaccess account. The good peoples at <a title="htaccess password tool" href="http://tools.dynamicdrive.com/password/" target="_blank">Dynamic Drive have an helpful tool</a> for making the two files necessary to make this happen. Just plug in your desired user name, password, and location of the htpasswd file, and then it&#8217;s copy and paste into those files on the server.</p>
<p>I change the last line of the htaccess file to <code>require user username</code> so that it works only with the given user, not any valid. But since it only pulls from the specified htpasswd file, it&#8217;s kind of pointless.</p>
<h2>Step 8: Backup the old</h2>
<p>It&#8217;s a good idea to make a backup of the database and site files before getting rid of them. I just make a mysqldump of the database, throw it in the forum folder, and then make a tar or zip file of that and put the file in the new static forum folder for safe keeping.</p>
<h2>Step 9: That&#8217;s it.</h2>
<p>Sit back and relax. Your forum is interactive no longer.</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../making-smf-static/index.html" rel="bookmark"><time class="entry-date published" datetime="2011-09-27T10:28:10-04:00">27 September, 2011</time><time class="updated" datetime="2014-09-22T15:12:32-04:00">22 September, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/technical/coding/index.html" rel="category tag">Coding</a>, <a href="../../category/technical/index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/linux/index.html" rel="tag">linux</a>, <a href="../../tag/servers/index.html" rel="tag">servers</a>, <a href="../../tag/systems-administration/index.html" rel="tag">systems administration</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1081 -->

<article id="post-1072" class="post-1072 post type-post status-publish format-standard has-post-thumbnail hentry category-personal tag-family tag-gospel-of-jesus-christ tag-life-after-death">
	
	<a class="post-thumbnail" href="../../carl-edwin-shepherd-april-30-1949-august-8-2011/index.html" aria-hidden="true">
		<img width="624" height="416" src="../../wp-content/uploads/2011/09/3Generations-624x416.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Carl Edwin Shepherd &#8211; April 30, 1949 &#8211; August 8, 2011" decoding="async" loading="lazy" srcset="https://mossiso.com/wp-content/uploads/2011/09/3Generations-624x416.jpg 624w, https://mossiso.com/wp-content/uploads/2011/09/3Generations-300x200.jpg 300w, https://mossiso.com/wp-content/uploads/2011/09/3Generations-250x166.jpg 250w, https://mossiso.com/wp-content/uploads/2011/09/3Generations-150x100.jpg 150w, https://mossiso.com/wp-content/uploads/2011/09/3Generations.jpg 1024w" sizes="(max-width: 624px) 100vw, 624px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../carl-edwin-shepherd-april-30-1949-august-8-2011/index.html" rel="bookmark">Carl Edwin Shepherd &#8211; April 30, 1949 &#8211; August 8, 2011</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<figure id="attachment_1074" aria-describedby="caption-attachment-1074" style="width: 300px" class="wp-caption alignright"><a href="../../wp-content/uploads/2011/09/theFamily.jpg"><img loading="lazy" decoding="async" class="size-medium wp-image-1074" title="theFamily" src="../../wp-content/uploads/2011/09/theFamily-300x200.jpg" alt="" width="300" height="200" srcset="https://mossiso.com/wp-content/uploads/2011/09/theFamily-300x200.jpg 300w, https://mossiso.com/wp-content/uploads/2011/09/theFamily-250x166.jpg 250w, https://mossiso.com/wp-content/uploads/2011/09/theFamily-150x100.jpg 150w, https://mossiso.com/wp-content/uploads/2011/09/theFamily-624x416.jpg 624w, https://mossiso.com/wp-content/uploads/2011/09/theFamily.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1074" class="wp-caption-text">My parents and siblings in 2008</figcaption></figure>
<p>My dad passed away kind of unexpectedly a few weeks ago. He was diagnosed with liver cancer (although he never drank a drop of alcohol) about two years ago. At that time he was given a year or two to live. For the past year or so, he was in and out of the hospital for treatments and other health issues. We thought his last trip to the hospital was just another one of those in and out visits. He got <a href="http://www.ncbi.nlm.nih.gov/pubmedhealth/PMH0001858/">cellulitis</a>in July, and that severely dehidrated his body, which</p>
<p>started to shut down his kidneys. By the beginning of August he was in the hospital again, and there was nothing they could do for him. All of his seven children and their families came back to Mesa, Arizona as quickly as we could. Unfortunately, my dad passed away the night before I got there. When I learned that he died, it was the first time I had really cried since I was a kid.</p>
<p>The funeral and everything went very well. The friends from my parents Ward were awesome and supplied us with ample and very yummy food, so that we didn&#8217;t have to worry about feeding the 28 or so people that were always at my parents house. I was asked to give the life sketch of my dad at the funeral. It was not all inclusive, or even all that detailed, but it expresses what my dad was: a simple, humble, loving father and husband, who tried to do what was right.</p>
<p>Here&#8217;s the life sketch:</p>
<p><strong>Life Sketch of Carl Edwin Shepherd</strong></p>
<p>&nbsp;</p>
<p>Dad was born April 30, 1949 in Mesa, Arizona, to Max and Lois Shepherd.</p>
<p>He received his Eagle Scout award, graduated from Mesa High School, and served a mission to Southern Germany. His life “took a major change” after meeting a girl at a Church dance. After the first date he was “hooked for life”. Ed and Cathy were married on February 16<sup>th</sup>, 1973.</p>
<p>&nbsp;</p>
<p>He died August 8, 2011, in Mesa, Arizona. His father and a younger brother preceded him in death, and he left behind his mother, his wife, seven children and fourteen grandchildren.</p>
<p>&nbsp;</p>
<p>In between those dates and events the world was forever changed by the life and love of the great man we honor and remember today.</p>
<p>&nbsp;</p>
<p><strong>Life Protected</strong></p>
<p>My Dad’s life was protected, even from his earliest days. When he was still a baby, he was in his crib for a nap. His mother was visiting with a neighbor, when she felt the distinct impression to go check on him. She followed the impression and when she went to the crib, my dad’s head was wedged between the crib and mattress, and was already nearly strangled.</p>
<p>When two years old, he was putting on his sandals, and was bit by a scorpion. He was in convulsions by the time he got to the hospital, but was able to get treated and was only sick for several days.</p>
<p>Dad was protected in other ways as well. He had many experiences that helped him learn the truth and power of God, and the plan He had for my Dad. Once as boy, he was tempted to drink alcohol when he found a bottle of liquor on his way home from school. He purchased a Slurpee from the store, poured the liquor in and was about to take a drink when the cup flew from his hand. He felt impressed that if he ever took a drink he would never be able to put it down. This experience helped him live the Word of Wisdom through out his life.</p>
<p>As it says in D&amp;C 89: 21, “And I, the Lord, give unto them a promise, that the destroying angel shall pass by them, as the children of Israel, and not slay them. Amen.” On Dec 17, 1988, Dad’s arm got stuck in a lathe at work, and broke in four places above the elbow. “The Lord was watching over me that day,” he wrote in his journal, “because it would have been so easy for the lathe to have ripped my arm clear off or done far more damage than it did.”  Dad’s brother Paul, who worked at the same shop, remarked on how much of a miracle it was. The only way the machine would stop was for someone to push the off button. With Dad stuck in the lathe there was no time and he was in no position to have done it, but the machine stopped before any more damage could be done. The Lord was definitely there to help out. Charity recalled that it was a blessing in disguise for Dad to be home so much to help take care of Charity and get to know her better. Shortly after the accident, his father Max Shepherd, blessed him that he would “heal quicker than normal and that this would be a testament to his family because he had never used drugs, alcohol, tobacco and had kept his body clean.” Indeed, this was a testimony to his family. The destroying angel had passed him by on this and many other occasions. Even though Dad died of ill health, it was not the destroying angel that came to take him away but it was an angel of compassion and love.</p>
<p>&nbsp;</p>
<p><strong>Worthy Priesthood Holder</strong></p>
<figure id="attachment_1073" aria-describedby="caption-attachment-1073" style="width: 300px" class="wp-caption alignright"><a href="../../wp-content/uploads/2011/09/3Generations.jpg"><img loading="lazy" decoding="async" class="size-medium wp-image-1073" title="3Generations" src="../../wp-content/uploads/2011/09/3Generations-300x200.jpg" alt="" width="300" height="200" srcset="https://mossiso.com/wp-content/uploads/2011/09/3Generations-300x200.jpg 300w, https://mossiso.com/wp-content/uploads/2011/09/3Generations-250x166.jpg 250w, https://mossiso.com/wp-content/uploads/2011/09/3Generations-150x100.jpg 150w, https://mossiso.com/wp-content/uploads/2011/09/3Generations-624x416.jpg 624w, https://mossiso.com/wp-content/uploads/2011/09/3Generations.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /></a><figcaption id="caption-attachment-1073" class="wp-caption-text">Three generations. Asher shares his grandpa&#39;s birthday.</figcaption></figure>
<p>Dad emulated scriptures in many ways. My Dad was a humble servant and worthy priesthood holder, and surely one of the chosen of God. One of the great scriptures detailing the rights and responsibilities of the priesthood is found in D&amp;C 121: 40-44. “Hence many are called, but few are chosen. No power or influence can or ought to be maintained by virtue of the priesthood, only by persuasion, by long-suffering, by gentleness and meekness, and by love unfeigned; By kindness, and pure knowledge, which shall greatly enlarge the soul without hypocrisy, and without guile—Reproving betimes with sharpness, when moved upon by the Holy Ghost; and then showing forth afterwards an increase of love toward him whom thou hast reproved, lest he esteem thee to be his enemy; That he may know that thy faithfulness is stronger than the cords of death.” Of course I never needed reproving, but my siblings tell me this was my Dad’s way. J  Rarely would he yell, and then usually at the situation and not the individual. Ben remembers many times where Dad exemplified this eternal priesthood pattern, especially after Ben learned that our suburban was not only good for carrying people but for mud bogging, jumping out of retention basins, and all manner of shenanigans. After one such occasion the car would not start. My Dad found the problem, then asked Ben to come out to the car. Instead of yelling or getting mad, my Dad showed Ben how to clean the mud from the starter and get the car working again. He ended with his expression of love for Ben. Such was the pattern over and over again. Dad was quick with reprove, by story or explanation, and followed up with a show of love.</p>
<p>When Aaron was pre-school aged, he found a drill in the back yard that Dad had borrowed from our Grandpa. He started drilling holes in the dirt. After a few minutes Dad came out, asked him to stop, then went back inside. After he left, Aaron promptly forgot, and started drilling again. Dad came out and again asked him to stop. As soon as Dad went back inside, Aaron started drilling again. For the third time Dad came out. Aaron knew he was in trouble and expected it. Dad patiently picked up Aaron, brought him into the living room and sat him on the couch. He told Aaron he loved him, and then went back to what he was doing.</p>
<p>Dad reproved with sharpness at times, but always let us know that he loved us, and we know undeniably that his faithfulness is stronger than death.</p>
<p>&nbsp;</p>
<p>Dad loved serving in the Church. He had many callings, but the ones he wrote most of were the ones where he got to serve others the most, such as being a Stake Missionary, a Teachers Quorum Advisor while my brother Aaron and I were Teachers, and the Stake calling to be in charge of our building. I have many fond memories of helping him get the Stake Center satellite and recording equipment ready for General Conference. Two special times were right before my mission and right after. I could tell my Dad honored and sustained the Prophet and Apostles by his dedicated service in the Church. He taught all of us boys the “right way” to help with chairs at any Church function. 10 in a row, all facing the same way, evenly stacked on each side of the cultural hall.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>Dad’s love</strong></p>
<p>Dad showed us love in so many ways. In a letter he wrote to Ben after his mission, he expressed the need for people to be shown love in different ways. “Consider the needs of each child separately, for just as adults are different, each child is different also. Each must be treated different. There are huggers and tell me but touch me nots. Some will learn from a lecture or a story, others need a more physical approach. Each needs to know that you truly love them for who they are, children of God on loan to two other children who have a few more minutes of experience.”</p>
<p>Even after getting up really early, and doing demanding physical work during the day, Dad would sing us to bed, or read us stories like the Hobbit and the Lord of the Ring trilogy.</p>
<p>Dad was so excited when Charity made the Cheerleading team. “Great!” he said, “I get to go to all the football games… to see you of course.”</p>
<p>Dad was always building stuff for us: a big fort in the back yard (he kept it a surprise by telling us it was a show case for his prize elk rack). He built a loft bed for our room (this was especially memorable for me, I even cried the day the family took it out). He built a couch to store our year supply, and an entertainment center out of a piano crate. He built rocking horses, and wooden guns.</p>
<p>Dad would make dinner everyday while Mom was giving piano lessons, and he would open the car door for Mom. On the occasions when he was home for breakfast, he would make pancakes or waffles with strawberries and whipped cream. These examples have become natural for his own sons, as they emulate his good example of service and love to his family.</p>
<p>More recently, when we would visit for Christmas, if ever we mentioned we needed something (like baby food), the next day there would be a month supply.</p>
<p>&nbsp;</p>
<p><strong>Remembrances</strong></p>
<p>We’ll always remember you Dad. Your collection of suspenders. Your garden and other yard projects. Your collecting quarters. Trips to the desert for picnics and shooting guns, and your amazing knowledge of plant life, wildlife and geology. The vast amounts of seemingly trivial trivia. If only we could have convinced you to be on Jeopardy, Ken Jennings would have met his match. We’ll miss your wonderful tenor singing. We’ll miss your cooking. Most of all we’ll miss your love and companionship.</p>
<p>&nbsp;</p>
<p>This is but a sad temporary parting, for our hope in eternal life and the beautiful plan of salvation made possible by our loving and merciful Savoir, allows us to hope for a better day, when we will all be reunited and have eternal life with God our Father and His Son Jesus Christ, whom we can all seek to emulate.</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../carl-edwin-shepherd-april-30-1949-august-8-2011/index.html" rel="bookmark"><time class="entry-date published" datetime="2011-09-02T12:12:36-04:00">2 September, 2011</time><time class="updated" datetime="2011-10-17T14:13:45-04:00">17 October, 2011</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../category/personal/index.html" rel="category tag">Personal</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../tag/family/index.html" rel="tag">family</a>, <a href="../../tag/gospel-of-jesus-christ/index.html" rel="tag">Gospel of Jesus Christ</a>, <a href="../../tag/life-after-death/index.html" rel="tag">life after death</a></span><span class="comments-link"><a href="../../carl-edwin-shepherd-april-30-1949-august-8-2011/index.html#comments">1 Comment<span class="screen-reader-text"> on Carl Edwin Shepherd &#8211; April 30, 1949 &#8211; August 8, 2011</span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-1072 -->

	<nav class="navigation pagination" aria-label="Posts">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><a class="prev page-numbers" href="../3/index.html">Previous page</a>
<a class="page-numbers" href="../../index.html"><span class="meta-nav screen-reader-text">Page </span>1</a>
<span class="page-numbers dots">&hellip;</span>
<a class="page-numbers" href="../3/index.html"><span class="meta-nav screen-reader-text">Page </span>3</a>
<span aria-current="page" class="page-numbers current"><span class="meta-nav screen-reader-text">Page </span>4</span>
<a class="page-numbers" href="../5/index.html"><span class="meta-nav screen-reader-text">Page </span>5</a>
<span class="page-numbers dots">&hellip;</span>
<a class="page-numbers" href="../26/index.html"><span class="meta-nav screen-reader-text">Page </span>26</a>
<a class="next page-numbers" href="../5/index.html">Next page</a></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	</div><!-- .site-content -->

	<footer id="colophon" class="site-footer">
		<div class="site-info">
									<a href="https://wordpress.org/" class="imprint">
				Proudly powered by WordPress			</a>
		</div><!-- .site-info -->
	</footer><!-- .site-footer -->

</div><!-- .site -->

<script src="https://stats.wp.com/e-202432.js" id="jetpack-stats-js" data-wp-strategy="defer"></script>
<script id="jetpack-stats-js-after">
_stq = window._stq || [];
_stq.push([ "view", JSON.parse("{\"v\":\"ext\",\"blog\":\"140707563\",\"post\":\"0\",\"tz\":\"-4\",\"srv\":\"mossiso.com\",\"j\":\"1:13.1.3\"}") ]);
_stq.push([ "clickTrackerInit", "140707563", "0" ]);
</script>

</body>
</html>
