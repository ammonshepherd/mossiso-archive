<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="profile" href="https://gmpg.org/xfn/11">
	<link rel="pingback" href="https://mossiso.com/xmlrpc.php">
	<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Multiple PHP Instances With One Apache &#8211; Ammon Shepherd</title>
<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='https://stats.wp.com/' />
<link rel='dns-prefetch' href='https://v0.wordpress.com/' />
<link rel="alternate" type="application/rss+xml" title="Ammon Shepherd &raquo; Feed" href="../../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Ammon Shepherd &raquo; Comments Feed" href="../../../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Ammon Shepherd &raquo; Multiple PHP Instances With One Apache Comments Feed" href="feed/index.html" />
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/mossiso.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.6.1"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!n(e,"\ud83d\udc26\u200d\u2b1b","\ud83d\udc26\u200b\u2b1b")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<link rel='stylesheet' id='twentyfifteen-jetpack-css' href='../../../../wp-content/plugins/jetpack/modules/theme-tools/compat/twentyfifteen.css%3Fver=13.1.3.css' media='all' />
<style id='wp-emoji-styles-inline-css'>

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel='stylesheet' id='wp-block-library-css' href='../../../../wp-includes/css/dist/block-library/style.min.css%3Fver=6.6.1.css' media='all' />
<style id='wp-block-library-inline-css'>
.has-text-align-justify{text-align:justify;}
</style>
<style id='wp-block-library-theme-inline-css'>
.wp-block-audio :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio :where(figcaption){color:#ffffffa6}.wp-block-audio{margin:0 0 1em}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed :where(figcaption){color:#ffffffa6}.wp-block-embed{margin:0 0 1em}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:#ffffffa6}:root :where(.wp-block-image figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme :root :where(.wp-block-image figcaption){color:#ffffffa6}.wp-block-image{margin:0 0 1em}.wp-block-pullquote{border-bottom:4px solid;border-top:4px solid;color:currentColor;margin-bottom:1.75em}.wp-block-pullquote cite,.wp-block-pullquote footer,.wp-block-pullquote__citation{color:currentColor;font-size:.8125em;font-style:normal;text-transform:uppercase}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;font-style:normal;position:relative}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote.is-style-plain{border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-search__button{border:1px solid #ccc;padding:.375em .625em}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table{margin:0 0 1em}.wp-block-table td,.wp-block-table th{word-break:normal}.wp-block-table :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table :where(figcaption){color:#ffffffa6}.wp-block-video :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video :where(figcaption){color:#ffffffa6}.wp-block-video{margin:0 0 1em}:root :where(.wp-block-template-part.has-background){margin-bottom:0;margin-top:0;padding:1.25em 2.375em}
</style>
<link rel='stylesheet' id='mediaelement-css' href='../../../../wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css%3Fver=4.2.17.css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css' href='../../../../wp-includes/js/mediaelement/wp-mediaelement.min.css%3Fver=6.6.1.css' media='all' />
<style id='jetpack-sharing-buttons-style-inline-css'>
.jetpack-sharing-buttons__services-list{display:flex;flex-direction:row;flex-wrap:wrap;gap:0;list-style-type:none;margin:5px;padding:0}.jetpack-sharing-buttons__services-list.has-small-icon-size{font-size:12px}.jetpack-sharing-buttons__services-list.has-normal-icon-size{font-size:16px}.jetpack-sharing-buttons__services-list.has-large-icon-size{font-size:24px}.jetpack-sharing-buttons__services-list.has-huge-icon-size{font-size:36px}@media print{.jetpack-sharing-buttons__services-list{display:none!important}}ul.jetpack-sharing-buttons__services-list.has-background{padding:1.25em 2.375em}
</style>
<style id='classic-theme-styles-inline-css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #fff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--dark-gray: #111;--wp--preset--color--light-gray: #f1f1f1;--wp--preset--color--yellow: #f4ca16;--wp--preset--color--dark-brown: #352712;--wp--preset--color--medium-pink: #e53b51;--wp--preset--color--light-pink: #ffe5d1;--wp--preset--color--dark-purple: #2e2256;--wp--preset--color--purple: #674970;--wp--preset--color--blue-gray: #22313f;--wp--preset--color--bright-blue: #55c3dc;--wp--preset--color--light-blue: #e9f2f9;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--gradient--dark-gray-gradient-gradient: linear-gradient(90deg, rgba(17,17,17,1) 0%, rgba(42,42,42,1) 100%);--wp--preset--gradient--light-gray-gradient: linear-gradient(90deg, rgba(241,241,241,1) 0%, rgba(215,215,215,1) 100%);--wp--preset--gradient--white-gradient: linear-gradient(90deg, rgba(255,255,255,1) 0%, rgba(230,230,230,1) 100%);--wp--preset--gradient--yellow-gradient: linear-gradient(90deg, rgba(244,202,22,1) 0%, rgba(205,168,10,1) 100%);--wp--preset--gradient--dark-brown-gradient: linear-gradient(90deg, rgba(53,39,18,1) 0%, rgba(91,67,31,1) 100%);--wp--preset--gradient--medium-pink-gradient: linear-gradient(90deg, rgba(229,59,81,1) 0%, rgba(209,28,51,1) 100%);--wp--preset--gradient--light-pink-gradient: linear-gradient(90deg, rgba(255,229,209,1) 0%, rgba(255,200,158,1) 100%);--wp--preset--gradient--dark-purple-gradient: linear-gradient(90deg, rgba(46,34,86,1) 0%, rgba(66,48,123,1) 100%);--wp--preset--gradient--purple-gradient: linear-gradient(90deg, rgba(103,73,112,1) 0%, rgba(131,93,143,1) 100%);--wp--preset--gradient--blue-gray-gradient: linear-gradient(90deg, rgba(34,49,63,1) 0%, rgba(52,75,96,1) 100%);--wp--preset--gradient--bright-blue-gradient: linear-gradient(90deg, rgba(85,195,220,1) 0%, rgba(43,180,211,1) 100%);--wp--preset--gradient--light-blue-gradient: linear-gradient(90deg, rgba(233,242,249,1) 0%, rgba(193,218,238,1) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='twentyfifteen-fonts-css' href='../../../../wp-content/themes/twentyfifteen/assets/fonts/noto-sans-plus-noto-serif-plus-inconsolata.css%3Fver=20230328.css' media='all' />
<link rel='stylesheet' id='genericons-css' href='../../../../wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css%3Fver=3.1.css' media='all' />
<link rel='stylesheet' id='twentyfifteen-style-css' href='../../../../wp-content/themes/twentyfifteen/style.css%3Fver=20231107.css' media='all' />
<link rel='stylesheet' id='twentyfifteen-block-style-css' href='../../../../wp-content/themes/twentyfifteen/css/blocks.css%3Fver=20230623.css' media='all' />
<link rel='stylesheet' id='jetpack_css-css' href='../../../../wp-content/plugins/jetpack/css/jetpack.css%3Fver=13.1.3.css' media='all' />
<link rel='stylesheet' id='sociable3-css' href='../../../../wp-content/plugins/sociable-30/sociable.css%3Fver=5.13.css' media='all' />
<script src="../../../../wp-includes/js/jquery/jquery.min.js%3Fver=3.7.1" id="jquery-core-js"></script>
<script src="../../../../wp-includes/js/jquery/jquery-migrate.min.js%3Fver=3.4.1" id="jquery-migrate-js"></script>
<script id="twentyfifteen-script-js-extra">
var screenReaderText = {"expand":"<span class=\"screen-reader-text\">expand child menu<\/span>","collapse":"<span class=\"screen-reader-text\">collapse child menu<\/span>"};
</script>
<script src="../../../../wp-content/themes/twentyfifteen/js/functions.js%3Fver=20221101" id="twentyfifteen-script-js" defer data-wp-strategy="defer"></script>
<link rel="https://api.w.org/" href="../../../../wp-json/index.html" /><link rel="alternate" title="JSON" type="application/json" href="../../../../wp-json/wp/v2/posts/311" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://mossiso.com/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 6.6.1" />
<link rel="canonical" href="../../../../multiple-php-instances-with-one-apache/index.html" />
<link rel='shortlink' href='https://wp.me/p9wosP-51' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="../../../../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fmossiso.com%252F2009%252F09%252F02%252Fmultiple-php-instances-with-one-apache%252F" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="../../../../wp-json/oembed/1.0/embed%3Furl=https:%252F%252Fmossiso.com%252F2009%252F09%252F02%252Fmultiple-php-instances-with-one-apache%252F&amp;format=xml" />
	<style>img#wpstats{display:none}</style>
		
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Multiple PHP Instances With One Apache" />
<meta property="og:url" content="https://mossiso.com/2009/09/02/multiple-php-instances-with-one-apache/" />
<meta property="og:description" content="&nbsp; Long-winded Introduction It took me a couple of days to figure this out due to lack of decent tutorials and not enough confidence in my Linux skills to build programs from source. I think I …" />
<meta property="article:published_time" content="2009-09-02T21:12:02+00:00" />
<meta property="article:modified_time" content="2013-02-01T18:55:55+00:00" />
<meta property="og:site_name" content="Ammon Shepherd" />
<meta property="og:image" content="https://mossiso.com/wp-content/uploads/2009/09/php-httpd-php.png" />
<meta property="og:image:width" content="700" />
<meta property="og:image:height" content="250" />
<meta property="og:image:alt" content="" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:text:title" content="Multiple PHP Instances With One Apache" />
<meta name="twitter:image" content="https://mossiso.com/wp-content/uploads/2009/09/php-httpd-php.png?w=640" />
<meta name="twitter:card" content="summary_large_image" />

<!-- End Jetpack Open Graph Tags -->
<link rel="icon" href="../../../../wp-content/uploads/2018/12/favicon-96x96.png" sizes="32x32" />
<link rel="icon" href="../../../../wp-content/uploads/2018/12/favicon-96x96.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../../../wp-content/uploads/2018/12/favicon-96x96.png" />
<meta name="msapplication-TileImage" content="https://mossiso.com/wp-content/uploads/2018/12/favicon-96x96.png" />
<style type="text/css" id="wp-custom-css">a {
	color:#BE1E23;
}</style></head>

<body class="post-template-default single single-post postid-311 single-format-standard wp-custom-logo wp-embed-responsive">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="../../../../multiple-php-instances-with-one-apache/index.html#content">
		Skip to content	</a>

	<div id="sidebar" class="sidebar">
		<header id="masthead" class="site-header">
			<div class="site-branding">
				<a href="../../../../index.html" class="custom-logo-link" rel="home"><img width="192" height="192" src="../../../../wp-content/uploads/2018/12/android-icon-192x192.png" class="custom-logo" alt="Ammon Shepherd" decoding="async" srcset="https://mossiso.com/wp-content/uploads/2018/12/android-icon-192x192.png 192w, https://mossiso.com/wp-content/uploads/2018/12/android-icon-192x192-150x150.png 150w" sizes="(max-width: 192px) 100vw, 192px" /></a>						<p class="site-title"><a href="../../../../index.html" rel="home">Ammon Shepherd</a></p>
												<p class="site-description">mossiso = more better</p>
										<button class="secondary-toggle">Menu and widgets</button>
			</div><!-- .site-branding -->
		</header><!-- .site-header -->

			<div id="secondary" class="secondary">

					<nav id="site-navigation" class="main-navigation">
				<div class="menu-newmain-container"><ul id="menu-newmain" class="nav-menu"><li id="menu-item-1768" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1768"><a href="../../../../about/index.html">About</a></li>
<li id="menu-item-1766" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1766"><a href="../../../../digital-projects/index.html">Digital Projects</a></li>
<li id="menu-item-1767" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1767"><a href="../../../../courses/index.html">Courses</a></li>
<li id="menu-item-1769" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1769"><a href="https://github.com/ammonshepherd">Code</a></li>
<li id="menu-item-1770" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1770"><a href="../../../../resume/index.html">CV</a></li>
</ul></div>			</nav><!-- .main-navigation -->
		
		
		
	</div><!-- .secondary -->

	</div><!-- .sidebar -->

	<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main">

		
<article id="post-311" class="post-311 post type-post status-publish format-standard has-post-thumbnail hentry category-coding category-howto category-technical tag-apache tag-bash-code tag-centos tag-httpd tag-lamp tag-mysql tag-php tag-tutorial">
	
		<div class="post-thumbnail">
			<img width="624" height="222" src="../../../../wp-content/uploads/2009/09/php-httpd-php-624x222.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" decoding="async" fetchpriority="high" srcset="https://mossiso.com/wp-content/uploads/2009/09/php-httpd-php-624x222.png 624w, https://mossiso.com/wp-content/uploads/2009/09/php-httpd-php-300x107.png 300w, https://mossiso.com/wp-content/uploads/2009/09/php-httpd-php-250x89.png 250w, https://mossiso.com/wp-content/uploads/2009/09/php-httpd-php-150x53.png 150w, https://mossiso.com/wp-content/uploads/2009/09/php-httpd-php.png 700w" sizes="(max-width: 624px) 100vw, 624px" />	</div><!-- .post-thumbnail -->

	
	<header class="entry-header">
		<h1 class="entry-title">Multiple PHP Instances With One Apache</h1>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>&nbsp;</p>
<h3>Long-winded Introduction</h3>
<p>It took me a couple of days to figure this out due to lack of decent tutorials and not enough confidence in my Linux skills to build programs from source. I think I have the hang of it now, and write this up with the intent on providing another, or the only, tutorial on setting up CentOS 5 with multiple instances of PHP using one Apache install. That being said, there are a number of good tutorials out there, just none of them explicitly for CentOS and some leave out some details that n00bs like me get confused about.</p>
<p><a href="http://www.aditus.nu/jpgraph/apache2suse10.php">PHP4 and PHP5 on SuSE 10.1</a> &#8211; This was by far the most helpful of the tutorials. Even though it was written for SuSE, it works almost straight across for CentOS.</p>
<p>There is also a great list of instructions in the comments on the php.net site under installing PHP for Apache 2.0 on Unix systems (see <a href="http://www.php.net/manual/en/install.unix.apache2.php#90478">http://www.php.net/manual/en/install.unix.apache2.php#90478</a>).</p>
<p>I found this one after I wrote up this tutorial at <a href="http://cuadradevelopment.com/blog/26/multiple-php-versions-with-apache-using-fastcgi-on-os-x/">http://cuadradevelopment.com</a>. It&#8217;s a bit different, but should work as well.</p>
<p>There are basically two different ways I could have done this. 1- run a single instance of Apache, and run one instance of PHP as a module, and other installs as CGI. 2- run several instances of Apache, each with it&#8217;s own instance of PHP as a module. I chose to do the first method for no particular reason. <a href="http://blog.dreamhosters.com/kbase/index.cgi?area=2933">Dreamhost</a> has a post about the good and bad with running PHP as CGI.</p>
<p>So basically, the steps are: 1. Set up Apache and have PHP install as a module. 2. Configure and make another instance of PHP to run as CGI. 3. Add a virtual host to Apache running under a different port to access the PHP as CGI.<br />
<span id="more-311"></span></p>
<h3>Set up Apache with PHP module</h3>
<p>So here&#8217;s what I did to get the basic Apache, PHP and MySQL working. This sets up the first PHP install to run as a module in Apache:</p>
<p>From a clean install of CentOS 5 (virtually no packages selected during initial install), I installed the following packages:</p>
<p><code>$ yum install gcc make subversion ImageMagick php php-cli php-common php-ldap php-mysql php-pdo php-pear php-devel bzip2-devel libxml2-devel mysql mysql-server mysql-devel mod_auth_mysql httpd httpd-manual</code></p>
<p>From there I needed to get PHP 5.2.x, so I did the following to get PHP, Apache, MySQL and PEAR all set up.</p>
<ol>
<li><strong>Step 1:</strong> GET PHP 5.2.x<br />
Check out instructions and packages here: <a href="http://blog.famillecollet.com/pages/Config-en">http://blog.famillecollet.com/pages/Config-en</a></p>
<pre>$ wget http://download.fedora.redhat.com/pub/epel/5/i386/epel-release-5-2.noarch.rpm
$ wget http://rpms.famillecollet.com/el5.i386/remi-release-5-4.el5.remi.noarch.rpm
$ rpm -Uvh remi-release-5<strong>.rpm epel-release-5</strong>.rpm
$ yum—enablerepo=remi update php-pear php</pre>
<p>Copy the /etc/php.ini file from the /etc/php.ini.default:</p>
<pre>$ cp /etc/php.ini.default /etc/php.ini</pre>
<p>Change the following lines:</p>
<ul>
<li>1. upload_max_filesize = 20M #line 573</li>
<li>2. mysql.default_socket =/path/to/mysql/mysql.sock #about line 736</li>
<li>3. mysqli.default_socket =/path/to/mysql/mysql.sock #about line 771</li>
</ul>
</li>
<li><strong>Step 2:</strong>Edit /etc/httpd/conf/httpd.conf by changing the following lines
<ul>
<li>1. Listen xxx.xxx.xxx.xxx:80 #line 134</li>
<li>2. ServerAdmin admin@email.org #line 251</li>
<li>3. ServerName somesite.org #line 265</li>
<li>4. DocumentRoot ”/path/to/htdocs” #line 282</li>
<li>5. &lt;Directory ”/path/to/htdocs”&gt; #line 307</li>
<li>6. AllowOverride All #line 328</li>
<li>7. DirectoryIndex index.php index.html index.html.var #line 392</li>
</ul>
</li>
<li><strong>Step 3:</strong> Create the /etc/my.cnf file for MySQL<br />
[code]</p>
<pre>[mysqld]
datadir=/path/to/mysql
socket=/path/to/mysql/mysql.sock
user=mysql
# Default to using old password format for compatibility with mysql 3.x
# clients (those using the mysqlclient10 compatibility package).
old_passwords=1

[client]
socket=/path/to/mysql/mysql.sock

[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid</pre>
<p>[/code]</li>
<li><strong>Step 4:</strong> Start apache and mysql and set them to start on boot up:<br />
<blockquote>
<pre>$ service httpd start
$ service mysqld start
$ chkconfig mysqld on
$ chkconfig httpd on</pre>
</blockquote>
</li>
<li><strong>Step 5:</strong> Set the MySQL password for root<br />
<blockquote>
<pre>$ mysqladmin -u root password ‘XXXXXX’</pre>
</blockquote>
</li>
<li><strong>Step 6:</strong> install Phing and other PEAR packages<br />
<blockquote>
<pre>$ pear channel-discover pear.phing.info
$ pear channel-discover pear.phpunit.de
$ pear install phing/phing
$ pear install PhpDocumentor
$ pear install XML_Beautifier
$ pear install PHPUnit
$ pecl install Xdebug</pre>
</blockquote>
</li>
</ol>
<h3>Configure second version of PHP</h3>
<p>From here we need to install a second version of PHP. Grab the version you want from <a href="http://www.php.net/releases/">http://www.php.net/releases/</a>, and stick that any where you want to (usually your root&#8217;s home directory is fine). I&#8217;m installing PHP 5.2.4, so I&#8217;ll use that in my examples.</p>
<p>Unpack the tarball and enter the directory it created.</p>
<pre>$ tar -xjf php-5.2.4.tar.bz2</pre>
<p>Now, you&#8217;ll need to determine which modules you need to install. For this part I used the steps from the php.net comment under &#8220;my approach for determining required modules&#8221; (copied here, without permission, but with lots of gratitude and full credit going to the author of the comment).</p>
<pre>my approach for determining required modules
------------------------------------
1. get the list of the modules
     $  php -m | grep -v -e Modules] -e ^$ &gt; php-default-modules

2. create the configure script
$  for i in $(cat php-default-modules); do echo -n "--with-$i "&gt;&gt; phpconfigure.sh ;done

     2.2 add #!/bin/bash to the top line, and ./configure to the second line.
          Each of the --with-* need to be on the second line.

3. run the configure script, and iterate through the "Configure script errors"
    section below until it completes properly

    $ ./phpconfigure.sh

4. at the end of the output, look for a notice of unknown options

     Notice: Following unknown configure options were used:
     --with-date
     --with-gum-disease

     Check './configure --help' for available options

5. as suggested, execute '$ ./configure --help' and correct the options. The
     "for" command above indiscriminately inserts "--with-" for all modules,
     but bundled modules may require "--enable-" instead, so mostly you'll
     be changing those. For modules that are enabled by default you'll need
     to remove the entry.

6. Add anything else you personally want or need. I like to add "--enable-safe-mode".</pre>
<p>After doing all of that, I had the following in phpconfigure.sh<br />
[code lang=&#8221;bash&#8221;]<br />
#!/bin/bash<br />
./configure &#8211;prefix=/usr/share/ &#8211;datadir=/usr/share/php &#8211;libdir=/usr/share &#8211;includedir=/usr/include &#8211;bindir=/usr/bin &#8211;enable-safe-mode &#8211;with-config-file-path=/etc/php542 &#8211;enable-force-cgi-redirect &#8211;enable-discard-path &#8211;with-bz2 &#8211;enable-calendar &#8211;with-curl &#8211;enable-dbase &#8211;enable-exif &#8211;enable-ftp &#8211;with-gettext &#8211;with-gmp &#8211;with-iconv &#8211;with-ldap &#8211;with-libxml-dir=/usr/lib/ &#8211;enable-mbstring &#8211;with-mime_magic &#8211;with-mysql &#8211;with-mysqli &#8211;with-openssl &#8211;enable-pcntl &#8211;with-pcre-dir=/usr/lib/ &#8211;with-pdo_mysql &#8211;with-pdo_sqlite &#8211;with-readline &#8211;enable-shmop &#8211;enable-sockets &#8211;with-SQLite &#8211;enable-wddx &#8211;with-xsl &#8211;enable-zip &#8211;with-zlib</p>
<p># Changes from what php -m spits out. You don&#8217;t need the info below in your phpconfigure.sh script<br />
#&#8211;enable-calendar<br />
#&#8211;with-ctype # default<br />
#&#8211;with-date # not found, default?<br />
#&#8211;enable-dbase<br />
#&#8211;with-dom # default<br />
#&#8211;enable-exif<br />
#&#8211;with-filter #default<br />
#&#8211;with-ftp<br />
#&#8211;with-hash #default<br />
#&#8211;with-json #default<br />
#&#8211;with-libxml-dir=/usr/lib/<br />
#&#8211;enable-mbstring<br />
#&#8211;with-memcache #not found, default?<br />
#&#8211;enable-pcntl<br />
#&#8211;with-pcre-dir=/usr/lib/<br />
#&#8211;with-PDO #taken care of with the pdo_mysql and pdo_sqlite<br />
#&#8211;with-Reflection #default<br />
#&#8211;with-session #default<br />
#&#8211;enable-shmop<br />
#&#8211;with-SimpleXML #default<br />
#&#8211;enable-sockets<br />
#&#8211;with-SPL #default<br />
#&#8211;with-standard #not found, is it SPL? default?<br />
#&#8211;with-tokenizer #default<br />
#&#8211;enable-wddx<br />
#&#8211;with-xdebug #not found, not needed<br />
#&#8211;with-xml #default<br />
#&#8211;with-xmlreader #default<br />
#&#8211;with-xmlwriter #default<br />
#&#8211;enable-zip<br />
#&#8211;with-Xdebug #not found, not needed</p>
<p>[/code]</p>
<p><strong>NOTE:</strong> make sure you do not include &#8216;&#8211;with-apxs2=/usr/sbin/apxs&#8217;. This is what installs PHP as an Apache module. Also, since you have the original PHP running, you can theoretically make a phpinfo file (with phpinfo() ) in it, and grab the configure entries from that, making sure to change &#8216;&#8211;with-config-file-path=/etc&#8217; &#8216;&#8211;with-config-file-scan-dir=/etc/php.d&#8217;</p>
<p>During the configure, you might run into some errors. Again from the php.net comment:</p>
<pre>Configure script errors
--------------------------------------------
In my experience, these errors have been due (with any software, PHP included) mostly to missing
development packages, which contain the libraries and headers needed to compile support for that
library's function into the application.

This becomes a process of:
-executing the ./configure script and looking at the error
-installing the devel package providing the resource referenced by the error (google using the error
     as search term as needed)
-repeat until the ./configure script makes it through without error

Upshot: identify the software referenced by the error, and install it.

Example
-----------
Example error:
     configure: error: Cannot find OpenSSL's
Example explanation
     configure is looking for a header (and probably a lot of other stuff) from a missing openssl package.
Example solution:
php-5.2.9]$sudo yum install openssl-devel</pre>
<p>The previous yum command should take care of most of those dependencies.</p>
<p>After the phpconfigure script runs without errors, then simply run</p>
<pre>$ make</pre>
<p>As the JpGraph tutorial explains, there is no need to run &#8220;make install&#8221;. Just simply copy the php-cgi executable to the proper place. We&#8217;ll get to that step shortly.</p>
<h3>Set up Apache VirtualHost and website directories</h3>
<p>Now you need to create two directories to handle the PHP as CGI. They can be virtually wherever, but should be in the same directory where you have the main html content. So if you set the path to the website data (in the httpd.conf) to /path/to/htdocs/, then you&#8217;ll need to make a /path/to/php524/ and a /path/to/php524-cgi/</p>
<pre>$ mkdir /path/to/php524/</pre>
<p>and</p>
<pre>$ mkdir /path/to/php524-cgi/</pre>
<p>After you have those directories, you can add the VirtualHost information to the Apache config (httpd.conf). I like to have a separate file for the VirtualHosts, so I added this to the end of the httpd.conf file.</p>
<pre>Include conf/XXXXX_vhosts.conf</pre>
<p>And to allow VirtualHosts, uncomment this line:</p>
<pre>NameVirtualHost *:80</pre>
<p>To allow Apache to listen on (or accept requests from) different ports besides the default 80, add another Listen line to the httpd.conf file:</p>
<pre>Listen XXX.XXX.XXX.XXX:8524</pre>
<p>I used port 8524 to correspond to version 5.2.4 of PHP</p>
<p>Now create the XXXXX_vhosts.conf file</p>
<p>[code lang=&#8221;bash&#8221;]<br />
#this doesn&#8217;t really seem to be needed, but it&#8217;s there<br />
NameVirtualHost *:8524</p>
<p># this is the original and runs the PHP as a module</p>
<p>DocumentRoot /path/to/htdocs/<br />
ServerName somesite.org</p>
<p>####### Add other Virtual Hosts below here #######</p>
<p># Setup PHP 5.2.4 on port 8524</p>
<p>DocumentRoot /path/to/php524/<br />
# We use a separate CGI directory<br />
ScriptAlias /cgi-bin/ /path/to/php524-cgi/</p>
<p># These are the two critical statements for this virtual<br />
# host. This activates PHP 5.2.4 as a CGI module<br />
Action php524-cgi /cgi-bin/php-cgi<br />
AddHandler php524-cgi .php5 .php</p>
<p>#Options None<br />
Options FollowSymLinks<br />
#AllowOverride None<br />
AllowOverride All<br />
Order allow,deny<br />
Allow from all<br />
# For good measure we also add recognition of PHP5 index<br />
DirectoryIndex index.html index.php index.php5</p>
<p>[/code]</p>
<p>Now, you need to copy the php-cgi binary/executable to the /path/to/php524-cgi/ directory. The php-cgi file is located in the file where you ran the configure and make for the new php install. So if you did all that in the /opt/php-5.2.4/ directory, the php-cgi will be located at /opt/php-5.2.4/sapi/cgi/php-cgi.</p>
<pre>$ cp /opt/php-5.2.4/sapi/cgi/php-cgi /path/to/php524-cgi/</pre>
<p>Finally, copy the php.ini file to the right place. And configure as needed.</p>
<pre>$ cp /opt/php-5.2.4/php.ini-dist /path/to/php524-cgi/php.ini</pre>
<p>Test the apache configs to make sure they work:</p>
<pre>$ /usr/sbin/apachectl configtest</pre>
<p>If that returns OK restart Apache.</p>
<pre>$ /etc/init.d/httpd graceful</pre>
<p>You can make a phpinfo page to test that it&#8217;s using the new PHP version.<br />
[code lang=&#8221;php&#8221;]<br />
&lt; ?php<br />
phpinfo();<br />
? &gt;<br />
[/code]<br />
Then check out your new site: http://somesite.org:8524/phpinfo.php</p>
<p>In order to get the different versions of PHP to interact with MySQL, you&#8217;ll have to use the URL on port 80 as the MySQL host. So, for example, in a WordPress install at http://somesite.org:8524/blog, the wp-config.php will have to have the following for the MySQL hostname:</p>
<pre>define('DB_HOST', 'dev.omeka.org');</pre>
<p>There is some issue with mod_rewrite on the different versions of PHP. I&#8217;ll replace this paragraph with a fix when I have one.<br />
UPDATE: 9/9/09 &#8211; I figured out how to get the .htaccess working for the <a href="http://omeka.org">Omeka</a> installs we were working with. I needed to change the AllowOverride lines in the vhost.conf (or httpd.conf) file from None, to All.</p>
<p>Well, there you go. Hope that&#8217;s enough detail to get you going.</p>
<div class='sociable'><div><span class='sociable-tagline'>Share and Enjoy:</span></div><ul><li><a rel="nofollow"   href="http://www.printfriendly.com/print/new?url=https%3A%2F%2Fmossiso.com%2F2009%2F09%2F02%2Fmultiple-php-instances-with-one-apache%2F" ><img decoding="async" src="../../../../wp-content/plugins/sociable-30/images/default/16/printfriendly.png" class="sociable-img sociable-hovers" title="Print" alt="Print" /></a></li><li><a rel="nofollow"   href="http://www.printfriendly.com/print/new?url=https%3A%2F%2Fmossiso.com%2F2009%2F09%2F02%2Fmultiple-php-instances-with-one-apache%2F" ><img decoding="async" src="../../../../wp-content/plugins/sociable-30/images/default/16/pdf.png" class="sociable-img sociable-hovers" title="PDF" alt="PDF" /></a></li><li><a rel="nofollow"   href="../../../../feed/index.html" ><img decoding="async" src="../../../../wp-content/plugins/sociable-30/images/default/16/rss.png" class="sociable-img sociable-hovers" title="RSS" alt="RSS" /></a></li></ul></div><h3 class='related_post_title'>Related Posts:</h3><ul class='related_post'><li><a href="../../../../tabledump/index.html" title="Tabledump">Tabledump</a></li><li><a href="../../../../docker-development-environment-for-everyone/index.html" title="Docker Development Environment for Everyone">Docker Development Environment for Everyone</a></li><li><a href="../../../../atop-apache-top-for-keeping-tabs-on-the-web-servers/index.html" title="Atop &#8211; Apache Top, for keeping tabs on the web servers">Atop &#8211; Apache Top, for keeping tabs on the web servers</a></li><li><a href="../../../../making-multiple-mysql-instances-on-one-server/index.html" title="Making Multiple MySQL Instances on One Server">Making Multiple MySQL Instances on One Server</a></li><li><a href="../../../../backing-up-mysql-with-replication-and-incremental-files-part-1/index.html" title="Backing up MySQL with Replication and Incremental Files &#8211; Part 1">Backing up MySQL with Replication and Incremental Files &#8211; Part 1</a></li></ul>	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="../../../../multiple-php-instances-with-one-apache/index.html" rel="bookmark"><time class="entry-date published" datetime="2009-09-02T15:12:02-04:00">2 September, 2009</time><time class="updated" datetime="2013-02-01T13:55:55-05:00">1 February, 2013</time></a></span><span class="byline"><span class="author vcard"><span class="screen-reader-text">Author </span><a class="url fn n" href="../../../../author/ammon/index.html">ammon</a></span></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="../../../../category/technical/coding/index.html" rel="category tag">Coding</a>, <a href="../../../../category/technical/howto/index.html" rel="category tag">HowTo</a>, <a href="../../../../category/technical/index.html" rel="category tag">Technical</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="../../../../tag/apache/index.html" rel="tag">apache</a>, <a href="../../../../tag/bash-code/index.html" rel="tag">bash code</a>, <a href="../../../../tag/centos/index.html" rel="tag">CentOS</a>, <a href="../../../../tag/httpd/index.html" rel="tag">httpd</a>, <a href="../../../../tag/lamp/index.html" rel="tag">LAMP</a>, <a href="../../../../tag/mysql/index.html" rel="tag">mysql</a>, <a href="../../../../tag/php/index.html" rel="tag">php</a>, <a href="../../../../tag/tutorial/index.html" rel="tag">tutorial</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-311 -->

<div id="comments" class="comments-area">

			<h2 class="comments-title">
			4 thoughts on &ldquo;Multiple PHP Instances With One Apache&rdquo;		</h2>

		
		<ol class="comment-list">
					<li id="comment-9090" class="comment even thread-even depth-1 parent">
			<article id="div-comment-9090" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/bd73e3c9b87430975c75bef9f0ddfe6e?s=56&#038;r=g' srcset='https://secure.gravatar.com/avatar/bd73e3c9b87430975c75bef9f0ddfe6e?s=112&#038;r=g 2x' class='avatar avatar-56 photo' height='56' width='56' decoding='async'/>						<b class="fn">Matt</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="../../../../multiple-php-instances-with-one-apache/index.html#comment-9090"><time datetime="2012-08-01T13:20:16-04:00">1 August, 2012 at 1:20 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I&#8217;m confused by the last part, your XXXXX_vhosts.conf file.  First, you don&#8217;t include the  opening and closing tags, shouldn&#8217;t these be in there somewhere?  Also, the directories you instructed to create were:</p>
<p>$ mkdir /path/to/php524/<br />
and<br />
$ mkdir /path/to/php524-cgi/</p>
<p>However I don&#8217;t see /path/to/php524-cgi/ used in your configuration directives?  Could you clarify?</p>
<p>Great article, thanks.<br />
Matt</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-9092" class="comment byuser comment-author-ammon bypostauthor odd alt depth-2">
			<article id="div-comment-9092" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/62a31b8ca5219ddd426f253e948848e8?s=56&#038;r=g' srcset='https://secure.gravatar.com/avatar/62a31b8ca5219ddd426f253e948848e8?s=112&#038;r=g 2x' class='avatar avatar-56 photo' height='56' width='56' decoding='async'/>						<b class="fn"><a href="../../../../index.html" class="url" rel="ugc">ammon</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="../../../../multiple-php-instances-with-one-apache/index.html#comment-9092"><time datetime="2012-08-01T13:47:36-04:00">1 August, 2012 at 1:47 pm</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Hi Matt,</p>
<p>Glad this helped.</p>
<p>Boy this was a long time ago. We don&#8217;t have this set up anymore, so I can&#8217;t go back and verify, but here&#8217;s my best guess as to what is up.</p>
<p>The opening and closing tags should be in there. I added them as I think they should go.</p>
<p>The ScriptAlias line should be the one pointing to /path/to/php524-cgi/.</p>
<p>Thanks for catching those issues. I updated the post with those changes.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-9759" class="comment even thread-odd thread-alt depth-1 parent">
			<article id="div-comment-9759" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/eb0f4ba95c1124fe39505ab2a880a407?s=56&#038;r=g' srcset='https://secure.gravatar.com/avatar/eb0f4ba95c1124fe39505ab2a880a407?s=112&#038;r=g 2x' class='avatar avatar-56 photo' height='56' width='56' loading='lazy' decoding='async'/>						<b class="fn">Justin</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="../../../../multiple-php-instances-with-one-apache/index.html#comment-9759"><time datetime="2012-10-06T11:23:08-04:00">6 October, 2012 at 11:23 am</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>This post comes up within the first five results for a number of Google searches I did while trying to figure out how to configure multiple instances / versions of PHP on a single Apache server. The article is extremely well written and was very helpful, but by the time I finished with the configuration you suggest, I was puzzled by one thing.</p>
<p>Why is it necessary to have the second instance run as CGI?</p>
<p>Since you&#8217;re declaring a separate Action and Handler (php524-cgi in your case), would it not be possible to have both versions of php compiled with apxs, and running as Apache modules?</p>
<p>Your handler, declared within the VirtualHost configuration, would direct Apache to use php524 for that particular Virtual Host, while another VirtualHost configuration would use the &#8216;default&#8217; php module &#8211; which I assume in the example you give would be PHP 5.2.0 but could just as easily be PHP 5.3.x or PHP 5.4.x</p>
<p>This would mean that it would be possible to run both instances as Apache modules and avoid the disadvantages associated with running PHP as CGI. Similarly, you could run both PHP versions as CGI and avoid the disadvantages of running as an Apache module &#8211; depending on your environment and what you&#8217;re trying to achieve.</p>
<p>Any thoughts on this?</p>
<p>I have yet to try this as my dev server now is operational with the configuration as suggested above, but I&#8217;d like to know if anyone has tried running two versions of PHP both as Apache modules.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-9760" class="comment byuser comment-author-ammon bypostauthor odd alt depth-2">
			<article id="div-comment-9760" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/62a31b8ca5219ddd426f253e948848e8?s=56&#038;r=g' srcset='https://secure.gravatar.com/avatar/62a31b8ca5219ddd426f253e948848e8?s=112&#038;r=g 2x' class='avatar avatar-56 photo' height='56' width='56' loading='lazy' decoding='async'/>						<b class="fn"><a href="../../../../index.html" class="url" rel="ugc">ammon</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="../../../../multiple-php-instances-with-one-apache/index.html#comment-9760"><time datetime="2012-10-06T11:36:43-04:00">6 October, 2012 at 11:36 am</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Great comment, Justin. I&#8217;m glad the tutorial was helpful. I think at the time I wanted to see how cgi and module would perform. I&#8217;m not sure if you can run PHP as two separate modules in Apache. I know multiple PHP as cgi is possible. I seem to remember Apache could only handle one PHP as module, but I bet it could be done with different PHP config and module files.</p>
<p>If anyone does figure that out, please post back your findings.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
		<p class="no-comments">Comments are closed.</p>
	
	
</div><!-- .comments-area -->

	<nav class="navigation post-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../../../../40th-anniversary-of-the-moon-landing/index.html" rel="prev"><span class="meta-nav" aria-hidden="true">Previous</span> <span class="screen-reader-text">Previous post:</span> <span class="post-title">40th anniversary of the moon landing</span></a></div><div class="nav-next"><a href="../../../../the-doctrine-of-christ/index.html" rel="next"><span class="meta-nav" aria-hidden="true">Next</span> <span class="screen-reader-text">Next post:</span> <span class="post-title">The Doctrine of Christ</span></a></div></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	</div><!-- .site-content -->

	<footer id="colophon" class="site-footer">
		<div class="site-info">
									<a href="https://wordpress.org/" class="imprint">
				Proudly powered by WordPress			</a>
		</div><!-- .site-info -->
	</footer><!-- .site-footer -->

</div><!-- .site -->

	<div style="display:none">
			<div class="grofile-hash-map-bd73e3c9b87430975c75bef9f0ddfe6e">
		</div>
		<div class="grofile-hash-map-62a31b8ca5219ddd426f253e948848e8">
		</div>
		<div class="grofile-hash-map-eb0f4ba95c1124fe39505ab2a880a407">
		</div>
		</div>
		<script src="https://stats.wp.com/e-202432.js" id="jetpack-stats-js" data-wp-strategy="defer"></script>
<script id="jetpack-stats-js-after">
_stq = window._stq || [];
_stq.push([ "view", JSON.parse("{\"v\":\"ext\",\"blog\":\"140707563\",\"post\":\"311\",\"tz\":\"-4\",\"srv\":\"mossiso.com\",\"j\":\"1:13.1.3\"}") ]);
_stq.push([ "clickTrackerInit", "140707563", "311" ]);
</script>

</body>
</html>
